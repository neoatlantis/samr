/*! For license information please see SAMRClientBrowser.js.LICENSE.txt */
(()=>{var e={9742:(e,t)=>{"use strict";t.byteLength=function(e){var t=c(e),r=t[0],n=t[1];return 3*(r+n)/4-n},t.toByteArray=function(e){var t,r,a=c(e),s=a[0],o=a[1],u=new i(function(e,t,r){return 3*(t+r)/4-r}(0,s,o)),f=0,h=o>0?s-4:s;for(r=0;r<h;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[f++]=t>>16&255,u[f++]=t>>8&255,u[f++]=255&t;return 2===o&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[f++]=255&t),1===o&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[f++]=t>>8&255,u[f++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,a=[],s=16383,o=0,c=n-i;o<c;o+=s)a.push(u(e,o,o+s>c?c:o+s));return 1===i?(t=e[n-1],a.push(r[t>>2]+r[t<<4&63]+"==")):2===i&&(t=(e[n-2]<<8)+e[n-1],a.push(r[t>>10]+r[t>>4&63]+r[t<<2&63]+"=")),a.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",s=0,o=a.length;s<o;++s)r[s]=a[s],n[a.charCodeAt(s)]=s;function c(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");return-1===r&&(r=t),[r,r===t?0:4-r%4]}function u(e,t,n){for(var i,a,s=[],o=t;o<n;o+=3)i=(e[o]<<16&16711680)+(e[o+1]<<8&65280)+(255&e[o+2]),s.push(r[(a=i)>>18&63]+r[a>>12&63]+r[a>>6&63]+r[63&a]);return s.join("")}n["-".charCodeAt(0)]=62,n["_".charCodeAt(0)]=63},8764:(e,t,r)=>{"use strict";const n=r(9742),i=r(645),a="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;t.Buffer=c,t.SlowBuffer=function(e){return+e!=e&&(e=0),c.alloc(+e)},t.INSPECT_MAX_BYTES=50;const s=2147483647;function o(e){if(e>s)throw new RangeError('The value "'+e+'" is invalid for option "size"');const t=new Uint8Array(e);return Object.setPrototypeOf(t,c.prototype),t}function c(e,t,r){if("number"==typeof e){if("string"==typeof t)throw new TypeError('The "string" argument must be of type string. Received type number');return h(e)}return u(e,t,r)}function u(e,t,r){if("string"==typeof e)return function(e,t){if("string"==typeof t&&""!==t||(t="utf8"),!c.isEncoding(t))throw new TypeError("Unknown encoding: "+t);const r=0|y(e,t);let n=o(r);const i=n.write(e,t);return i!==r&&(n=n.slice(0,i)),n}(e,t);if(ArrayBuffer.isView(e))return function(e){if(Y(e,Uint8Array)){const t=new Uint8Array(e);return d(t.buffer,t.byteOffset,t.byteLength)}return l(e)}(e);if(null==e)throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(Y(e,ArrayBuffer)||e&&Y(e.buffer,ArrayBuffer))return d(e,t,r);if("undefined"!=typeof SharedArrayBuffer&&(Y(e,SharedArrayBuffer)||e&&Y(e.buffer,SharedArrayBuffer)))return d(e,t,r);if("number"==typeof e)throw new TypeError('The "value" argument must not be of type number. Received type number');const n=e.valueOf&&e.valueOf();if(null!=n&&n!==e)return c.from(n,t,r);const i=function(e){if(c.isBuffer(e)){const t=0|p(e.length),r=o(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||Z(e.length)?o(0):l(e):"Buffer"===e.type&&Array.isArray(e.data)?l(e.data):void 0}(e);if(i)return i;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return c.from(e[Symbol.toPrimitive]("string"),t,r);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function f(e){if("number"!=typeof e)throw new TypeError('"size" argument must be of type number');if(e<0)throw new RangeError('The value "'+e+'" is invalid for option "size"')}function h(e){return f(e),o(e<0?0:0|p(e))}function l(e){const t=e.length<0?0:0|p(e.length),r=o(t);for(let n=0;n<t;n+=1)r[n]=255&e[n];return r}function d(e,t,r){if(t<0||e.byteLength<t)throw new RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw new RangeError('"length" is outside of buffer bounds');let n;return n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),Object.setPrototypeOf(n,c.prototype),n}function p(e){if(e>=s)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+s.toString(16)+" bytes");return 0|e}function y(e,t){if(c.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||Y(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);const r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;let i=!1;for(;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return $(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return V(e).length;default:if(i)return n?-1:$(e).length;t=(""+t).toLowerCase(),i=!0}}function b(e,t,r){let n=!1;if((void 0===t||t<0)&&(t=0),t>this.length)return"";if((void 0===r||r>this.length)&&(r=this.length),r<=0)return"";if((r>>>=0)<=(t>>>=0))return"";for(e||(e="utf8");;)switch(e){case"hex":return B(this,t,r);case"utf8":case"utf-8":return x(this,t,r);case"ascii":return C(this,t,r);case"latin1":case"binary":return M(this,t,r);case"base64":return E(this,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R(this,t,r);default:if(n)throw new TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),n=!0}}function g(e,t,r){const n=e[t];e[t]=e[r],e[r]=n}function m(e,t,r,n,i){if(0===e.length)return-1;if("string"==typeof r?(n=r,r=0):r>2147483647?r=2147483647:r<-2147483648&&(r=-2147483648),Z(r=+r)&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length){if(i)return-1;r=e.length-1}else if(r<0){if(!i)return-1;r=0}if("string"==typeof t&&(t=c.from(t,n)),c.isBuffer(t))return 0===t.length?-1:v(e,t,r,n,i);if("number"==typeof t)return t&=255,"function"==typeof Uint8Array.prototype.indexOf?i?Uint8Array.prototype.indexOf.call(e,t,r):Uint8Array.prototype.lastIndexOf.call(e,t,r):v(e,[t],r,n,i);throw new TypeError("val must be string, number or Buffer")}function v(e,t,r,n,i){let a,s=1,o=e.length,c=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return-1;s=2,o/=2,c/=2,r/=2}function u(e,t){return 1===s?e[t]:e.readUInt16BE(t*s)}if(i){let n=-1;for(a=r;a<o;a++)if(u(e,a)===u(t,-1===n?0:a-n)){if(-1===n&&(n=a),a-n+1===c)return n*s}else-1!==n&&(a-=a-n),n=-1}else for(r+c>o&&(r=o-c),a=r;a>=0;a--){let r=!0;for(let n=0;n<c;n++)if(u(e,a+n)!==u(t,n)){r=!1;break}if(r)return a}return-1}function w(e,t,r,n){r=Number(r)||0;const i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;const a=t.length;let s;for(n>a/2&&(n=a/2),s=0;s<n;++s){const n=parseInt(t.substr(2*s,2),16);if(Z(n))return s;e[r+s]=n}return s}function _(e,t,r,n){return G($(t,e.length-r),e,r,n)}function k(e,t,r,n){return G(function(e){const t=[];for(let r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}(t),e,r,n)}function A(e,t,r,n){return G(V(t),e,r,n)}function S(e,t,r,n){return G(function(e,t){let r,n,i;const a=[];for(let s=0;s<e.length&&!((t-=2)<0);++s)r=e.charCodeAt(s),n=r>>8,i=r%256,a.push(i),a.push(n);return a}(t,e.length-r),e,r,n)}function E(e,t,r){return 0===t&&r===e.length?n.fromByteArray(e):n.fromByteArray(e.slice(t,r))}function x(e,t,r){r=Math.min(e.length,r);const n=[];let i=t;for(;i<r;){const t=e[i];let a=null,s=t>239?4:t>223?3:t>191?2:1;if(i+s<=r){let r,n,o,c;switch(s){case 1:t<128&&(a=t);break;case 2:r=e[i+1],128==(192&r)&&(c=(31&t)<<6|63&r,c>127&&(a=c));break;case 3:r=e[i+1],n=e[i+2],128==(192&r)&&128==(192&n)&&(c=(15&t)<<12|(63&r)<<6|63&n,c>2047&&(c<55296||c>57343)&&(a=c));break;case 4:r=e[i+1],n=e[i+2],o=e[i+3],128==(192&r)&&128==(192&n)&&128==(192&o)&&(c=(15&t)<<18|(63&r)<<12|(63&n)<<6|63&o,c>65535&&c<1114112&&(a=c))}}null===a?(a=65533,s=1):a>65535&&(a-=65536,n.push(a>>>10&1023|55296),a=56320|1023&a),n.push(a),i+=s}return function(e){const t=e.length;if(t<=P)return String.fromCharCode.apply(String,e);let r="",n=0;for(;n<t;)r+=String.fromCharCode.apply(String,e.slice(n,n+=P));return r}(n)}t.kMaxLength=s,c.TYPED_ARRAY_SUPPORT=function(){try{const e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),c.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(c.prototype,"parent",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.buffer}}),Object.defineProperty(c.prototype,"offset",{enumerable:!0,get:function(){if(c.isBuffer(this))return this.byteOffset}}),c.poolSize=8192,c.from=function(e,t,r){return u(e,t,r)},Object.setPrototypeOf(c.prototype,Uint8Array.prototype),Object.setPrototypeOf(c,Uint8Array),c.alloc=function(e,t,r){return function(e,t,r){return f(e),e<=0?o(e):void 0!==t?"string"==typeof r?o(e).fill(t,r):o(e).fill(t):o(e)}(e,t,r)},c.allocUnsafe=function(e){return h(e)},c.allocUnsafeSlow=function(e){return h(e)},c.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==c.prototype},c.compare=function(e,t){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),Y(t,Uint8Array)&&(t=c.from(t,t.offset,t.byteLength)),!c.isBuffer(e)||!c.isBuffer(t))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;let r=e.length,n=t.length;for(let i=0,a=Math.min(r,n);i<a;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:n<r?1:0},c.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},c.concat=function(e,t){if(!Array.isArray(e))throw new TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return c.alloc(0);let r;if(void 0===t)for(t=0,r=0;r<e.length;++r)t+=e[r].length;const n=c.allocUnsafe(t);let i=0;for(r=0;r<e.length;++r){let t=e[r];if(Y(t,Uint8Array))i+t.length>n.length?(c.isBuffer(t)||(t=c.from(t)),t.copy(n,i)):Uint8Array.prototype.set.call(n,t,i);else{if(!c.isBuffer(t))throw new TypeError('"list" argument must be an Array of Buffers');t.copy(n,i)}i+=t.length}return n},c.byteLength=y,c.prototype._isBuffer=!0,c.prototype.swap16=function(){const e=this.length;if(e%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(let t=0;t<e;t+=2)g(this,t,t+1);return this},c.prototype.swap32=function(){const e=this.length;if(e%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(let t=0;t<e;t+=4)g(this,t,t+3),g(this,t+1,t+2);return this},c.prototype.swap64=function(){const e=this.length;if(e%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(let t=0;t<e;t+=8)g(this,t,t+7),g(this,t+1,t+6),g(this,t+2,t+5),g(this,t+3,t+4);return this},c.prototype.toString=function(){const e=this.length;return 0===e?"":0===arguments.length?x(this,0,e):b.apply(this,arguments)},c.prototype.toLocaleString=c.prototype.toString,c.prototype.equals=function(e){if(!c.isBuffer(e))throw new TypeError("Argument must be a Buffer");return this===e||0===c.compare(this,e)},c.prototype.inspect=function(){let e="";const r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},a&&(c.prototype[a]=c.prototype.inspect),c.prototype.compare=function(e,t,r,n,i){if(Y(e,Uint8Array)&&(e=c.from(e,e.offset,e.byteLength)),!c.isBuffer(e))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw new RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return-1;if(t>=r)return 1;if(this===e)return 0;let a=(i>>>=0)-(n>>>=0),s=(r>>>=0)-(t>>>=0);const o=Math.min(a,s),u=this.slice(n,i),f=e.slice(t,r);for(let e=0;e<o;++e)if(u[e]!==f[e]){a=u[e],s=f[e];break}return a<s?-1:s<a?1:0},c.prototype.includes=function(e,t,r){return-1!==this.indexOf(e,t,r)},c.prototype.indexOf=function(e,t,r){return m(this,e,t,r,!0)},c.prototype.lastIndexOf=function(e,t,r){return m(this,e,t,r,!1)},c.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else{if(!isFinite(t))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0)}const i=this.length-t;if((void 0===r||r>i)&&(r=i),e.length>0&&(r<0||t<0)||t>this.length)throw new RangeError("Attempt to write outside buffer bounds");n||(n="utf8");let a=!1;for(;;)switch(n){case"hex":return w(this,e,t,r);case"utf8":case"utf-8":return _(this,e,t,r);case"ascii":case"latin1":case"binary":return k(this,e,t,r);case"base64":return A(this,e,t,r);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return S(this,e,t,r);default:if(a)throw new TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),a=!0}},c.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};const P=4096;function C(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}function M(e,t,r){let n="";r=Math.min(e.length,r);for(let i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}function B(e,t,r){const n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);let i="";for(let n=t;n<r;++n)i+=X[e[n]];return i}function R(e,t,r){const n=e.slice(t,r);let i="";for(let e=0;e<n.length-1;e+=2)i+=String.fromCharCode(n[e]+256*n[e+1]);return i}function U(e,t,r){if(e%1!=0||e<0)throw new RangeError("offset is not uint");if(e+t>r)throw new RangeError("Trying to access beyond buffer length")}function I(e,t,r,n,i,a){if(!c.isBuffer(e))throw new TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<a)throw new RangeError('"value" argument is out of bounds');if(r+n>e.length)throw new RangeError("Index out of range")}function T(e,t,r,n,i){q(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a,a>>=8,e[r++]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,s>>=8,e[r++]=s,r}function D(e,t,r,n,i){q(t,n,i,e,r,7);let a=Number(t&BigInt(4294967295));e[r+7]=a,a>>=8,e[r+6]=a,a>>=8,e[r+5]=a,a>>=8,e[r+4]=a;let s=Number(t>>BigInt(32)&BigInt(4294967295));return e[r+3]=s,s>>=8,e[r+2]=s,s>>=8,e[r+1]=s,s>>=8,e[r]=s,r+8}function K(e,t,r,n,i,a){if(r+n>e.length)throw new RangeError("Index out of range");if(r<0)throw new RangeError("Index out of range")}function O(e,t,r,n,a){return t=+t,r>>>=0,a||K(e,0,r,4),i.write(e,t,r,n,23,4),r+4}function z(e,t,r,n,a){return t=+t,r>>>=0,a||K(e,0,r,8),i.write(e,t,r,n,52,8),r+8}c.prototype.slice=function(e,t){const r=this.length;(e=~~e)<0?(e+=r)<0&&(e=0):e>r&&(e=r),(t=void 0===t?r:~~t)<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);const n=this.subarray(e,t);return Object.setPrototypeOf(n,c.prototype),n},c.prototype.readUintLE=c.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return n},c.prototype.readUintBE=c.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e+--t],i=1;for(;t>0&&(i*=256);)n+=this[e+--t]*i;return n},c.prototype.readUint8=c.prototype.readUInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),this[e]},c.prototype.readUint16LE=c.prototype.readUInt16LE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]|this[e+1]<<8},c.prototype.readUint16BE=c.prototype.readUInt16BE=function(e,t){return e>>>=0,t||U(e,2,this.length),this[e]<<8|this[e+1]},c.prototype.readUint32LE=c.prototype.readUInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+16777216*this[e+3]},c.prototype.readUint32BE=c.prototype.readUInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),16777216*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},c.prototype.readBigUInt64LE=J((function(e){N(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t+256*this[++e]+65536*this[++e]+this[++e]*2**24,i=this[++e]+256*this[++e]+65536*this[++e]+r*2**24;return BigInt(n)+(BigInt(i)<<BigInt(32))})),c.prototype.readBigUInt64BE=J((function(e){N(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=t*2**24+65536*this[++e]+256*this[++e]+this[++e],i=this[++e]*2**24+65536*this[++e]+256*this[++e]+r;return(BigInt(n)<<BigInt(32))+BigInt(i)})),c.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=this[e],i=1,a=0;for(;++a<t&&(i*=256);)n+=this[e+a]*i;return i*=128,n>=i&&(n-=Math.pow(2,8*t)),n},c.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||U(e,t,this.length);let n=t,i=1,a=this[e+--n];for(;n>0&&(i*=256);)a+=this[e+--n]*i;return i*=128,a>=i&&(a-=Math.pow(2,8*t)),a},c.prototype.readInt8=function(e,t){return e>>>=0,t||U(e,1,this.length),128&this[e]?-1*(255-this[e]+1):this[e]},c.prototype.readInt16LE=function(e,t){e>>>=0,t||U(e,2,this.length);const r=this[e]|this[e+1]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt16BE=function(e,t){e>>>=0,t||U(e,2,this.length);const r=this[e+1]|this[e]<<8;return 32768&r?4294901760|r:r},c.prototype.readInt32LE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},c.prototype.readInt32BE=function(e,t){return e>>>=0,t||U(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},c.prototype.readBigInt64LE=J((function(e){N(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=this[e+4]+256*this[e+5]+65536*this[e+6]+(r<<24);return(BigInt(n)<<BigInt(32))+BigInt(t+256*this[++e]+65536*this[++e]+this[++e]*2**24)})),c.prototype.readBigInt64BE=J((function(e){N(e>>>=0,"offset");const t=this[e],r=this[e+7];void 0!==t&&void 0!==r||W(e,this.length-8);const n=(t<<24)+65536*this[++e]+256*this[++e]+this[++e];return(BigInt(n)<<BigInt(32))+BigInt(this[++e]*2**24+65536*this[++e]+256*this[++e]+r)})),c.prototype.readFloatLE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!0,23,4)},c.prototype.readFloatBE=function(e,t){return e>>>=0,t||U(e,4,this.length),i.read(this,e,!1,23,4)},c.prototype.readDoubleLE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!0,52,8)},c.prototype.readDoubleBE=function(e,t){return e>>>=0,t||U(e,8,this.length),i.read(this,e,!1,52,8)},c.prototype.writeUintLE=c.prototype.writeUIntLE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let i=1,a=0;for(this[t]=255&e;++a<r&&(i*=256);)this[t+a]=e/i&255;return t+r},c.prototype.writeUintBE=c.prototype.writeUIntBE=function(e,t,r,n){e=+e,t>>>=0,r>>>=0,n||I(this,e,t,r,Math.pow(2,8*r)-1,0);let i=r-1,a=1;for(this[t+i]=255&e;--i>=0&&(a*=256);)this[t+i]=e/a&255;return t+r},c.prototype.writeUint8=c.prototype.writeUInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,255,0),this[t]=255&e,t+1},c.prototype.writeUint16LE=c.prototype.writeUInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeUint16BE=c.prototype.writeUInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeUint32LE=c.prototype.writeUInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},c.prototype.writeUint32BE=c.prototype.writeUInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,4294967295,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigUInt64LE=J((function(e,t=0){return T(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeBigUInt64BE=J((function(e,t=0){return D(this,e,t,BigInt(0),BigInt("0xffffffffffffffff"))})),c.prototype.writeIntLE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=0,a=1,s=0;for(this[t]=255&e;++i<r&&(a*=256);)e<0&&0===s&&0!==this[t+i-1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeIntBE=function(e,t,r,n){if(e=+e,t>>>=0,!n){const n=Math.pow(2,8*r-1);I(this,e,t,r,n-1,-n)}let i=r-1,a=1,s=0;for(this[t+i]=255&e;--i>=0&&(a*=256);)e<0&&0===s&&0!==this[t+i+1]&&(s=1),this[t+i]=(e/a>>0)-s&255;return t+r},c.prototype.writeInt8=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},c.prototype.writeInt16LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},c.prototype.writeInt16BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},c.prototype.writeInt32LE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},c.prototype.writeInt32BE=function(e,t,r){return e=+e,t>>>=0,r||I(this,e,t,4,2147483647,-2147483648),e<0&&(e=4294967295+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},c.prototype.writeBigInt64LE=J((function(e,t=0){return T(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeBigInt64BE=J((function(e,t=0){return D(this,e,t,-BigInt("0x8000000000000000"),BigInt("0x7fffffffffffffff"))})),c.prototype.writeFloatLE=function(e,t,r){return O(this,e,t,!0,r)},c.prototype.writeFloatBE=function(e,t,r){return O(this,e,t,!1,r)},c.prototype.writeDoubleLE=function(e,t,r){return z(this,e,t,!0,r)},c.prototype.writeDoubleBE=function(e,t,r){return z(this,e,t,!1,r)},c.prototype.copy=function(e,t,r,n){if(!c.isBuffer(e))throw new TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r)return 0;if(0===e.length||0===this.length)return 0;if(t<0)throw new RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw new RangeError("Index out of range");if(n<0)throw new RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);const i=n-r;return this===e&&"function"==typeof Uint8Array.prototype.copyWithin?this.copyWithin(t,r,n):Uint8Array.prototype.set.call(e,this.subarray(r,n),t),i},c.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw new TypeError("encoding must be a string");if("string"==typeof n&&!c.isEncoding(n))throw new TypeError("Unknown encoding: "+n);if(1===e.length){const t=e.charCodeAt(0);("utf8"===n&&t<128||"latin1"===n)&&(e=t)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw new RangeError("Out of range index");if(r<=t)return this;let i;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{const a=c.isBuffer(e)?e:c.from(e,n),s=a.length;if(0===s)throw new TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%s]}return this};const j={};function F(e,t,r){j[e]=class extends r{constructor(){super(),Object.defineProperty(this,"message",{value:t.apply(this,arguments),writable:!0,configurable:!0}),this.name=`${this.name} [${e}]`,this.stack,delete this.name}get code(){return e}set code(e){Object.defineProperty(this,"code",{configurable:!0,enumerable:!0,value:e,writable:!0})}toString(){return`${this.name} [${e}]: ${this.message}`}}}function L(e){let t="",r=e.length;const n="-"===e[0]?1:0;for(;r>=n+4;r-=3)t=`_${e.slice(r-3,r)}${t}`;return`${e.slice(0,r)}${t}`}function q(e,t,r,n,i,a){if(e>r||e<t){const n="bigint"==typeof t?"n":"";let i;throw i=a>3?0===t||t===BigInt(0)?`>= 0${n} and < 2${n} ** ${8*(a+1)}${n}`:`>= -(2${n} ** ${8*(a+1)-1}${n}) and < 2 ** ${8*(a+1)-1}${n}`:`>= ${t}${n} and <= ${r}${n}`,new j.ERR_OUT_OF_RANGE("value",i,e)}!function(e,t,r){N(t,"offset"),void 0!==e[t]&&void 0!==e[t+r]||W(t,e.length-(r+1))}(n,i,a)}function N(e,t){if("number"!=typeof e)throw new j.ERR_INVALID_ARG_TYPE(t,"number",e)}function W(e,t,r){if(Math.floor(e)!==e)throw N(e,r),new j.ERR_OUT_OF_RANGE(r||"offset","an integer",e);if(t<0)throw new j.ERR_BUFFER_OUT_OF_BOUNDS;throw new j.ERR_OUT_OF_RANGE(r||"offset",`>= ${r?1:0} and <= ${t}`,e)}F("ERR_BUFFER_OUT_OF_BOUNDS",(function(e){return e?`${e} is outside of buffer bounds`:"Attempt to access memory outside buffer bounds"}),RangeError),F("ERR_INVALID_ARG_TYPE",(function(e,t){return`The "${e}" argument must be of type number. Received type ${typeof t}`}),TypeError),F("ERR_OUT_OF_RANGE",(function(e,t,r){let n=`The value of "${e}" is out of range.`,i=r;return Number.isInteger(r)&&Math.abs(r)>2**32?i=L(String(r)):"bigint"==typeof r&&(i=String(r),(r>BigInt(2)**BigInt(32)||r<-(BigInt(2)**BigInt(32)))&&(i=L(i)),i+="n"),n+=` It must be ${t}. Received ${i}`,n}),RangeError);const H=/[^+/0-9A-Za-z-_]/g;function $(e,t){let r;t=t||1/0;const n=e.length;let i=null;const a=[];for(let s=0;s<n;++s){if(r=e.charCodeAt(s),r>55295&&r<57344){if(!i){if(r>56319){(t-=3)>-1&&a.push(239,191,189);continue}if(s+1===n){(t-=3)>-1&&a.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&a.push(239,191,189),i=r;continue}r=65536+(i-55296<<10|r-56320)}else i&&(t-=3)>-1&&a.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;a.push(r)}else if(r<2048){if((t-=2)<0)break;a.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;a.push(r>>12|224,r>>6&63|128,63&r|128)}else{if(!(r<1114112))throw new Error("Invalid code point");if((t-=4)<0)break;a.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}}return a}function V(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(H,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function G(e,t,r,n){let i;for(i=0;i<n&&!(i+r>=t.length||i>=e.length);++i)t[i+r]=e[i];return i}function Y(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}function Z(e){return e!=e}const X=function(){const e="0123456789abcdef",t=new Array(256);for(let r=0;r<16;++r){const n=16*r;for(let i=0;i<16;++i)t[n+i]=e[r]+e[i]}return t}();function J(e){return"undefined"==typeof BigInt?Q:e}function Q(){throw new Error("BigInt not supported")}},1227:(e,t,r)=>{t.formatArgs=function(t){if(t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff),!this.useColors)return;const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0,i=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{"%%"!==e&&(n++,"%c"===e&&(i=n))})),t.splice(i,0,r)},t.save=function(e){try{e?t.storage.setItem("debug",e):t.storage.removeItem("debug")}catch(e){}},t.load=function(){let e;try{e=t.storage.getItem("debug")}catch(e){}return!e&&"undefined"!=typeof process&&"env"in process&&(e=process.env.DEBUG),e},t.useColors=function(){return!("undefined"==typeof window||!window.process||"renderer"!==window.process.type&&!window.process.__nwjs)||("undefined"==typeof navigator||!navigator.userAgent||!navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/))&&("undefined"!=typeof document&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||"undefined"!=typeof window&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||"undefined"!=typeof navigator&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/))},t.storage=function(){try{return localStorage}catch(e){}}(),t.destroy=(()=>{let e=!1;return()=>{e||(e=!0,console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`."))}})(),t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"],t.log=console.debug||console.log||(()=>{}),e.exports=r(2447)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},2447:(e,t,r)=>{e.exports=function(e){function t(e){let r,i,a,s=null;function o(...e){if(!o.enabled)return;const n=o,i=Number(new Date),a=i-(r||i);n.diff=a,n.prev=r,n.curr=i,r=i,e[0]=t.coerce(e[0]),"string"!=typeof e[0]&&e.unshift("%O");let s=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((r,i)=>{if("%%"===r)return"%";s++;const a=t.formatters[i];if("function"==typeof a){const t=e[s];r=a.call(n,t),e.splice(s,1),s--}return r})),t.formatArgs.call(n,e),(n.log||t.log).apply(n,e)}return o.namespace=e,o.useColors=t.useColors(),o.color=t.selectColor(e),o.extend=n,o.destroy=t.destroy,Object.defineProperty(o,"enabled",{enumerable:!0,configurable:!1,get:()=>null!==s?s:(i!==t.namespaces&&(i=t.namespaces,a=t.enabled(e)),a),set:e=>{s=e}}),"function"==typeof t.init&&t.init(o),o}function n(e,r){const n=t(this.namespace+(void 0===r?":":r)+e);return n.log=this.log,n}function i(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}return t.debug=t,t.default=t,t.coerce=function(e){return e instanceof Error?e.stack||e.message:e},t.disable=function(){const e=[...t.names.map(i),...t.skips.map(i).map((e=>"-"+e))].join(",");return t.enable(""),e},t.enable=function(e){let r;t.save(e),t.namespaces=e,t.names=[],t.skips=[];const n=("string"==typeof e?e:"").split(/[\s,]+/),i=n.length;for(r=0;r<i;r++)n[r]&&("-"===(e=n[r].replace(/\*/g,".*?"))[0]?t.skips.push(new RegExp("^"+e.slice(1)+"$")):t.names.push(new RegExp("^"+e+"$")))},t.enabled=function(e){if("*"===e[e.length-1])return!0;let r,n;for(r=0,n=t.skips.length;r<n;r++)if(t.skips[r].test(e))return!1;for(r=0,n=t.names.length;r<n;r++)if(t.names[r].test(e))return!0;return!1},t.humanize=r(7824),t.destroy=function(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")},Object.keys(e).forEach((r=>{t[r]=e[r]})),t.names=[],t.skips=[],t.formatters={},t.selectColor=function(e){let r=0;for(let t=0;t<e.length;t++)r=(r<<5)-r+e.charCodeAt(t),r|=0;return t.colors[Math.abs(r)%t.colors.length]},t.enable(t.load()),t}},3258:e=>{!function(t){e.exports=t;var r={on:function(e,t){return a(this,e).push(t),this},once:function(e,t){var r=this;return n.originalListener=t,a(r,e).push(n),r;function n(){i.call(r,e,n),t.apply(this,arguments)}},off:i,emit:function(e,t){var r=this,n=a(r,e,!0);if(!n)return!1;var i=arguments.length;if(1===i)n.forEach(o);else if(2===i)n.forEach(c);else{var s=Array.prototype.slice.call(arguments,1);n.forEach(u)}return!!n.length;function o(e){e.call(r)}function c(e){e.call(r,t)}function u(e){e.apply(r,s)}}};function n(e){for(var t in r)e[t]=r[t];return e}function i(e,t){var r,n=this;if(arguments.length){if(t){if(r=a(n,e,!0)){if(!(r=r.filter(s)).length)return i.call(n,e);n.listeners[e]=r}}else if((r=n.listeners)&&(delete r[e],!Object.keys(r).length))return i.call(n)}else delete n.listeners;return n;function s(e){return e!==t&&e.originalListener!==t}}function a(e,t,r){if(!r||e.listeners){var n=e.listeners||(e.listeners={});return n[t]||(n[t]=[])}}n(t.prototype),t.mixin=n}((function e(){if(!(this instanceof e))return new e}))},7187:e=>{"use strict";var t,r="object"==typeof Reflect?Reflect:null,n=r&&"function"==typeof r.apply?r.apply:function(e,t,r){return Function.prototype.apply.call(e,t,r)};t=r&&"function"==typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(e){return Object.getOwnPropertyNames(e).concat(Object.getOwnPropertySymbols(e))}:function(e){return Object.getOwnPropertyNames(e)};var i=Number.isNaN||function(e){return e!=e};function a(){a.init.call(this)}e.exports=a,e.exports.once=function(e,t){return new Promise((function(r,n){function i(r){e.removeListener(t,a),n(r)}function a(){"function"==typeof e.removeListener&&e.removeListener("error",i),r([].slice.call(arguments))}y(e,t,a,{once:!0}),"error"!==t&&function(e,t,r){"function"==typeof e.on&&y(e,"error",t,{once:!0})}(e,i)}))},a.EventEmitter=a,a.prototype._events=void 0,a.prototype._eventsCount=0,a.prototype._maxListeners=void 0;var s=10;function o(e){if("function"!=typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e)}function c(e){return void 0===e._maxListeners?a.defaultMaxListeners:e._maxListeners}function u(e,t,r,n){var i,a,s,u;if(o(r),void 0===(a=e._events)?(a=e._events=Object.create(null),e._eventsCount=0):(void 0!==a.newListener&&(e.emit("newListener",t,r.listener?r.listener:r),a=e._events),s=a[t]),void 0===s)s=a[t]=r,++e._eventsCount;else if("function"==typeof s?s=a[t]=n?[r,s]:[s,r]:n?s.unshift(r):s.push(r),(i=c(e))>0&&s.length>i&&!s.warned){s.warned=!0;var f=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(t)+" listeners added. Use emitter.setMaxListeners() to increase limit");f.name="MaxListenersExceededWarning",f.emitter=e,f.type=t,f.count=s.length,u=f,console&&console.warn&&console.warn(u)}return e}function f(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}function h(e,t,r){var n={fired:!1,wrapFn:void 0,target:e,type:t,listener:r},i=f.bind(n);return i.listener=r,n.wrapFn=i,i}function l(e,t,r){var n=e._events;if(void 0===n)return[];var i=n[t];return void 0===i?[]:"function"==typeof i?r?[i.listener||i]:[i]:r?function(e){for(var t=new Array(e.length),r=0;r<t.length;++r)t[r]=e[r].listener||e[r];return t}(i):p(i,i.length)}function d(e){var t=this._events;if(void 0!==t){var r=t[e];if("function"==typeof r)return 1;if(void 0!==r)return r.length}return 0}function p(e,t){for(var r=new Array(t),n=0;n<t;++n)r[n]=e[n];return r}function y(e,t,r,n){if("function"==typeof e.on)n.once?e.once(t,r):e.on(t,r);else{if("function"!=typeof e.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof e);e.addEventListener(t,(function i(a){n.once&&e.removeEventListener(t,i),r(a)}))}}Object.defineProperty(a,"defaultMaxListeners",{enumerable:!0,get:function(){return s},set:function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+e+".");s=e}}),a.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},a.prototype.setMaxListeners=function(e){if("number"!=typeof e||e<0||i(e))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+e+".");return this._maxListeners=e,this},a.prototype.getMaxListeners=function(){return c(this)},a.prototype.emit=function(e){for(var t=[],r=1;r<arguments.length;r++)t.push(arguments[r]);var i="error"===e,a=this._events;if(void 0!==a)i=i&&void 0===a.error;else if(!i)return!1;if(i){var s;if(t.length>0&&(s=t[0]),s instanceof Error)throw s;var o=new Error("Unhandled error."+(s?" ("+s.message+")":""));throw o.context=s,o}var c=a[e];if(void 0===c)return!1;if("function"==typeof c)n(c,this,t);else{var u=c.length,f=p(c,u);for(r=0;r<u;++r)n(f[r],this,t)}return!0},a.prototype.addListener=function(e,t){return u(this,e,t,!1)},a.prototype.on=a.prototype.addListener,a.prototype.prependListener=function(e,t){return u(this,e,t,!0)},a.prototype.once=function(e,t){return o(t),this.on(e,h(this,e,t)),this},a.prototype.prependOnceListener=function(e,t){return o(t),this.prependListener(e,h(this,e,t)),this},a.prototype.removeListener=function(e,t){var r,n,i,a,s;if(o(t),void 0===(n=this._events))return this;if(void 0===(r=n[e]))return this;if(r===t||r.listener===t)0==--this._eventsCount?this._events=Object.create(null):(delete n[e],n.removeListener&&this.emit("removeListener",e,r.listener||t));else if("function"!=typeof r){for(i=-1,a=r.length-1;a>=0;a--)if(r[a]===t||r[a].listener===t){s=r[a].listener,i=a;break}if(i<0)return this;0===i?r.shift():function(e,t){for(;t+1<e.length;t++)e[t]=e[t+1];e.pop()}(r,i),1===r.length&&(n[e]=r[0]),void 0!==n.removeListener&&this.emit("removeListener",e,s||t)}return this},a.prototype.off=a.prototype.removeListener,a.prototype.removeAllListeners=function(e){var t,r,n;if(void 0===(r=this._events))return this;if(void 0===r.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==r[e]&&(0==--this._eventsCount?this._events=Object.create(null):delete r[e]),this;if(0===arguments.length){var i,a=Object.keys(r);for(n=0;n<a.length;++n)"removeListener"!==(i=a[n])&&this.removeAllListeners(i);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(t=r[e]))this.removeListener(e,t);else if(void 0!==t)for(n=t.length-1;n>=0;n--)this.removeListener(e,t[n]);return this},a.prototype.listeners=function(e){return l(this,e,!0)},a.prototype.rawListeners=function(e){return l(this,e,!1)},a.listenerCount=function(e,t){return"function"==typeof e.listenerCount?e.listenerCount(t):d.call(e,t)},a.prototype.listenerCount=d,a.prototype.eventNames=function(){return this._eventsCount>0?t(this._events):[]}},645:(e,t)=>{t.read=function(e,t,r,n,i){var a,s,o=8*i-n-1,c=(1<<o)-1,u=c>>1,f=-7,h=r?i-1:0,l=r?-1:1,d=e[t+h];for(h+=l,a=d&(1<<-f)-1,d>>=-f,f+=o;f>0;a=256*a+e[t+h],h+=l,f-=8);for(s=a&(1<<-f)-1,a>>=-f,f+=n;f>0;s=256*s+e[t+h],h+=l,f-=8);if(0===a)a=1-u;else{if(a===c)return s?NaN:1/0*(d?-1:1);s+=Math.pow(2,n),a-=u}return(d?-1:1)*s*Math.pow(2,a-n)},t.write=function(e,t,r,n,i,a){var s,o,c,u=8*a-i-1,f=(1<<u)-1,h=f>>1,l=23===i?Math.pow(2,-24)-Math.pow(2,-77):0,d=n?0:a-1,p=n?1:-1,y=t<0||0===t&&1/t<0?1:0;for(t=Math.abs(t),isNaN(t)||t===1/0?(o=isNaN(t)?1:0,s=f):(s=Math.floor(Math.log(t)/Math.LN2),t*(c=Math.pow(2,-s))<1&&(s--,c*=2),(t+=s+h>=1?l/c:l*Math.pow(2,1-h))*c>=2&&(s++,c/=2),s+h>=f?(o=0,s=f):s+h>=1?(o=(t*c-1)*Math.pow(2,i),s+=h):(o=t*Math.pow(2,h-1)*Math.pow(2,i),s=0));i>=8;e[r+d]=255&o,d+=p,o/=256,i-=8);for(s=s<<i|o,u+=i;u>0;e[r+d]=255&s,d+=p,s/=256,u-=8);e[r+d-p]|=128*y}},6819:(e,t,r)=>{const{info:n,error:i,log:a,$socket:s}=r(9369),o=r(8612),c=r(6486),u=r(7187),{$E:f,$ERR:h,$REF:l,$DEREF:d}=r(9139),p=r(8764);class y extends u.EventEmitter{#e;#t;#r;authenticated=!1;#n=!1;#i=0;constructor(e,{cert:t,private_key_armored:r}){super(),this.client=e,this.#e=t,this.#t=r;const n=async()=>{if(this.#n)try{await this.auth()}catch(e){i(e)}finally{setTimeout(n,5e3)}else setTimeout(n,500)};n()}async#a(e){let t={challenge:e,time:new Date};c.isString(this.#r)&&(t.session_id=this.#r);let r=await o({claim:t,cert:this.#e,private_key_armored:this.#t});return p.Buffer.from(r).toString("base64")}async start(e){this.#n=!0,e&&(this.#i=0)}async auth(){const e=(new Date).getTime();if(this.authenticated&&e-this.#i<6e4)return;let t=l(null),r=this.client.new_promise_of_event("auth.challenge",t.uuid());this.client.socket.emit("auth.hello",t.data());let{challenge:n}=d(await r).data();a(`Authenticating, challenge=${n}`);let i=await this.#a(n),s=l(i),o=this.client.new_promise_of_event("auth.success",s.uuid());this.client.socket.emit("auth.verify",s.data());try{let e=await o;this.#s(e)}catch(e){this.#o(e.reason)}}async handle_error(e){"error.auth.insufficient"!=e&&(this.emit("auth.status.changed",{session_changed:!1,authenticated:!1}),this.#r=null,this.authenticated=!1,this.#i=0)}#s(e){let{session_id:t}=d(e).data();n(`${s(this.client.socket)} Authenticatd.`);let r=this.#r!=t;this.#r=t,this.#i=(new Date).getTime(),this.authenticated=!0,this.emit("auth.status.changed",{session_changed:r,authenticated:!0})}#o(e){this.#r=null,this.authenticated=!1,this.#i=0,i("Authentication failed, reason="+e),this.emit("auth.status.changed",{session_changed:!1,authenticated:!1})}}e.exports=y},2792:(e,t,r)=>{const{$REF:n,$DEREF:i}=r(9139),a=r(6486);e.exports=class{#c;constructor(){this.#c=new Map,setInterval((()=>this.clean_up()),1e3)}set({event:e,uuid:t,resolve:r,reject:n,timeout:i}){this.#c.set(t,{event:e,resolve:r,reject:n,timeout:(new Date).getTime()+1e3*i})}handle_error({event:e,referenced_data:t}){let r=i(t),n=r.uuid(),s=r.data(),o=this.#c.get(n);if(!a.isNil(o)){if(a.isFunction(o.reject)){let t=new Error(s);t.name=e,o.reject(t)}this.#c.delete(n)}}handle({event:e,referenced_data:t}){let r=i(t),n=r.uuid(),s=this.#c.get(n);a.isNil(s)||s.event==e&&(a.isFunction(s.resolve)&&s.resolve(r.data()),this.#c.delete(n))}clean_up(){const e=(new Date).getTime();let t=[];this.#c.forEach((({reject:r,timeout:n},i)=>{n<e&&(a.isFunction(r)&&r(`Call <${i}> timed out.`),t.push(i))})),t.forEach((e=>{this.#c.delete(e)}))}}},5949:(e,t,r)=>{const{info:n,error:i,log:a,$socket:s}=r(9369),o=r(6486),{io:c}=r(7046),u=r(7187),f=r(6819),h=r(2792),{$E:l,$ERR:d,$REF:p,$DEREF:y}=r(9139);function b(e,t){t.__init__&&t.__init__.call(e);for(let r in t){let n=t[r];"__init__"!=r&&(e[r]=n.bind(e))}}class g extends u.EventEmitter{authenticator;#u;socket;constructor({url:e,socket_io_options:t={reconnection:!0},cert:n,private_key_armored:i,local_http_server:a}){super(),this.#u=new h,this.authenticator=new f(this,{cert:n,private_key_armored:i}),b(this,r(6720)),b(this,r(7640)),b(this,r(7939)),this.socket=c(e,t),this.#f(),this.authenticator.start()}new_promise_of_event(e,t){return new Promise(((r,n)=>{this.#u.set({event:e,uuid:t,resolve:r,reject:n,timeout:30})}))}#f(){const e=this.socket;e.on("connect",(e=>this.#h())),e.io.on("reconnect",(e=>this.#l())),e.on("error",(e=>{i("Socket error received!"+e)})),e.on("topic.event",this._on_topic_event.bind(this)),e.on("topic.invoke",this._on_topic_invoke.bind(this));let t=t=>{e.on(t,(e=>{this.#u.handle({event:t,referenced_data:e})}))};t("auth.challenge"),t("auth.success"),t("topic.joined"),t("topic.left"),t("topic.published"),t("topic.called"),t("topic.result"),e.onAny(((e,...t)=>{o.startsWith(e,"error.")&&(o.startsWith(e,"error.auth.")&&this.authenticator.handle_error(e),this.#u.handle_error({event:e,referenced_data:t[0]}))})),this.authenticator.on("auth.status.changed",(e=>{this.emit("auth.status.changed",e)}))}#h(){a(`Connected as ${s(this.socket)}`),this.authenticator.start()}#l(){a(`Reconnected as socket ${s(this.socket)}`),this.authenticator.start(!0)}}e.exports=g},6720:(e,t,r)=>{const{info:n,error:i,log:a,$socket:s}=r(9369),{$E:o,$ERR:c,$REF:u,$DEREF:f}=(r(6486),r(9139));function h(){a("Rejoin topics due to rotated session."),this.joined_rooms.forEach((t=>{e.exports.join.call(this,t,!0)}))}e.exports.__init__=function(){this.joined_rooms=new Set,this.authenticator.on("auth.status.changed",(({authenticated:e,session_changed:t})=>{e&&t&&h.call(this)}))},e.exports.join=function(e,t){if(!t&&this.joined_rooms.has(e))return;let r=u({topic:e}),n=r.uuid(),i=this.new_promise_of_event("topic.joined",n);return this.socket.emit(o("topic.join"),r.data()),a("Trying to join topic: "+e),i.then((()=>{a("Joined topic: "+e),this.joined_rooms.add(e)})).catch((()=>{this.joined_rooms.delete(e)}))},e.exports.leave=function(e,t){if(!t&&!this.joined_rooms.has(e))return;let r=u({topic:e}),n=r.uuid(),i=this.new_promise_of_event("topic.left",n);return this.socket.emit(o("topic.leave"),r.data()),i.then((()=>{this.joined_rooms.delete(e)})).catch((()=>{}))}},7939:(e,t,r)=>{r(6486);const{$E:n,$ERR:i,$REF:a,$DEREF:s}=r(9139),o=r(7187);e.exports.__init__=function(){this.topics=new o.EventEmitter},e.exports.publish=async function(e,t){await this.join(e);let r=a({topic:e,data:t}),i=this.new_promise_of_event("topic.published",r.uuid());return this.socket.emit(n("topic.publish"),r.data()),i},e.exports.subscribe=async function(e,t){await this.join(e),this.topics.on(e,t)},e.exports.unsubscribe=async function(e){await this.leave(e),this.topics.off(e)},e.exports._on_topic_event=async function(e){let t=s(e),{topic:r,data:n}=t.data()||{};this.topics.emit(r,n,t.uuid())}},7640:(e,t,r)=>{const n=r(6486),{$E:i,$ERR:a,$REF:s,$DEREF:o}=r(9139);e.exports.__init__=function(){this.rpc_endpoints=new Map},e.exports.register=function(e,t){return this.rpc_endpoints.set(e,t),this.join(e)},e.exports.unregister=function(e){return this.rpc_endpoints.delete(e),this.leave(e)},e.exports.call=async function(e,t){await this.join(e);let r=s({topic:e,data:t}),a=this.new_promise_of_event("topic.called",r.uuid());this.socket.emit(i("topic.call"),r.data());let c=null;try{let e=await a;c=n.get(o(e).data(),"invocation")}catch(e){throw e}return this.new_promise_of_event("topic.result",c)},e.exports._on_topic_invoke=async function(e){let t=o(e),{topic:r,data:n}=t.data()||{};if(this.rpc_endpoints.has(r))try{let e=await this.rpc_endpoints.get(r)(n);this.socket.emit(i("topic.yield"),s({topic:r,result:e},t.uuid()).data())}catch(e){this.socket.emit(i("topic.yield"),s({topic:r,error:e.message},t.uuid()).data())}}},9369:e=>{let t=null,r=null;t=console,r=console.log;const{info:n,error:i,warn:a,dir:s}=t;e.exports={info:n,error:i,warn:a,dir:s,log:r,$socket:function(e){return`Socket<${e.id}${e.session_id?", "+e.session_id:""}>`}}},8612:(e,t,r)=>{const n=r(6374),i=r(9650);e.exports=async function({claim:e,cert:t,private_key_armored:r}){let a=await i.readKey({armoredKey:r}),s=a.toPublic().write(),o=n.encode({claim:e,cert:t}),c=await i.sign({message:await i.createMessage({binary:o}),signingKeys:a,format:"binary"});return n.encode({public_key:s,signed:c})}},550:e=>{e.exports=["error.auth.failure","error.auth.unauthenticated","error.auth.insufficient","error.topic.invalid","error.rpc.no-answer"]},674:e=>{e.exports=["auth.hello","auth.challenge","auth.verify","auth.success","topic.join","topic.joined","topic.leave","topic.left","topic.publish","topic.published","topic.event","topic.call","topic.called","topic.invoke","topic.yield","topic.result"]},9139:(e,t,r)=>{const n=r(674),i=r(550),a=r(6486),{reference:s,dereference:o}=r(9972);function c(e,t){if(a.includes(e,t))return t;throw Error("Undefined event or error: "+t)}e.exports={$E:e=>c(n,e),$ERR:e=>c(i,e),$REF:s,$DEREF:o}},9972:(e,t,r)=>{const{v4:n}=r(7429),i=r(6486);e.exports={reference:function(e,t){const r=t||n();return{data:()=>({$r:r,$d:e}),uuid:()=>r}},dereference:function(e){let t=i.get(e,"$r",null);i.isString(t)||(t=null);let r=i.isNil(t)?e:i.get(e,"$d",null);return{data:()=>r,uuid:()=>t}}}},1166:function(e,t){!function(e){var t,r="undefined",n=r!==typeof Buffer&&Buffer,i=r!==typeof Uint8Array&&Uint8Array,a=r!==typeof ArrayBuffer&&ArrayBuffer,s=[0,0,0,0,0,0,0,0],o=Array.isArray||function(e){return!!e&&"[object Array]"==Object.prototype.toString.call(e)},c=4294967296;function u(o,u,w){var _=u?0:4,k=u?4:0,A=u?0:3,S=u?1:2,E=u?2:1,x=u?3:0,P=u?b:m,C=u?g:v,M=U.prototype,B="is"+o,R="_"+B;return M.buffer=void 0,M.offset=0,M[R]=!0,M.toNumber=I,M.toString=function(e){var t=this.buffer,r=this.offset,n=D(t,r+_),i=D(t,r+k),a="",s=!w&&2147483648&n;for(s&&(n=~n,i=c-i),e=e||10;;){var o=n%e*c+i;if(n=Math.floor(n/e),i=Math.floor(o/e),a=(o%e).toString(e)+a,!n&&!i)break}return s&&(a="-"+a),a},M.toJSON=I,M.toArray=f,n&&(M.toBuffer=h),i&&(M.toArrayBuffer=l),U[B]=function(e){return!(!e||!e[R])},e[o]=U,U;function U(e,n,o,u){return this instanceof U?function(e,n,o,u,f){i&&a&&(n instanceof a&&(n=new i(n)),u instanceof a&&(u=new i(u))),n||o||u||t?(d(n,o)||(f=o,u=n,o=0,n=new(t||Array)(8)),e.buffer=n,e.offset=o|=0,r!==typeof u&&("string"==typeof u?function(e,t,r,n){var i=0,a=r.length,s=0,o=0;"-"===r[0]&&i++;for(var u=i;i<a;){var f=parseInt(r[i++],n);if(!(f>=0))break;o=o*n+f,s=s*n+Math.floor(o/c),o%=c}u&&(s=~s,o?o=c-o:s++),T(e,t+_,s),T(e,t+k,o)}(n,o,u,f||10):d(u,f)?p(n,o,u,f):"number"==typeof f?(T(n,o+_,u),T(n,o+k,f)):u>0?P(n,o,u):u<0?C(n,o,u):p(n,o,s,0))):e.buffer=y(s,0)}(this,e,n,o,u):new U(e,n,o,u)}function I(){var e=this.buffer,t=this.offset,r=D(e,t+_),n=D(e,t+k);return w||(r|=0),r?r*c+n:n}function T(e,t,r){e[t+x]=255&r,r>>=8,e[t+E]=255&r,r>>=8,e[t+S]=255&r,r>>=8,e[t+A]=255&r}function D(e,t){return 16777216*e[t+A]+(e[t+S]<<16)+(e[t+E]<<8)+e[t+x]}}function f(e){var r=this.buffer,n=this.offset;return t=null,!1!==e&&0===n&&8===r.length&&o(r)?r:y(r,n)}function h(e){var r=this.buffer,i=this.offset;if(t=n,!1!==e&&0===i&&8===r.length&&Buffer.isBuffer(r))return r;var a=new n(8);return p(a,0,r,i),a}function l(e){var r=this.buffer,n=this.offset,s=r.buffer;if(t=i,!1!==e&&0===n&&s instanceof a&&8===s.byteLength)return s;var o=new i(8);return p(o,0,r,n),o.buffer}function d(e,t){var r=e&&e.length;return t|=0,r&&t+8<=r&&"string"!=typeof e[t]}function p(e,t,r,n){t|=0,n|=0;for(var i=0;i<8;i++)e[t++]=255&r[n++]}function y(e,t){return Array.prototype.slice.call(e,t,t+8)}function b(e,t,r){for(var n=t+8;n>t;)e[--n]=255&r,r/=256}function g(e,t,r){var n=t+8;for(r++;n>t;)e[--n]=255&-r^255,r/=256}function m(e,t,r){for(var n=t+8;t<n;)e[t++]=255&r,r/=256}function v(e,t,r){var n=t+8;for(r++;t<n;)e[t++]=255&-r^255,r/=256}u("Uint64BE",!0,!0),u("Int64BE",!0,!1),u("Uint64LE",!1,!0),u("Int64LE",!1,!1)}("string"!=typeof t.nodeName?t:this||{})},5826:e=>{var t={}.toString;e.exports=Array.isArray||function(e){return"[object Array]"==t.call(e)}},6486:function(e,t,r){var n;e=r.nmd(e),function(){var i,a="Expected a function",s="__lodash_hash_undefined__",o="__lodash_placeholder__",c=32,u=128,f=1/0,h=9007199254740991,l=NaN,d=4294967295,p=[["ary",u],["bind",1],["bindKey",2],["curry",8],["curryRight",16],["flip",512],["partial",c],["partialRight",64],["rearg",256]],y="[object Arguments]",b="[object Array]",g="[object Boolean]",m="[object Date]",v="[object Error]",w="[object Function]",_="[object GeneratorFunction]",k="[object Map]",A="[object Number]",S="[object Object]",E="[object Promise]",x="[object RegExp]",P="[object Set]",C="[object String]",M="[object Symbol]",B="[object WeakMap]",R="[object ArrayBuffer]",U="[object DataView]",I="[object Float32Array]",T="[object Float64Array]",D="[object Int8Array]",K="[object Int16Array]",O="[object Int32Array]",z="[object Uint8Array]",j="[object Uint8ClampedArray]",F="[object Uint16Array]",L="[object Uint32Array]",q=/\b__p \+= '';/g,N=/\b(__p \+=) '' \+/g,W=/(__e\(.*?\)|\b__t\)) \+\n'';/g,H=/&(?:amp|lt|gt|quot|#39);/g,$=/[&<>"']/g,V=RegExp(H.source),G=RegExp($.source),Y=/<%-([\s\S]+?)%>/g,Z=/<%([\s\S]+?)%>/g,X=/<%=([\s\S]+?)%>/g,J=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Q=/^\w*$/,ee=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,te=/[\\^$.*+?()[\]{}|]/g,re=RegExp(te.source),ne=/^\s+/,ie=/\s/,ae=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,se=/\{\n\/\* \[wrapped with (.+)\] \*/,oe=/,? & /,ce=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,ue=/[()=,{}\[\]\/\s]/,fe=/\\(\\)?/g,he=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,le=/\w*$/,de=/^[-+]0x[0-9a-f]+$/i,pe=/^0b[01]+$/i,ye=/^\[object .+?Constructor\]$/,be=/^0o[0-7]+$/i,ge=/^(?:0|[1-9]\d*)$/,me=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,ve=/($^)/,we=/['\n\r\u2028\u2029\\]/g,_e="\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff",ke="a-z\\xdf-\\xf6\\xf8-\\xff",Ae="A-Z\\xc0-\\xd6\\xd8-\\xde",Se="\\xac\\xb1\\xd7\\xf7\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf\\u2000-\\u206f \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ee="["+Se+"]",xe="["+_e+"]",Pe="\\d+",Ce="["+ke+"]",Me="[^\\ud800-\\udfff"+Se+Pe+"\\u2700-\\u27bf"+ke+Ae+"]",Be="\\ud83c[\\udffb-\\udfff]",Re="[^\\ud800-\\udfff]",Ue="(?:\\ud83c[\\udde6-\\uddff]){2}",Ie="[\\ud800-\\udbff][\\udc00-\\udfff]",Te="["+Ae+"]",De="(?:"+Ce+"|"+Me+")",Ke="(?:"+Te+"|"+Me+")",Oe="(?:['’](?:d|ll|m|re|s|t|ve))?",ze="(?:['’](?:D|LL|M|RE|S|T|VE))?",je="(?:"+xe+"|"+Be+")?",Fe="[\\ufe0e\\ufe0f]?",Le=Fe+je+"(?:\\u200d(?:"+[Re,Ue,Ie].join("|")+")"+Fe+je+")*",qe="(?:"+["[\\u2700-\\u27bf]",Ue,Ie].join("|")+")"+Le,Ne="(?:"+[Re+xe+"?",xe,Ue,Ie,"[\\ud800-\\udfff]"].join("|")+")",We=RegExp("['’]","g"),He=RegExp(xe,"g"),$e=RegExp(Be+"(?="+Be+")|"+Ne+Le,"g"),Ve=RegExp([Te+"?"+Ce+"+"+Oe+"(?="+[Ee,Te,"$"].join("|")+")",Ke+"+"+ze+"(?="+[Ee,Te+De,"$"].join("|")+")",Te+"?"+De+"+"+Oe,Te+"+"+ze,"\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])","\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",Pe,qe].join("|"),"g"),Ge=RegExp("[\\u200d\\ud800-\\udfff"+_e+"\\ufe0e\\ufe0f]"),Ye=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ze=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],Xe=-1,Je={};Je[I]=Je[T]=Je[D]=Je[K]=Je[O]=Je[z]=Je[j]=Je[F]=Je[L]=!0,Je[y]=Je[b]=Je[R]=Je[g]=Je[U]=Je[m]=Je[v]=Je[w]=Je[k]=Je[A]=Je[S]=Je[x]=Je[P]=Je[C]=Je[B]=!1;var Qe={};Qe[y]=Qe[b]=Qe[R]=Qe[U]=Qe[g]=Qe[m]=Qe[I]=Qe[T]=Qe[D]=Qe[K]=Qe[O]=Qe[k]=Qe[A]=Qe[S]=Qe[x]=Qe[P]=Qe[C]=Qe[M]=Qe[z]=Qe[j]=Qe[F]=Qe[L]=!0,Qe[v]=Qe[w]=Qe[B]=!1;var et={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},tt=parseFloat,rt=parseInt,nt="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,it="object"==typeof self&&self&&self.Object===Object&&self,at=nt||it||Function("return this")(),st=t&&!t.nodeType&&t,ot=st&&e&&!e.nodeType&&e,ct=ot&&ot.exports===st,ut=ct&&nt.process,ft=function(){try{return ot&&ot.require&&ot.require("util").types||ut&&ut.binding&&ut.binding("util")}catch(e){}}(),ht=ft&&ft.isArrayBuffer,lt=ft&&ft.isDate,dt=ft&&ft.isMap,pt=ft&&ft.isRegExp,yt=ft&&ft.isSet,bt=ft&&ft.isTypedArray;function gt(e,t,r){switch(r.length){case 0:return e.call(t);case 1:return e.call(t,r[0]);case 2:return e.call(t,r[0],r[1]);case 3:return e.call(t,r[0],r[1],r[2])}return e.apply(t,r)}function mt(e,t,r,n){for(var i=-1,a=null==e?0:e.length;++i<a;){var s=e[i];t(n,s,r(s),e)}return n}function vt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n&&!1!==t(e[r],r,e););return e}function wt(e,t){for(var r=null==e?0:e.length;r--&&!1!==t(e[r],r,e););return e}function _t(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(!t(e[r],r,e))return!1;return!0}function kt(e,t){for(var r=-1,n=null==e?0:e.length,i=0,a=[];++r<n;){var s=e[r];t(s,r,e)&&(a[i++]=s)}return a}function At(e,t){return!(null==e||!e.length)&&It(e,t,0)>-1}function St(e,t,r){for(var n=-1,i=null==e?0:e.length;++n<i;)if(r(t,e[n]))return!0;return!1}function Et(e,t){for(var r=-1,n=null==e?0:e.length,i=Array(n);++r<n;)i[r]=t(e[r],r,e);return i}function xt(e,t){for(var r=-1,n=t.length,i=e.length;++r<n;)e[i+r]=t[r];return e}function Pt(e,t,r,n){var i=-1,a=null==e?0:e.length;for(n&&a&&(r=e[++i]);++i<a;)r=t(r,e[i],i,e);return r}function Ct(e,t,r,n){var i=null==e?0:e.length;for(n&&i&&(r=e[--i]);i--;)r=t(r,e[i],i,e);return r}function Mt(e,t){for(var r=-1,n=null==e?0:e.length;++r<n;)if(t(e[r],r,e))return!0;return!1}var Bt=Ot("length");function Rt(e,t,r){var n;return r(e,(function(e,r,i){if(t(e,r,i))return n=r,!1})),n}function Ut(e,t,r,n){for(var i=e.length,a=r+(n?1:-1);n?a--:++a<i;)if(t(e[a],a,e))return a;return-1}function It(e,t,r){return t==t?function(e,t,r){for(var n=r-1,i=e.length;++n<i;)if(e[n]===t)return n;return-1}(e,t,r):Ut(e,Dt,r)}function Tt(e,t,r,n){for(var i=r-1,a=e.length;++i<a;)if(n(e[i],t))return i;return-1}function Dt(e){return e!=e}function Kt(e,t){var r=null==e?0:e.length;return r?Ft(e,t)/r:l}function Ot(e){return function(t){return null==t?i:t[e]}}function zt(e){return function(t){return null==e?i:e[t]}}function jt(e,t,r,n,i){return i(e,(function(e,i,a){r=n?(n=!1,e):t(r,e,i,a)})),r}function Ft(e,t){for(var r,n=-1,a=e.length;++n<a;){var s=t(e[n]);s!==i&&(r=r===i?s:r+s)}return r}function Lt(e,t){for(var r=-1,n=Array(e);++r<e;)n[r]=t(r);return n}function qt(e){return e?e.slice(0,sr(e)+1).replace(ne,""):e}function Nt(e){return function(t){return e(t)}}function Wt(e,t){return Et(t,(function(t){return e[t]}))}function Ht(e,t){return e.has(t)}function $t(e,t){for(var r=-1,n=e.length;++r<n&&It(t,e[r],0)>-1;);return r}function Vt(e,t){for(var r=e.length;r--&&It(t,e[r],0)>-1;);return r}function Gt(e,t){for(var r=e.length,n=0;r--;)e[r]===t&&++n;return n}var Yt=zt({À:"A",Á:"A",Â:"A",Ã:"A",Ä:"A",Å:"A",à:"a",á:"a",â:"a",ã:"a",ä:"a",å:"a",Ç:"C",ç:"c",Ð:"D",ð:"d",È:"E",É:"E",Ê:"E",Ë:"E",è:"e",é:"e",ê:"e",ë:"e",Ì:"I",Í:"I",Î:"I",Ï:"I",ì:"i",í:"i",î:"i",ï:"i",Ñ:"N",ñ:"n",Ò:"O",Ó:"O",Ô:"O",Õ:"O",Ö:"O",Ø:"O",ò:"o",ó:"o",ô:"o",õ:"o",ö:"o",ø:"o",Ù:"U",Ú:"U",Û:"U",Ü:"U",ù:"u",ú:"u",û:"u",ü:"u",Ý:"Y",ý:"y",ÿ:"y",Æ:"Ae",æ:"ae",Þ:"Th",þ:"th",ß:"ss",Ā:"A",Ă:"A",Ą:"A",ā:"a",ă:"a",ą:"a",Ć:"C",Ĉ:"C",Ċ:"C",Č:"C",ć:"c",ĉ:"c",ċ:"c",č:"c",Ď:"D",Đ:"D",ď:"d",đ:"d",Ē:"E",Ĕ:"E",Ė:"E",Ę:"E",Ě:"E",ē:"e",ĕ:"e",ė:"e",ę:"e",ě:"e",Ĝ:"G",Ğ:"G",Ġ:"G",Ģ:"G",ĝ:"g",ğ:"g",ġ:"g",ģ:"g",Ĥ:"H",Ħ:"H",ĥ:"h",ħ:"h",Ĩ:"I",Ī:"I",Ĭ:"I",Į:"I",İ:"I",ĩ:"i",ī:"i",ĭ:"i",į:"i",ı:"i",Ĵ:"J",ĵ:"j",Ķ:"K",ķ:"k",ĸ:"k",Ĺ:"L",Ļ:"L",Ľ:"L",Ŀ:"L",Ł:"L",ĺ:"l",ļ:"l",ľ:"l",ŀ:"l",ł:"l",Ń:"N",Ņ:"N",Ň:"N",Ŋ:"N",ń:"n",ņ:"n",ň:"n",ŋ:"n",Ō:"O",Ŏ:"O",Ő:"O",ō:"o",ŏ:"o",ő:"o",Ŕ:"R",Ŗ:"R",Ř:"R",ŕ:"r",ŗ:"r",ř:"r",Ś:"S",Ŝ:"S",Ş:"S",Š:"S",ś:"s",ŝ:"s",ş:"s",š:"s",Ţ:"T",Ť:"T",Ŧ:"T",ţ:"t",ť:"t",ŧ:"t",Ũ:"U",Ū:"U",Ŭ:"U",Ů:"U",Ű:"U",Ų:"U",ũ:"u",ū:"u",ŭ:"u",ů:"u",ű:"u",ų:"u",Ŵ:"W",ŵ:"w",Ŷ:"Y",ŷ:"y",Ÿ:"Y",Ź:"Z",Ż:"Z",Ž:"Z",ź:"z",ż:"z",ž:"z",Ĳ:"IJ",ĳ:"ij",Œ:"Oe",œ:"oe",ŉ:"'n",ſ:"s"}),Zt=zt({"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"});function Xt(e){return"\\"+et[e]}function Jt(e){return Ge.test(e)}function Qt(e){var t=-1,r=Array(e.size);return e.forEach((function(e,n){r[++t]=[n,e]})),r}function er(e,t){return function(r){return e(t(r))}}function tr(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var s=e[r];s!==t&&s!==o||(e[r]=o,a[i++]=r)}return a}function rr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=e})),r}function nr(e){var t=-1,r=Array(e.size);return e.forEach((function(e){r[++t]=[e,e]})),r}function ir(e){return Jt(e)?function(e){for(var t=$e.lastIndex=0;$e.test(e);)++t;return t}(e):Bt(e)}function ar(e){return Jt(e)?function(e){return e.match($e)||[]}(e):function(e){return e.split("")}(e)}function sr(e){for(var t=e.length;t--&&ie.test(e.charAt(t)););return t}var or=zt({"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"}),cr=function e(t){var r,n=(t=null==t?at:cr.defaults(at.Object(),t,cr.pick(at,Ze))).Array,ie=t.Date,_e=t.Error,ke=t.Function,Ae=t.Math,Se=t.Object,Ee=t.RegExp,xe=t.String,Pe=t.TypeError,Ce=n.prototype,Me=ke.prototype,Be=Se.prototype,Re=t["__core-js_shared__"],Ue=Me.toString,Ie=Be.hasOwnProperty,Te=0,De=(r=/[^.]+$/.exec(Re&&Re.keys&&Re.keys.IE_PROTO||""))?"Symbol(src)_1."+r:"",Ke=Be.toString,Oe=Ue.call(Se),ze=at._,je=Ee("^"+Ue.call(Ie).replace(te,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Fe=ct?t.Buffer:i,Le=t.Symbol,qe=t.Uint8Array,Ne=Fe?Fe.allocUnsafe:i,$e=er(Se.getPrototypeOf,Se),Ge=Se.create,et=Be.propertyIsEnumerable,nt=Ce.splice,it=Le?Le.isConcatSpreadable:i,st=Le?Le.iterator:i,ot=Le?Le.toStringTag:i,ut=function(){try{var e=ua(Se,"defineProperty");return e({},"",{}),e}catch(e){}}(),ft=t.clearTimeout!==at.clearTimeout&&t.clearTimeout,Bt=ie&&ie.now!==at.Date.now&&ie.now,zt=t.setTimeout!==at.setTimeout&&t.setTimeout,ur=Ae.ceil,fr=Ae.floor,hr=Se.getOwnPropertySymbols,lr=Fe?Fe.isBuffer:i,dr=t.isFinite,pr=Ce.join,yr=er(Se.keys,Se),br=Ae.max,gr=Ae.min,mr=ie.now,vr=t.parseInt,wr=Ae.random,_r=Ce.reverse,kr=ua(t,"DataView"),Ar=ua(t,"Map"),Sr=ua(t,"Promise"),Er=ua(t,"Set"),xr=ua(t,"WeakMap"),Pr=ua(Se,"create"),Cr=xr&&new xr,Mr={},Br=za(kr),Rr=za(Ar),Ur=za(Sr),Ir=za(Er),Tr=za(xr),Dr=Le?Le.prototype:i,Kr=Dr?Dr.valueOf:i,Or=Dr?Dr.toString:i;function zr(e){if(to(e)&&!Ws(e)&&!(e instanceof qr)){if(e instanceof Lr)return e;if(Ie.call(e,"__wrapped__"))return ja(e)}return new Lr(e)}var jr=function(){function e(){}return function(t){if(!eo(t))return{};if(Ge)return Ge(t);e.prototype=t;var r=new e;return e.prototype=i,r}}();function Fr(){}function Lr(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=i}function qr(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=d,this.__views__=[]}function Nr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Wr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function Hr(e){var t=-1,r=null==e?0:e.length;for(this.clear();++t<r;){var n=e[t];this.set(n[0],n[1])}}function $r(e){var t=-1,r=null==e?0:e.length;for(this.__data__=new Hr;++t<r;)this.add(e[t])}function Vr(e){var t=this.__data__=new Wr(e);this.size=t.size}function Gr(e,t){var r=Ws(e),n=!r&&Ns(e),i=!r&&!n&&Gs(e),a=!r&&!n&&!i&&uo(e),s=r||n||i||a,o=s?Lt(e.length,xe):[],c=o.length;for(var u in e)!t&&!Ie.call(e,u)||s&&("length"==u||i&&("offset"==u||"parent"==u)||a&&("buffer"==u||"byteLength"==u||"byteOffset"==u)||ba(u,c))||o.push(u);return o}function Yr(e){var t=e.length;return t?e[$n(0,t-1)]:i}function Zr(e,t){return Ia(Pi(e),sn(t,0,e.length))}function Xr(e){return Ia(Pi(e))}function Jr(e,t,r){(r!==i&&!Fs(e[t],r)||r===i&&!(t in e))&&nn(e,t,r)}function Qr(e,t,r){var n=e[t];Ie.call(e,t)&&Fs(n,r)&&(r!==i||t in e)||nn(e,t,r)}function en(e,t){for(var r=e.length;r--;)if(Fs(e[r][0],t))return r;return-1}function tn(e,t,r,n){return hn(e,(function(e,i,a){t(n,e,r(e),a)})),n}function rn(e,t){return e&&Ci(t,Uo(t),e)}function nn(e,t,r){"__proto__"==t&&ut?ut(e,t,{configurable:!0,enumerable:!0,value:r,writable:!0}):e[t]=r}function an(e,t){for(var r=-1,a=t.length,s=n(a),o=null==e;++r<a;)s[r]=o?i:Po(e,t[r]);return s}function sn(e,t,r){return e==e&&(r!==i&&(e=e<=r?e:r),t!==i&&(e=e>=t?e:t)),e}function on(e,t,r,n,a,s){var o,c=1&t,u=2&t,f=4&t;if(r&&(o=a?r(e,n,a,s):r(e)),o!==i)return o;if(!eo(e))return e;var h=Ws(e);if(h){if(o=function(e){var t=e.length,r=new e.constructor(t);return t&&"string"==typeof e[0]&&Ie.call(e,"index")&&(r.index=e.index,r.input=e.input),r}(e),!c)return Pi(e,o)}else{var l=la(e),d=l==w||l==_;if(Gs(e))return _i(e,c);if(l==S||l==y||d&&!a){if(o=u||d?{}:pa(e),!c)return u?function(e,t){return Ci(e,ha(e),t)}(e,function(e,t){return e&&Ci(t,Io(t),e)}(o,e)):function(e,t){return Ci(e,fa(e),t)}(e,rn(o,e))}else{if(!Qe[l])return a?e:{};o=function(e,t,r){var n,i=e.constructor;switch(t){case R:return ki(e);case g:case m:return new i(+e);case U:return function(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.byteLength)}(e,r);case I:case T:case D:case K:case O:case z:case j:case F:case L:return Ai(e,r);case k:return new i;case A:case C:return new i(e);case x:return function(e){var t=new e.constructor(e.source,le.exec(e));return t.lastIndex=e.lastIndex,t}(e);case P:return new i;case M:return n=e,Kr?Se(Kr.call(n)):{}}}(e,l,c)}}s||(s=new Vr);var p=s.get(e);if(p)return p;s.set(e,o),so(e)?e.forEach((function(n){o.add(on(n,t,r,n,e,s))})):ro(e)&&e.forEach((function(n,i){o.set(i,on(n,t,r,i,e,s))}));var b=h?i:(f?u?ra:ta:u?Io:Uo)(e);return vt(b||e,(function(n,i){b&&(n=e[i=n]),Qr(o,i,on(n,t,r,i,e,s))})),o}function cn(e,t,r){var n=r.length;if(null==e)return!n;for(e=Se(e);n--;){var a=r[n],s=t[a],o=e[a];if(o===i&&!(a in e)||!s(o))return!1}return!0}function un(e,t,r){if("function"!=typeof e)throw new Pe(a);return Ma((function(){e.apply(i,r)}),t)}function fn(e,t,r,n){var i=-1,a=At,s=!0,o=e.length,c=[],u=t.length;if(!o)return c;r&&(t=Et(t,Nt(r))),n?(a=St,s=!1):t.length>=200&&(a=Ht,s=!1,t=new $r(t));e:for(;++i<o;){var f=e[i],h=null==r?f:r(f);if(f=n||0!==f?f:0,s&&h==h){for(var l=u;l--;)if(t[l]===h)continue e;c.push(f)}else a(t,h,n)||c.push(f)}return c}zr.templateSettings={escape:Y,evaluate:Z,interpolate:X,variable:"",imports:{_:zr}},zr.prototype=Fr.prototype,zr.prototype.constructor=zr,Lr.prototype=jr(Fr.prototype),Lr.prototype.constructor=Lr,qr.prototype=jr(Fr.prototype),qr.prototype.constructor=qr,Nr.prototype.clear=function(){this.__data__=Pr?Pr(null):{},this.size=0},Nr.prototype.delete=function(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t},Nr.prototype.get=function(e){var t=this.__data__;if(Pr){var r=t[e];return r===s?i:r}return Ie.call(t,e)?t[e]:i},Nr.prototype.has=function(e){var t=this.__data__;return Pr?t[e]!==i:Ie.call(t,e)},Nr.prototype.set=function(e,t){var r=this.__data__;return this.size+=this.has(e)?0:1,r[e]=Pr&&t===i?s:t,this},Wr.prototype.clear=function(){this.__data__=[],this.size=0},Wr.prototype.delete=function(e){var t=this.__data__,r=en(t,e);return!(r<0||(r==t.length-1?t.pop():nt.call(t,r,1),--this.size,0))},Wr.prototype.get=function(e){var t=this.__data__,r=en(t,e);return r<0?i:t[r][1]},Wr.prototype.has=function(e){return en(this.__data__,e)>-1},Wr.prototype.set=function(e,t){var r=this.__data__,n=en(r,e);return n<0?(++this.size,r.push([e,t])):r[n][1]=t,this},Hr.prototype.clear=function(){this.size=0,this.__data__={hash:new Nr,map:new(Ar||Wr),string:new Nr}},Hr.prototype.delete=function(e){var t=oa(this,e).delete(e);return this.size-=t?1:0,t},Hr.prototype.get=function(e){return oa(this,e).get(e)},Hr.prototype.has=function(e){return oa(this,e).has(e)},Hr.prototype.set=function(e,t){var r=oa(this,e),n=r.size;return r.set(e,t),this.size+=r.size==n?0:1,this},$r.prototype.add=$r.prototype.push=function(e){return this.__data__.set(e,s),this},$r.prototype.has=function(e){return this.__data__.has(e)},Vr.prototype.clear=function(){this.__data__=new Wr,this.size=0},Vr.prototype.delete=function(e){var t=this.__data__,r=t.delete(e);return this.size=t.size,r},Vr.prototype.get=function(e){return this.__data__.get(e)},Vr.prototype.has=function(e){return this.__data__.has(e)},Vr.prototype.set=function(e,t){var r=this.__data__;if(r instanceof Wr){var n=r.__data__;if(!Ar||n.length<199)return n.push([e,t]),this.size=++r.size,this;r=this.__data__=new Hr(n)}return r.set(e,t),this.size=r.size,this};var hn=Ri(vn),ln=Ri(wn,!0);function dn(e,t){var r=!0;return hn(e,(function(e,n,i){return r=!!t(e,n,i)})),r}function pn(e,t,r){for(var n=-1,a=e.length;++n<a;){var s=e[n],o=t(s);if(null!=o&&(c===i?o==o&&!co(o):r(o,c)))var c=o,u=s}return u}function yn(e,t){var r=[];return hn(e,(function(e,n,i){t(e,n,i)&&r.push(e)})),r}function bn(e,t,r,n,i){var a=-1,s=e.length;for(r||(r=ya),i||(i=[]);++a<s;){var o=e[a];t>0&&r(o)?t>1?bn(o,t-1,r,n,i):xt(i,o):n||(i[i.length]=o)}return i}var gn=Ui(),mn=Ui(!0);function vn(e,t){return e&&gn(e,t,Uo)}function wn(e,t){return e&&mn(e,t,Uo)}function _n(e,t){return kt(t,(function(t){return Xs(e[t])}))}function kn(e,t){for(var r=0,n=(t=gi(t,e)).length;null!=e&&r<n;)e=e[Oa(t[r++])];return r&&r==n?e:i}function An(e,t,r){var n=t(e);return Ws(e)?n:xt(n,r(e))}function Sn(e){return null==e?e===i?"[object Undefined]":"[object Null]":ot&&ot in Se(e)?function(e){var t=Ie.call(e,ot),r=e[ot];try{e[ot]=i;var n=!0}catch(e){}var a=Ke.call(e);return n&&(t?e[ot]=r:delete e[ot]),a}(e):function(e){return Ke.call(e)}(e)}function En(e,t){return e>t}function xn(e,t){return null!=e&&Ie.call(e,t)}function Pn(e,t){return null!=e&&t in Se(e)}function Cn(e,t,r){for(var a=r?St:At,s=e[0].length,o=e.length,c=o,u=n(o),f=1/0,h=[];c--;){var l=e[c];c&&t&&(l=Et(l,Nt(t))),f=gr(l.length,f),u[c]=!r&&(t||s>=120&&l.length>=120)?new $r(c&&l):i}l=e[0];var d=-1,p=u[0];e:for(;++d<s&&h.length<f;){var y=l[d],b=t?t(y):y;if(y=r||0!==y?y:0,!(p?Ht(p,b):a(h,b,r))){for(c=o;--c;){var g=u[c];if(!(g?Ht(g,b):a(e[c],b,r)))continue e}p&&p.push(b),h.push(y)}}return h}function Mn(e,t,r){var n=null==(e=Ea(e,t=gi(t,e)))?e:e[Oa(Za(t))];return null==n?i:gt(n,e,r)}function Bn(e){return to(e)&&Sn(e)==y}function Rn(e,t,r,n,a){return e===t||(null==e||null==t||!to(e)&&!to(t)?e!=e&&t!=t:function(e,t,r,n,a,s){var o=Ws(e),c=Ws(t),u=o?b:la(e),f=c?b:la(t),h=(u=u==y?S:u)==S,l=(f=f==y?S:f)==S,d=u==f;if(d&&Gs(e)){if(!Gs(t))return!1;o=!0,h=!1}if(d&&!h)return s||(s=new Vr),o||uo(e)?Qi(e,t,r,n,a,s):function(e,t,r,n,i,a,s){switch(r){case U:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case R:return!(e.byteLength!=t.byteLength||!a(new qe(e),new qe(t)));case g:case m:case A:return Fs(+e,+t);case v:return e.name==t.name&&e.message==t.message;case x:case C:return e==t+"";case k:var o=Qt;case P:var c=1&n;if(o||(o=rr),e.size!=t.size&&!c)return!1;var u=s.get(e);if(u)return u==t;n|=2,s.set(e,t);var f=Qi(o(e),o(t),n,i,a,s);return s.delete(e),f;case M:if(Kr)return Kr.call(e)==Kr.call(t)}return!1}(e,t,u,r,n,a,s);if(!(1&r)){var p=h&&Ie.call(e,"__wrapped__"),w=l&&Ie.call(t,"__wrapped__");if(p||w){var _=p?e.value():e,E=w?t.value():t;return s||(s=new Vr),a(_,E,r,n,s)}}return!!d&&(s||(s=new Vr),function(e,t,r,n,a,s){var o=1&r,c=ta(e),u=c.length;if(u!=ta(t).length&&!o)return!1;for(var f=u;f--;){var h=c[f];if(!(o?h in t:Ie.call(t,h)))return!1}var l=s.get(e),d=s.get(t);if(l&&d)return l==t&&d==e;var p=!0;s.set(e,t),s.set(t,e);for(var y=o;++f<u;){var b=e[h=c[f]],g=t[h];if(n)var m=o?n(g,b,h,t,e,s):n(b,g,h,e,t,s);if(!(m===i?b===g||a(b,g,r,n,s):m)){p=!1;break}y||(y="constructor"==h)}if(p&&!y){var v=e.constructor,w=t.constructor;v==w||!("constructor"in e)||!("constructor"in t)||"function"==typeof v&&v instanceof v&&"function"==typeof w&&w instanceof w||(p=!1)}return s.delete(e),s.delete(t),p}(e,t,r,n,a,s))}(e,t,r,n,Rn,a))}function Un(e,t,r,n){var a=r.length,s=a,o=!n;if(null==e)return!s;for(e=Se(e);a--;){var c=r[a];if(o&&c[2]?c[1]!==e[c[0]]:!(c[0]in e))return!1}for(;++a<s;){var u=(c=r[a])[0],f=e[u],h=c[1];if(o&&c[2]){if(f===i&&!(u in e))return!1}else{var l=new Vr;if(n)var d=n(f,h,u,e,t,l);if(!(d===i?Rn(h,f,3,n,l):d))return!1}}return!0}function In(e){return!(!eo(e)||(t=e,De&&De in t))&&(Xs(e)?je:ye).test(za(e));var t}function Tn(e){return"function"==typeof e?e:null==e?ic:"object"==typeof e?Ws(e)?jn(e[0],e[1]):zn(e):dc(e)}function Dn(e){if(!_a(e))return yr(e);var t=[];for(var r in Se(e))Ie.call(e,r)&&"constructor"!=r&&t.push(r);return t}function Kn(e,t){return e<t}function On(e,t){var r=-1,i=$s(e)?n(e.length):[];return hn(e,(function(e,n,a){i[++r]=t(e,n,a)})),i}function zn(e){var t=ca(e);return 1==t.length&&t[0][2]?Aa(t[0][0],t[0][1]):function(r){return r===e||Un(r,e,t)}}function jn(e,t){return ma(e)&&ka(t)?Aa(Oa(e),t):function(r){var n=Po(r,e);return n===i&&n===t?Co(r,e):Rn(t,n,3)}}function Fn(e,t,r,n,a){e!==t&&gn(t,(function(s,o){if(a||(a=new Vr),eo(s))!function(e,t,r,n,a,s,o){var c=Pa(e,r),u=Pa(t,r),f=o.get(u);if(f)Jr(e,r,f);else{var h=s?s(c,u,r+"",e,t,o):i,l=h===i;if(l){var d=Ws(u),p=!d&&Gs(u),y=!d&&!p&&uo(u);h=u,d||p||y?Ws(c)?h=c:Vs(c)?h=Pi(c):p?(l=!1,h=_i(u,!0)):y?(l=!1,h=Ai(u,!0)):h=[]:io(u)||Ns(u)?(h=c,Ns(c)?h=mo(c):eo(c)&&!Xs(c)||(h=pa(u))):l=!1}l&&(o.set(u,h),a(h,u,n,s,o),o.delete(u)),Jr(e,r,h)}}(e,t,o,r,Fn,n,a);else{var c=n?n(Pa(e,o),s,o+"",e,t,a):i;c===i&&(c=s),Jr(e,o,c)}}),Io)}function Ln(e,t){var r=e.length;if(r)return ba(t+=t<0?r:0,r)?e[t]:i}function qn(e,t,r){t=t.length?Et(t,(function(e){return Ws(e)?function(t){return kn(t,1===e.length?e[0]:e)}:e})):[ic];var n=-1;t=Et(t,Nt(sa()));var i=On(e,(function(e,r,i){var a=Et(t,(function(t){return t(e)}));return{criteria:a,index:++n,value:e}}));return function(e,t){var n=e.length;for(e.sort((function(e,t){return function(e,t,r){for(var n=-1,i=e.criteria,a=t.criteria,s=i.length,o=r.length;++n<s;){var c=Si(i[n],a[n]);if(c)return n>=o?c:c*("desc"==r[n]?-1:1)}return e.index-t.index}(e,t,r)}));n--;)e[n]=e[n].value;return e}(i)}function Nn(e,t,r){for(var n=-1,i=t.length,a={};++n<i;){var s=t[n],o=kn(e,s);r(o,s)&&Xn(a,gi(s,e),o)}return a}function Wn(e,t,r,n){var i=n?Tt:It,a=-1,s=t.length,o=e;for(e===t&&(t=Pi(t)),r&&(o=Et(e,Nt(r)));++a<s;)for(var c=0,u=t[a],f=r?r(u):u;(c=i(o,f,c,n))>-1;)o!==e&&nt.call(o,c,1),nt.call(e,c,1);return e}function Hn(e,t){for(var r=e?t.length:0,n=r-1;r--;){var i=t[r];if(r==n||i!==a){var a=i;ba(i)?nt.call(e,i,1):ui(e,i)}}return e}function $n(e,t){return e+fr(wr()*(t-e+1))}function Vn(e,t){var r="";if(!e||t<1||t>h)return r;do{t%2&&(r+=e),(t=fr(t/2))&&(e+=e)}while(t);return r}function Gn(e,t){return Ba(Sa(e,t,ic),e+"")}function Yn(e){return Yr(Lo(e))}function Zn(e,t){var r=Lo(e);return Ia(r,sn(t,0,r.length))}function Xn(e,t,r,n){if(!eo(e))return e;for(var a=-1,s=(t=gi(t,e)).length,o=s-1,c=e;null!=c&&++a<s;){var u=Oa(t[a]),f=r;if("__proto__"===u||"constructor"===u||"prototype"===u)return e;if(a!=o){var h=c[u];(f=n?n(h,u,c):i)===i&&(f=eo(h)?h:ba(t[a+1])?[]:{})}Qr(c,u,f),c=c[u]}return e}var Jn=Cr?function(e,t){return Cr.set(e,t),e}:ic,Qn=ut?function(e,t){return ut(e,"toString",{configurable:!0,enumerable:!1,value:tc(t),writable:!0})}:ic;function ei(e){return Ia(Lo(e))}function ti(e,t,r){var i=-1,a=e.length;t<0&&(t=-t>a?0:a+t),(r=r>a?a:r)<0&&(r+=a),a=t>r?0:r-t>>>0,t>>>=0;for(var s=n(a);++i<a;)s[i]=e[i+t];return s}function ri(e,t){var r;return hn(e,(function(e,n,i){return!(r=t(e,n,i))})),!!r}function ni(e,t,r){var n=0,i=null==e?n:e.length;if("number"==typeof t&&t==t&&i<=2147483647){for(;n<i;){var a=n+i>>>1,s=e[a];null!==s&&!co(s)&&(r?s<=t:s<t)?n=a+1:i=a}return i}return ii(e,t,ic,r)}function ii(e,t,r,n){var a=0,s=null==e?0:e.length;if(0===s)return 0;for(var o=(t=r(t))!=t,c=null===t,u=co(t),f=t===i;a<s;){var h=fr((a+s)/2),l=r(e[h]),d=l!==i,p=null===l,y=l==l,b=co(l);if(o)var g=n||y;else g=f?y&&(n||d):c?y&&d&&(n||!p):u?y&&d&&!p&&(n||!b):!p&&!b&&(n?l<=t:l<t);g?a=h+1:s=h}return gr(s,4294967294)}function ai(e,t){for(var r=-1,n=e.length,i=0,a=[];++r<n;){var s=e[r],o=t?t(s):s;if(!r||!Fs(o,c)){var c=o;a[i++]=0===s?0:s}}return a}function si(e){return"number"==typeof e?e:co(e)?l:+e}function oi(e){if("string"==typeof e)return e;if(Ws(e))return Et(e,oi)+"";if(co(e))return Or?Or.call(e):"";var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function ci(e,t,r){var n=-1,i=At,a=e.length,s=!0,o=[],c=o;if(r)s=!1,i=St;else if(a>=200){var u=t?null:Vi(e);if(u)return rr(u);s=!1,i=Ht,c=new $r}else c=t?[]:o;e:for(;++n<a;){var f=e[n],h=t?t(f):f;if(f=r||0!==f?f:0,s&&h==h){for(var l=c.length;l--;)if(c[l]===h)continue e;t&&c.push(h),o.push(f)}else i(c,h,r)||(c!==o&&c.push(h),o.push(f))}return o}function ui(e,t){return null==(e=Ea(e,t=gi(t,e)))||delete e[Oa(Za(t))]}function fi(e,t,r,n){return Xn(e,t,r(kn(e,t)),n)}function hi(e,t,r,n){for(var i=e.length,a=n?i:-1;(n?a--:++a<i)&&t(e[a],a,e););return r?ti(e,n?0:a,n?a+1:i):ti(e,n?a+1:0,n?i:a)}function li(e,t){var r=e;return r instanceof qr&&(r=r.value()),Pt(t,(function(e,t){return t.func.apply(t.thisArg,xt([e],t.args))}),r)}function di(e,t,r){var i=e.length;if(i<2)return i?ci(e[0]):[];for(var a=-1,s=n(i);++a<i;)for(var o=e[a],c=-1;++c<i;)c!=a&&(s[a]=fn(s[a]||o,e[c],t,r));return ci(bn(s,1),t,r)}function pi(e,t,r){for(var n=-1,a=e.length,s=t.length,o={};++n<a;){var c=n<s?t[n]:i;r(o,e[n],c)}return o}function yi(e){return Vs(e)?e:[]}function bi(e){return"function"==typeof e?e:ic}function gi(e,t){return Ws(e)?e:ma(e,t)?[e]:Ka(vo(e))}var mi=Gn;function vi(e,t,r){var n=e.length;return r=r===i?n:r,!t&&r>=n?e:ti(e,t,r)}var wi=ft||function(e){return at.clearTimeout(e)};function _i(e,t){if(t)return e.slice();var r=e.length,n=Ne?Ne(r):new e.constructor(r);return e.copy(n),n}function ki(e){var t=new e.constructor(e.byteLength);return new qe(t).set(new qe(e)),t}function Ai(e,t){var r=t?ki(e.buffer):e.buffer;return new e.constructor(r,e.byteOffset,e.length)}function Si(e,t){if(e!==t){var r=e!==i,n=null===e,a=e==e,s=co(e),o=t!==i,c=null===t,u=t==t,f=co(t);if(!c&&!f&&!s&&e>t||s&&o&&u&&!c&&!f||n&&o&&u||!r&&u||!a)return 1;if(!n&&!s&&!f&&e<t||f&&r&&a&&!n&&!s||c&&r&&a||!o&&a||!u)return-1}return 0}function Ei(e,t,r,i){for(var a=-1,s=e.length,o=r.length,c=-1,u=t.length,f=br(s-o,0),h=n(u+f),l=!i;++c<u;)h[c]=t[c];for(;++a<o;)(l||a<s)&&(h[r[a]]=e[a]);for(;f--;)h[c++]=e[a++];return h}function xi(e,t,r,i){for(var a=-1,s=e.length,o=-1,c=r.length,u=-1,f=t.length,h=br(s-c,0),l=n(h+f),d=!i;++a<h;)l[a]=e[a];for(var p=a;++u<f;)l[p+u]=t[u];for(;++o<c;)(d||a<s)&&(l[p+r[o]]=e[a++]);return l}function Pi(e,t){var r=-1,i=e.length;for(t||(t=n(i));++r<i;)t[r]=e[r];return t}function Ci(e,t,r,n){var a=!r;r||(r={});for(var s=-1,o=t.length;++s<o;){var c=t[s],u=n?n(r[c],e[c],c,r,e):i;u===i&&(u=e[c]),a?nn(r,c,u):Qr(r,c,u)}return r}function Mi(e,t){return function(r,n){var i=Ws(r)?mt:tn,a=t?t():{};return i(r,e,sa(n,2),a)}}function Bi(e){return Gn((function(t,r){var n=-1,a=r.length,s=a>1?r[a-1]:i,o=a>2?r[2]:i;for(s=e.length>3&&"function"==typeof s?(a--,s):i,o&&ga(r[0],r[1],o)&&(s=a<3?i:s,a=1),t=Se(t);++n<a;){var c=r[n];c&&e(t,c,n,s)}return t}))}function Ri(e,t){return function(r,n){if(null==r)return r;if(!$s(r))return e(r,n);for(var i=r.length,a=t?i:-1,s=Se(r);(t?a--:++a<i)&&!1!==n(s[a],a,s););return r}}function Ui(e){return function(t,r,n){for(var i=-1,a=Se(t),s=n(t),o=s.length;o--;){var c=s[e?o:++i];if(!1===r(a[c],c,a))break}return t}}function Ii(e){return function(t){var r=Jt(t=vo(t))?ar(t):i,n=r?r[0]:t.charAt(0),a=r?vi(r,1).join(""):t.slice(1);return n[e]()+a}}function Ti(e){return function(t){return Pt(Jo(Wo(t).replace(We,"")),e,"")}}function Di(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var r=jr(e.prototype),n=e.apply(r,t);return eo(n)?n:r}}function Ki(e){return function(t,r,n){var a=Se(t);if(!$s(t)){var s=sa(r,3);t=Uo(t),r=function(e){return s(a[e],e,a)}}var o=e(t,r,n);return o>-1?a[s?t[o]:o]:i}}function Oi(e){return ea((function(t){var r=t.length,n=r,s=Lr.prototype.thru;for(e&&t.reverse();n--;){var o=t[n];if("function"!=typeof o)throw new Pe(a);if(s&&!c&&"wrapper"==ia(o))var c=new Lr([],!0)}for(n=c?n:r;++n<r;){var u=ia(o=t[n]),f="wrapper"==u?na(o):i;c=f&&va(f[0])&&424==f[1]&&!f[4].length&&1==f[9]?c[ia(f[0])].apply(c,f[3]):1==o.length&&va(o)?c[u]():c.thru(o)}return function(){var e=arguments,n=e[0];if(c&&1==e.length&&Ws(n))return c.plant(n).value();for(var i=0,a=r?t[i].apply(this,e):n;++i<r;)a=t[i].call(this,a);return a}}))}function zi(e,t,r,a,s,o,c,f,h,l){var d=t&u,p=1&t,y=2&t,b=24&t,g=512&t,m=y?i:Di(e);return function i(){for(var u=arguments.length,v=n(u),w=u;w--;)v[w]=arguments[w];if(b)var _=aa(i),k=Gt(v,_);if(a&&(v=Ei(v,a,s,b)),o&&(v=xi(v,o,c,b)),u-=k,b&&u<l){var A=tr(v,_);return Hi(e,t,zi,i.placeholder,r,v,A,f,h,l-u)}var S=p?r:this,E=y?S[e]:e;return u=v.length,f?v=xa(v,f):g&&u>1&&v.reverse(),d&&h<u&&(v.length=h),this&&this!==at&&this instanceof i&&(E=m||Di(E)),E.apply(S,v)}}function ji(e,t){return function(r,n){return function(e,t,r,n){return vn(e,(function(e,i,a){t(n,r(e),i,a)})),n}(r,e,t(n),{})}}function Fi(e,t){return function(r,n){var a;if(r===i&&n===i)return t;if(r!==i&&(a=r),n!==i){if(a===i)return n;"string"==typeof r||"string"==typeof n?(r=oi(r),n=oi(n)):(r=si(r),n=si(n)),a=e(r,n)}return a}}function Li(e){return ea((function(t){return t=Et(t,Nt(sa())),Gn((function(r){var n=this;return e(t,(function(e){return gt(e,n,r)}))}))}))}function qi(e,t){var r=(t=t===i?" ":oi(t)).length;if(r<2)return r?Vn(t,e):t;var n=Vn(t,ur(e/ir(t)));return Jt(t)?vi(ar(n),0,e).join(""):n.slice(0,e)}function Ni(e){return function(t,r,a){return a&&"number"!=typeof a&&ga(t,r,a)&&(r=a=i),t=po(t),r===i?(r=t,t=0):r=po(r),function(e,t,r,i){for(var a=-1,s=br(ur((t-e)/(r||1)),0),o=n(s);s--;)o[i?s:++a]=e,e+=r;return o}(t,r,a=a===i?t<r?1:-1:po(a),e)}}function Wi(e){return function(t,r){return"string"==typeof t&&"string"==typeof r||(t=go(t),r=go(r)),e(t,r)}}function Hi(e,t,r,n,a,s,o,u,f,h){var l=8&t;t|=l?c:64,4&(t&=~(l?64:c))||(t&=-4);var d=[e,t,a,l?s:i,l?o:i,l?i:s,l?i:o,u,f,h],p=r.apply(i,d);return va(e)&&Ca(p,d),p.placeholder=n,Ra(p,e,t)}function $i(e){var t=Ae[e];return function(e,r){if(e=go(e),(r=null==r?0:gr(yo(r),292))&&dr(e)){var n=(vo(e)+"e").split("e");return+((n=(vo(t(n[0]+"e"+(+n[1]+r)))+"e").split("e"))[0]+"e"+(+n[1]-r))}return t(e)}}var Vi=Er&&1/rr(new Er([,-0]))[1]==f?function(e){return new Er(e)}:uc;function Gi(e){return function(t){var r=la(t);return r==k?Qt(t):r==P?nr(t):function(e,t){return Et(t,(function(t){return[t,e[t]]}))}(t,e(t))}}function Yi(e,t,r,s,f,h,l,d){var p=2&t;if(!p&&"function"!=typeof e)throw new Pe(a);var y=s?s.length:0;if(y||(t&=-97,s=f=i),l=l===i?l:br(yo(l),0),d=d===i?d:yo(d),y-=f?f.length:0,64&t){var b=s,g=f;s=f=i}var m=p?i:na(e),v=[e,t,r,s,f,b,g,h,l,d];if(m&&function(e,t){var r=e[1],n=t[1],i=r|n,a=i<131,s=n==u&&8==r||n==u&&256==r&&e[7].length<=t[8]||384==n&&t[7].length<=t[8]&&8==r;if(!a&&!s)return e;1&n&&(e[2]=t[2],i|=1&r?0:4);var c=t[3];if(c){var f=e[3];e[3]=f?Ei(f,c,t[4]):c,e[4]=f?tr(e[3],o):t[4]}(c=t[5])&&(f=e[5],e[5]=f?xi(f,c,t[6]):c,e[6]=f?tr(e[5],o):t[6]),(c=t[7])&&(e[7]=c),n&u&&(e[8]=null==e[8]?t[8]:gr(e[8],t[8])),null==e[9]&&(e[9]=t[9]),e[0]=t[0],e[1]=i}(v,m),e=v[0],t=v[1],r=v[2],s=v[3],f=v[4],!(d=v[9]=v[9]===i?p?0:e.length:br(v[9]-y,0))&&24&t&&(t&=-25),t&&1!=t)w=8==t||16==t?function(e,t,r){var a=Di(e);return function s(){for(var o=arguments.length,c=n(o),u=o,f=aa(s);u--;)c[u]=arguments[u];var h=o<3&&c[0]!==f&&c[o-1]!==f?[]:tr(c,f);return(o-=h.length)<r?Hi(e,t,zi,s.placeholder,i,c,h,i,i,r-o):gt(this&&this!==at&&this instanceof s?a:e,this,c)}}(e,t,d):t!=c&&33!=t||f.length?zi.apply(i,v):function(e,t,r,i){var a=1&t,s=Di(e);return function t(){for(var o=-1,c=arguments.length,u=-1,f=i.length,h=n(f+c),l=this&&this!==at&&this instanceof t?s:e;++u<f;)h[u]=i[u];for(;c--;)h[u++]=arguments[++o];return gt(l,a?r:this,h)}}(e,t,r,s);else var w=function(e,t,r){var n=1&t,i=Di(e);return function t(){return(this&&this!==at&&this instanceof t?i:e).apply(n?r:this,arguments)}}(e,t,r);return Ra((m?Jn:Ca)(w,v),e,t)}function Zi(e,t,r,n){return e===i||Fs(e,Be[r])&&!Ie.call(n,r)?t:e}function Xi(e,t,r,n,a,s){return eo(e)&&eo(t)&&(s.set(t,e),Fn(e,t,i,Xi,s),s.delete(t)),e}function Ji(e){return io(e)?i:e}function Qi(e,t,r,n,a,s){var o=1&r,c=e.length,u=t.length;if(c!=u&&!(o&&u>c))return!1;var f=s.get(e),h=s.get(t);if(f&&h)return f==t&&h==e;var l=-1,d=!0,p=2&r?new $r:i;for(s.set(e,t),s.set(t,e);++l<c;){var y=e[l],b=t[l];if(n)var g=o?n(b,y,l,t,e,s):n(y,b,l,e,t,s);if(g!==i){if(g)continue;d=!1;break}if(p){if(!Mt(t,(function(e,t){if(!Ht(p,t)&&(y===e||a(y,e,r,n,s)))return p.push(t)}))){d=!1;break}}else if(y!==b&&!a(y,b,r,n,s)){d=!1;break}}return s.delete(e),s.delete(t),d}function ea(e){return Ba(Sa(e,i,Ha),e+"")}function ta(e){return An(e,Uo,fa)}function ra(e){return An(e,Io,ha)}var na=Cr?function(e){return Cr.get(e)}:uc;function ia(e){for(var t=e.name+"",r=Mr[t],n=Ie.call(Mr,t)?r.length:0;n--;){var i=r[n],a=i.func;if(null==a||a==e)return i.name}return t}function aa(e){return(Ie.call(zr,"placeholder")?zr:e).placeholder}function sa(){var e=zr.iteratee||ac;return e=e===ac?Tn:e,arguments.length?e(arguments[0],arguments[1]):e}function oa(e,t){var r,n,i=e.__data__;return("string"==(n=typeof(r=t))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?i["string"==typeof t?"string":"hash"]:i.map}function ca(e){for(var t=Uo(e),r=t.length;r--;){var n=t[r],i=e[n];t[r]=[n,i,ka(i)]}return t}function ua(e,t){var r=function(e,t){return null==e?i:e[t]}(e,t);return In(r)?r:i}var fa=hr?function(e){return null==e?[]:(e=Se(e),kt(hr(e),(function(t){return et.call(e,t)})))}:bc,ha=hr?function(e){for(var t=[];e;)xt(t,fa(e)),e=$e(e);return t}:bc,la=Sn;function da(e,t,r){for(var n=-1,i=(t=gi(t,e)).length,a=!1;++n<i;){var s=Oa(t[n]);if(!(a=null!=e&&r(e,s)))break;e=e[s]}return a||++n!=i?a:!!(i=null==e?0:e.length)&&Qs(i)&&ba(s,i)&&(Ws(e)||Ns(e))}function pa(e){return"function"!=typeof e.constructor||_a(e)?{}:jr($e(e))}function ya(e){return Ws(e)||Ns(e)||!!(it&&e&&e[it])}function ba(e,t){var r=typeof e;return!!(t=null==t?h:t)&&("number"==r||"symbol"!=r&&ge.test(e))&&e>-1&&e%1==0&&e<t}function ga(e,t,r){if(!eo(r))return!1;var n=typeof t;return!!("number"==n?$s(r)&&ba(t,r.length):"string"==n&&t in r)&&Fs(r[t],e)}function ma(e,t){if(Ws(e))return!1;var r=typeof e;return!("number"!=r&&"symbol"!=r&&"boolean"!=r&&null!=e&&!co(e))||Q.test(e)||!J.test(e)||null!=t&&e in Se(t)}function va(e){var t=ia(e),r=zr[t];if("function"!=typeof r||!(t in qr.prototype))return!1;if(e===r)return!0;var n=na(r);return!!n&&e===n[0]}(kr&&la(new kr(new ArrayBuffer(1)))!=U||Ar&&la(new Ar)!=k||Sr&&la(Sr.resolve())!=E||Er&&la(new Er)!=P||xr&&la(new xr)!=B)&&(la=function(e){var t=Sn(e),r=t==S?e.constructor:i,n=r?za(r):"";if(n)switch(n){case Br:return U;case Rr:return k;case Ur:return E;case Ir:return P;case Tr:return B}return t});var wa=Re?Xs:gc;function _a(e){var t=e&&e.constructor;return e===("function"==typeof t&&t.prototype||Be)}function ka(e){return e==e&&!eo(e)}function Aa(e,t){return function(r){return null!=r&&r[e]===t&&(t!==i||e in Se(r))}}function Sa(e,t,r){return t=br(t===i?e.length-1:t,0),function(){for(var i=arguments,a=-1,s=br(i.length-t,0),o=n(s);++a<s;)o[a]=i[t+a];a=-1;for(var c=n(t+1);++a<t;)c[a]=i[a];return c[t]=r(o),gt(e,this,c)}}function Ea(e,t){return t.length<2?e:kn(e,ti(t,0,-1))}function xa(e,t){for(var r=e.length,n=gr(t.length,r),a=Pi(e);n--;){var s=t[n];e[n]=ba(s,r)?a[s]:i}return e}function Pa(e,t){if(("constructor"!==t||"function"!=typeof e[t])&&"__proto__"!=t)return e[t]}var Ca=Ua(Jn),Ma=zt||function(e,t){return at.setTimeout(e,t)},Ba=Ua(Qn);function Ra(e,t,r){var n=t+"";return Ba(e,function(e,t){var r=t.length;if(!r)return e;var n=r-1;return t[n]=(r>1?"& ":"")+t[n],t=t.join(r>2?", ":" "),e.replace(ae,"{\n/* [wrapped with "+t+"] */\n")}(n,function(e,t){return vt(p,(function(r){var n="_."+r[0];t&r[1]&&!At(e,n)&&e.push(n)})),e.sort()}(function(e){var t=e.match(se);return t?t[1].split(oe):[]}(n),r)))}function Ua(e){var t=0,r=0;return function(){var n=mr(),a=16-(n-r);if(r=n,a>0){if(++t>=800)return arguments[0]}else t=0;return e.apply(i,arguments)}}function Ia(e,t){var r=-1,n=e.length,a=n-1;for(t=t===i?n:t;++r<t;){var s=$n(r,a),o=e[s];e[s]=e[r],e[r]=o}return e.length=t,e}var Ta,Da,Ka=(Ta=Ts((function(e){var t=[];return 46===e.charCodeAt(0)&&t.push(""),e.replace(ee,(function(e,r,n,i){t.push(n?i.replace(fe,"$1"):r||e)})),t}),(function(e){return 500===Da.size&&Da.clear(),e})),Da=Ta.cache,Ta);function Oa(e){if("string"==typeof e||co(e))return e;var t=e+"";return"0"==t&&1/e==-1/0?"-0":t}function za(e){if(null!=e){try{return Ue.call(e)}catch(e){}try{return e+""}catch(e){}}return""}function ja(e){if(e instanceof qr)return e.clone();var t=new Lr(e.__wrapped__,e.__chain__);return t.__actions__=Pi(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var Fa=Gn((function(e,t){return Vs(e)?fn(e,bn(t,1,Vs,!0)):[]})),La=Gn((function(e,t){var r=Za(t);return Vs(r)&&(r=i),Vs(e)?fn(e,bn(t,1,Vs,!0),sa(r,2)):[]})),qa=Gn((function(e,t){var r=Za(t);return Vs(r)&&(r=i),Vs(e)?fn(e,bn(t,1,Vs,!0),i,r):[]}));function Na(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:yo(r);return i<0&&(i=br(n+i,0)),Ut(e,sa(t,3),i)}function Wa(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n-1;return r!==i&&(a=yo(r),a=r<0?br(n+a,0):gr(a,n-1)),Ut(e,sa(t,3),a,!0)}function Ha(e){return null!=e&&e.length?bn(e,1):[]}function $a(e){return e&&e.length?e[0]:i}var Va=Gn((function(e){var t=Et(e,yi);return t.length&&t[0]===e[0]?Cn(t):[]})),Ga=Gn((function(e){var t=Za(e),r=Et(e,yi);return t===Za(r)?t=i:r.pop(),r.length&&r[0]===e[0]?Cn(r,sa(t,2)):[]})),Ya=Gn((function(e){var t=Za(e),r=Et(e,yi);return(t="function"==typeof t?t:i)&&r.pop(),r.length&&r[0]===e[0]?Cn(r,i,t):[]}));function Za(e){var t=null==e?0:e.length;return t?e[t-1]:i}var Xa=Gn(Ja);function Ja(e,t){return e&&e.length&&t&&t.length?Wn(e,t):e}var Qa=ea((function(e,t){var r=null==e?0:e.length,n=an(e,t);return Hn(e,Et(t,(function(e){return ba(e,r)?+e:e})).sort(Si)),n}));function es(e){return null==e?e:_r.call(e)}var ts=Gn((function(e){return ci(bn(e,1,Vs,!0))})),rs=Gn((function(e){var t=Za(e);return Vs(t)&&(t=i),ci(bn(e,1,Vs,!0),sa(t,2))})),ns=Gn((function(e){var t=Za(e);return t="function"==typeof t?t:i,ci(bn(e,1,Vs,!0),i,t)}));function is(e){if(!e||!e.length)return[];var t=0;return e=kt(e,(function(e){if(Vs(e))return t=br(e.length,t),!0})),Lt(t,(function(t){return Et(e,Ot(t))}))}function as(e,t){if(!e||!e.length)return[];var r=is(e);return null==t?r:Et(r,(function(e){return gt(t,i,e)}))}var ss=Gn((function(e,t){return Vs(e)?fn(e,t):[]})),os=Gn((function(e){return di(kt(e,Vs))})),cs=Gn((function(e){var t=Za(e);return Vs(t)&&(t=i),di(kt(e,Vs),sa(t,2))})),us=Gn((function(e){var t=Za(e);return t="function"==typeof t?t:i,di(kt(e,Vs),i,t)})),fs=Gn(is),hs=Gn((function(e){var t=e.length,r=t>1?e[t-1]:i;return r="function"==typeof r?(e.pop(),r):i,as(e,r)}));function ls(e){var t=zr(e);return t.__chain__=!0,t}function ds(e,t){return t(e)}var ps=ea((function(e){var t=e.length,r=t?e[0]:0,n=this.__wrapped__,a=function(t){return an(t,e)};return!(t>1||this.__actions__.length)&&n instanceof qr&&ba(r)?((n=n.slice(r,+r+(t?1:0))).__actions__.push({func:ds,args:[a],thisArg:i}),new Lr(n,this.__chain__).thru((function(e){return t&&!e.length&&e.push(i),e}))):this.thru(a)})),ys=Mi((function(e,t,r){Ie.call(e,r)?++e[r]:nn(e,r,1)})),bs=Ki(Na),gs=Ki(Wa);function ms(e,t){return(Ws(e)?vt:hn)(e,sa(t,3))}function vs(e,t){return(Ws(e)?wt:ln)(e,sa(t,3))}var ws=Mi((function(e,t,r){Ie.call(e,r)?e[r].push(t):nn(e,r,[t])})),_s=Gn((function(e,t,r){var i=-1,a="function"==typeof t,s=$s(e)?n(e.length):[];return hn(e,(function(e){s[++i]=a?gt(t,e,r):Mn(e,t,r)})),s})),ks=Mi((function(e,t,r){nn(e,r,t)}));function As(e,t){return(Ws(e)?Et:On)(e,sa(t,3))}var Ss=Mi((function(e,t,r){e[r?0:1].push(t)}),(function(){return[[],[]]})),Es=Gn((function(e,t){if(null==e)return[];var r=t.length;return r>1&&ga(e,t[0],t[1])?t=[]:r>2&&ga(t[0],t[1],t[2])&&(t=[t[0]]),qn(e,bn(t,1),[])})),xs=Bt||function(){return at.Date.now()};function Ps(e,t,r){return t=r?i:t,t=e&&null==t?e.length:t,Yi(e,u,i,i,i,i,t)}function Cs(e,t){var r;if("function"!=typeof t)throw new Pe(a);return e=yo(e),function(){return--e>0&&(r=t.apply(this,arguments)),e<=1&&(t=i),r}}var Ms=Gn((function(e,t,r){var n=1;if(r.length){var i=tr(r,aa(Ms));n|=c}return Yi(e,n,t,r,i)})),Bs=Gn((function(e,t,r){var n=3;if(r.length){var i=tr(r,aa(Bs));n|=c}return Yi(t,n,e,r,i)}));function Rs(e,t,r){var n,s,o,c,u,f,h=0,l=!1,d=!1,p=!0;if("function"!=typeof e)throw new Pe(a);function y(t){var r=n,a=s;return n=s=i,h=t,c=e.apply(a,r)}function b(e){return h=e,u=Ma(m,t),l?y(e):c}function g(e){var r=e-f;return f===i||r>=t||r<0||d&&e-h>=o}function m(){var e=xs();if(g(e))return v(e);u=Ma(m,function(e){var r=t-(e-f);return d?gr(r,o-(e-h)):r}(e))}function v(e){return u=i,p&&n?y(e):(n=s=i,c)}function w(){var e=xs(),r=g(e);if(n=arguments,s=this,f=e,r){if(u===i)return b(f);if(d)return wi(u),u=Ma(m,t),y(f)}return u===i&&(u=Ma(m,t)),c}return t=go(t)||0,eo(r)&&(l=!!r.leading,o=(d="maxWait"in r)?br(go(r.maxWait)||0,t):o,p="trailing"in r?!!r.trailing:p),w.cancel=function(){u!==i&&wi(u),h=0,n=f=s=u=i},w.flush=function(){return u===i?c:v(xs())},w}var Us=Gn((function(e,t){return un(e,1,t)})),Is=Gn((function(e,t,r){return un(e,go(t)||0,r)}));function Ts(e,t){if("function"!=typeof e||null!=t&&"function"!=typeof t)throw new Pe(a);var r=function(){var n=arguments,i=t?t.apply(this,n):n[0],a=r.cache;if(a.has(i))return a.get(i);var s=e.apply(this,n);return r.cache=a.set(i,s)||a,s};return r.cache=new(Ts.Cache||Hr),r}function Ds(e){if("function"!=typeof e)throw new Pe(a);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}Ts.Cache=Hr;var Ks=mi((function(e,t){var r=(t=1==t.length&&Ws(t[0])?Et(t[0],Nt(sa())):Et(bn(t,1),Nt(sa()))).length;return Gn((function(n){for(var i=-1,a=gr(n.length,r);++i<a;)n[i]=t[i].call(this,n[i]);return gt(e,this,n)}))})),Os=Gn((function(e,t){var r=tr(t,aa(Os));return Yi(e,c,i,t,r)})),zs=Gn((function(e,t){var r=tr(t,aa(zs));return Yi(e,64,i,t,r)})),js=ea((function(e,t){return Yi(e,256,i,i,i,t)}));function Fs(e,t){return e===t||e!=e&&t!=t}var Ls=Wi(En),qs=Wi((function(e,t){return e>=t})),Ns=Bn(function(){return arguments}())?Bn:function(e){return to(e)&&Ie.call(e,"callee")&&!et.call(e,"callee")},Ws=n.isArray,Hs=ht?Nt(ht):function(e){return to(e)&&Sn(e)==R};function $s(e){return null!=e&&Qs(e.length)&&!Xs(e)}function Vs(e){return to(e)&&$s(e)}var Gs=lr||gc,Ys=lt?Nt(lt):function(e){return to(e)&&Sn(e)==m};function Zs(e){if(!to(e))return!1;var t=Sn(e);return t==v||"[object DOMException]"==t||"string"==typeof e.message&&"string"==typeof e.name&&!io(e)}function Xs(e){if(!eo(e))return!1;var t=Sn(e);return t==w||t==_||"[object AsyncFunction]"==t||"[object Proxy]"==t}function Js(e){return"number"==typeof e&&e==yo(e)}function Qs(e){return"number"==typeof e&&e>-1&&e%1==0&&e<=h}function eo(e){var t=typeof e;return null!=e&&("object"==t||"function"==t)}function to(e){return null!=e&&"object"==typeof e}var ro=dt?Nt(dt):function(e){return to(e)&&la(e)==k};function no(e){return"number"==typeof e||to(e)&&Sn(e)==A}function io(e){if(!to(e)||Sn(e)!=S)return!1;var t=$e(e);if(null===t)return!0;var r=Ie.call(t,"constructor")&&t.constructor;return"function"==typeof r&&r instanceof r&&Ue.call(r)==Oe}var ao=pt?Nt(pt):function(e){return to(e)&&Sn(e)==x},so=yt?Nt(yt):function(e){return to(e)&&la(e)==P};function oo(e){return"string"==typeof e||!Ws(e)&&to(e)&&Sn(e)==C}function co(e){return"symbol"==typeof e||to(e)&&Sn(e)==M}var uo=bt?Nt(bt):function(e){return to(e)&&Qs(e.length)&&!!Je[Sn(e)]},fo=Wi(Kn),ho=Wi((function(e,t){return e<=t}));function lo(e){if(!e)return[];if($s(e))return oo(e)?ar(e):Pi(e);if(st&&e[st])return function(e){for(var t,r=[];!(t=e.next()).done;)r.push(t.value);return r}(e[st]());var t=la(e);return(t==k?Qt:t==P?rr:Lo)(e)}function po(e){return e?(e=go(e))===f||e===-1/0?17976931348623157e292*(e<0?-1:1):e==e?e:0:0===e?e:0}function yo(e){var t=po(e),r=t%1;return t==t?r?t-r:t:0}function bo(e){return e?sn(yo(e),0,d):0}function go(e){if("number"==typeof e)return e;if(co(e))return l;if(eo(e)){var t="function"==typeof e.valueOf?e.valueOf():e;e=eo(t)?t+"":t}if("string"!=typeof e)return 0===e?e:+e;e=qt(e);var r=pe.test(e);return r||be.test(e)?rt(e.slice(2),r?2:8):de.test(e)?l:+e}function mo(e){return Ci(e,Io(e))}function vo(e){return null==e?"":oi(e)}var wo=Bi((function(e,t){if(_a(t)||$s(t))Ci(t,Uo(t),e);else for(var r in t)Ie.call(t,r)&&Qr(e,r,t[r])})),_o=Bi((function(e,t){Ci(t,Io(t),e)})),ko=Bi((function(e,t,r,n){Ci(t,Io(t),e,n)})),Ao=Bi((function(e,t,r,n){Ci(t,Uo(t),e,n)})),So=ea(an),Eo=Gn((function(e,t){e=Se(e);var r=-1,n=t.length,a=n>2?t[2]:i;for(a&&ga(t[0],t[1],a)&&(n=1);++r<n;)for(var s=t[r],o=Io(s),c=-1,u=o.length;++c<u;){var f=o[c],h=e[f];(h===i||Fs(h,Be[f])&&!Ie.call(e,f))&&(e[f]=s[f])}return e})),xo=Gn((function(e){return e.push(i,Xi),gt(Do,i,e)}));function Po(e,t,r){var n=null==e?i:kn(e,t);return n===i?r:n}function Co(e,t){return null!=e&&da(e,t,Pn)}var Mo=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ke.call(t)),e[t]=r}),tc(ic)),Bo=ji((function(e,t,r){null!=t&&"function"!=typeof t.toString&&(t=Ke.call(t)),Ie.call(e,t)?e[t].push(r):e[t]=[r]}),sa),Ro=Gn(Mn);function Uo(e){return $s(e)?Gr(e):Dn(e)}function Io(e){return $s(e)?Gr(e,!0):function(e){if(!eo(e))return function(e){var t=[];if(null!=e)for(var r in Se(e))t.push(r);return t}(e);var t=_a(e),r=[];for(var n in e)("constructor"!=n||!t&&Ie.call(e,n))&&r.push(n);return r}(e)}var To=Bi((function(e,t,r){Fn(e,t,r)})),Do=Bi((function(e,t,r,n){Fn(e,t,r,n)})),Ko=ea((function(e,t){var r={};if(null==e)return r;var n=!1;t=Et(t,(function(t){return t=gi(t,e),n||(n=t.length>1),t})),Ci(e,ra(e),r),n&&(r=on(r,7,Ji));for(var i=t.length;i--;)ui(r,t[i]);return r})),Oo=ea((function(e,t){return null==e?{}:function(e,t){return Nn(e,t,(function(t,r){return Co(e,r)}))}(e,t)}));function zo(e,t){if(null==e)return{};var r=Et(ra(e),(function(e){return[e]}));return t=sa(t),Nn(e,r,(function(e,r){return t(e,r[0])}))}var jo=Gi(Uo),Fo=Gi(Io);function Lo(e){return null==e?[]:Wt(e,Uo(e))}var qo=Ti((function(e,t,r){return t=t.toLowerCase(),e+(r?No(t):t)}));function No(e){return Xo(vo(e).toLowerCase())}function Wo(e){return(e=vo(e))&&e.replace(me,Yt).replace(He,"")}var Ho=Ti((function(e,t,r){return e+(r?"-":"")+t.toLowerCase()})),$o=Ti((function(e,t,r){return e+(r?" ":"")+t.toLowerCase()})),Vo=Ii("toLowerCase"),Go=Ti((function(e,t,r){return e+(r?"_":"")+t.toLowerCase()})),Yo=Ti((function(e,t,r){return e+(r?" ":"")+Xo(t)})),Zo=Ti((function(e,t,r){return e+(r?" ":"")+t.toUpperCase()})),Xo=Ii("toUpperCase");function Jo(e,t,r){return e=vo(e),(t=r?i:t)===i?function(e){return Ye.test(e)}(e)?function(e){return e.match(Ve)||[]}(e):function(e){return e.match(ce)||[]}(e):e.match(t)||[]}var Qo=Gn((function(e,t){try{return gt(e,i,t)}catch(e){return Zs(e)?e:new _e(e)}})),ec=ea((function(e,t){return vt(t,(function(t){t=Oa(t),nn(e,t,Ms(e[t],e))})),e}));function tc(e){return function(){return e}}var rc=Oi(),nc=Oi(!0);function ic(e){return e}function ac(e){return Tn("function"==typeof e?e:on(e,1))}var sc=Gn((function(e,t){return function(r){return Mn(r,e,t)}})),oc=Gn((function(e,t){return function(r){return Mn(e,r,t)}}));function cc(e,t,r){var n=Uo(t),i=_n(t,n);null!=r||eo(t)&&(i.length||!n.length)||(r=t,t=e,e=this,i=_n(t,Uo(t)));var a=!(eo(r)&&"chain"in r&&!r.chain),s=Xs(e);return vt(i,(function(r){var n=t[r];e[r]=n,s&&(e.prototype[r]=function(){var t=this.__chain__;if(a||t){var r=e(this.__wrapped__),i=r.__actions__=Pi(this.__actions__);return i.push({func:n,args:arguments,thisArg:e}),r.__chain__=t,r}return n.apply(e,xt([this.value()],arguments))})})),e}function uc(){}var fc=Li(Et),hc=Li(_t),lc=Li(Mt);function dc(e){return ma(e)?Ot(Oa(e)):function(e){return function(t){return kn(t,e)}}(e)}var pc=Ni(),yc=Ni(!0);function bc(){return[]}function gc(){return!1}var mc,vc=Fi((function(e,t){return e+t}),0),wc=$i("ceil"),_c=Fi((function(e,t){return e/t}),1),kc=$i("floor"),Ac=Fi((function(e,t){return e*t}),1),Sc=$i("round"),Ec=Fi((function(e,t){return e-t}),0);return zr.after=function(e,t){if("function"!=typeof t)throw new Pe(a);return e=yo(e),function(){if(--e<1)return t.apply(this,arguments)}},zr.ary=Ps,zr.assign=wo,zr.assignIn=_o,zr.assignInWith=ko,zr.assignWith=Ao,zr.at=So,zr.before=Cs,zr.bind=Ms,zr.bindAll=ec,zr.bindKey=Bs,zr.castArray=function(){if(!arguments.length)return[];var e=arguments[0];return Ws(e)?e:[e]},zr.chain=ls,zr.chunk=function(e,t,r){t=(r?ga(e,t,r):t===i)?1:br(yo(t),0);var a=null==e?0:e.length;if(!a||t<1)return[];for(var s=0,o=0,c=n(ur(a/t));s<a;)c[o++]=ti(e,s,s+=t);return c},zr.compact=function(e){for(var t=-1,r=null==e?0:e.length,n=0,i=[];++t<r;){var a=e[t];a&&(i[n++]=a)}return i},zr.concat=function(){var e=arguments.length;if(!e)return[];for(var t=n(e-1),r=arguments[0],i=e;i--;)t[i-1]=arguments[i];return xt(Ws(r)?Pi(r):[r],bn(t,1))},zr.cond=function(e){var t=null==e?0:e.length,r=sa();return e=t?Et(e,(function(e){if("function"!=typeof e[1])throw new Pe(a);return[r(e[0]),e[1]]})):[],Gn((function(r){for(var n=-1;++n<t;){var i=e[n];if(gt(i[0],this,r))return gt(i[1],this,r)}}))},zr.conforms=function(e){return function(e){var t=Uo(e);return function(r){return cn(r,e,t)}}(on(e,1))},zr.constant=tc,zr.countBy=ys,zr.create=function(e,t){var r=jr(e);return null==t?r:rn(r,t)},zr.curry=function e(t,r,n){var a=Yi(t,8,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},zr.curryRight=function e(t,r,n){var a=Yi(t,16,i,i,i,i,i,r=n?i:r);return a.placeholder=e.placeholder,a},zr.debounce=Rs,zr.defaults=Eo,zr.defaultsDeep=xo,zr.defer=Us,zr.delay=Is,zr.difference=Fa,zr.differenceBy=La,zr.differenceWith=qa,zr.drop=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=r||t===i?1:yo(t))<0?0:t,n):[]},zr.dropRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,0,(t=n-(t=r||t===i?1:yo(t)))<0?0:t):[]},zr.dropRightWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!0,!0):[]},zr.dropWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!0):[]},zr.fill=function(e,t,r,n){var a=null==e?0:e.length;return a?(r&&"number"!=typeof r&&ga(e,t,r)&&(r=0,n=a),function(e,t,r,n){var a=e.length;for((r=yo(r))<0&&(r=-r>a?0:a+r),(n=n===i||n>a?a:yo(n))<0&&(n+=a),n=r>n?0:bo(n);r<n;)e[r++]=t;return e}(e,t,r,n)):[]},zr.filter=function(e,t){return(Ws(e)?kt:yn)(e,sa(t,3))},zr.flatMap=function(e,t){return bn(As(e,t),1)},zr.flatMapDeep=function(e,t){return bn(As(e,t),f)},zr.flatMapDepth=function(e,t,r){return r=r===i?1:yo(r),bn(As(e,t),r)},zr.flatten=Ha,zr.flattenDeep=function(e){return null!=e&&e.length?bn(e,f):[]},zr.flattenDepth=function(e,t){return null!=e&&e.length?bn(e,t=t===i?1:yo(t)):[]},zr.flip=function(e){return Yi(e,512)},zr.flow=rc,zr.flowRight=nc,zr.fromPairs=function(e){for(var t=-1,r=null==e?0:e.length,n={};++t<r;){var i=e[t];n[i[0]]=i[1]}return n},zr.functions=function(e){return null==e?[]:_n(e,Uo(e))},zr.functionsIn=function(e){return null==e?[]:_n(e,Io(e))},zr.groupBy=ws,zr.initial=function(e){return null!=e&&e.length?ti(e,0,-1):[]},zr.intersection=Va,zr.intersectionBy=Ga,zr.intersectionWith=Ya,zr.invert=Mo,zr.invertBy=Bo,zr.invokeMap=_s,zr.iteratee=ac,zr.keyBy=ks,zr.keys=Uo,zr.keysIn=Io,zr.map=As,zr.mapKeys=function(e,t){var r={};return t=sa(t,3),vn(e,(function(e,n,i){nn(r,t(e,n,i),e)})),r},zr.mapValues=function(e,t){var r={};return t=sa(t,3),vn(e,(function(e,n,i){nn(r,n,t(e,n,i))})),r},zr.matches=function(e){return zn(on(e,1))},zr.matchesProperty=function(e,t){return jn(e,on(t,1))},zr.memoize=Ts,zr.merge=To,zr.mergeWith=Do,zr.method=sc,zr.methodOf=oc,zr.mixin=cc,zr.negate=Ds,zr.nthArg=function(e){return e=yo(e),Gn((function(t){return Ln(t,e)}))},zr.omit=Ko,zr.omitBy=function(e,t){return zo(e,Ds(sa(t)))},zr.once=function(e){return Cs(2,e)},zr.orderBy=function(e,t,r,n){return null==e?[]:(Ws(t)||(t=null==t?[]:[t]),Ws(r=n?i:r)||(r=null==r?[]:[r]),qn(e,t,r))},zr.over=fc,zr.overArgs=Ks,zr.overEvery=hc,zr.overSome=lc,zr.partial=Os,zr.partialRight=zs,zr.partition=Ss,zr.pick=Oo,zr.pickBy=zo,zr.property=dc,zr.propertyOf=function(e){return function(t){return null==e?i:kn(e,t)}},zr.pull=Xa,zr.pullAll=Ja,zr.pullAllBy=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,sa(r,2)):e},zr.pullAllWith=function(e,t,r){return e&&e.length&&t&&t.length?Wn(e,t,i,r):e},zr.pullAt=Qa,zr.range=pc,zr.rangeRight=yc,zr.rearg=js,zr.reject=function(e,t){return(Ws(e)?kt:yn)(e,Ds(sa(t,3)))},zr.remove=function(e,t){var r=[];if(!e||!e.length)return r;var n=-1,i=[],a=e.length;for(t=sa(t,3);++n<a;){var s=e[n];t(s,n,e)&&(r.push(s),i.push(n))}return Hn(e,i),r},zr.rest=function(e,t){if("function"!=typeof e)throw new Pe(a);return Gn(e,t=t===i?t:yo(t))},zr.reverse=es,zr.sampleSize=function(e,t,r){return t=(r?ga(e,t,r):t===i)?1:yo(t),(Ws(e)?Zr:Zn)(e,t)},zr.set=function(e,t,r){return null==e?e:Xn(e,t,r)},zr.setWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:Xn(e,t,r,n)},zr.shuffle=function(e){return(Ws(e)?Xr:ei)(e)},zr.slice=function(e,t,r){var n=null==e?0:e.length;return n?(r&&"number"!=typeof r&&ga(e,t,r)?(t=0,r=n):(t=null==t?0:yo(t),r=r===i?n:yo(r)),ti(e,t,r)):[]},zr.sortBy=Es,zr.sortedUniq=function(e){return e&&e.length?ai(e):[]},zr.sortedUniqBy=function(e,t){return e&&e.length?ai(e,sa(t,2)):[]},zr.split=function(e,t,r){return r&&"number"!=typeof r&&ga(e,t,r)&&(t=r=i),(r=r===i?d:r>>>0)?(e=vo(e))&&("string"==typeof t||null!=t&&!ao(t))&&!(t=oi(t))&&Jt(e)?vi(ar(e),0,r):e.split(t,r):[]},zr.spread=function(e,t){if("function"!=typeof e)throw new Pe(a);return t=null==t?0:br(yo(t),0),Gn((function(r){var n=r[t],i=vi(r,0,t);return n&&xt(i,n),gt(e,this,i)}))},zr.tail=function(e){var t=null==e?0:e.length;return t?ti(e,1,t):[]},zr.take=function(e,t,r){return e&&e.length?ti(e,0,(t=r||t===i?1:yo(t))<0?0:t):[]},zr.takeRight=function(e,t,r){var n=null==e?0:e.length;return n?ti(e,(t=n-(t=r||t===i?1:yo(t)))<0?0:t,n):[]},zr.takeRightWhile=function(e,t){return e&&e.length?hi(e,sa(t,3),!1,!0):[]},zr.takeWhile=function(e,t){return e&&e.length?hi(e,sa(t,3)):[]},zr.tap=function(e,t){return t(e),e},zr.throttle=function(e,t,r){var n=!0,i=!0;if("function"!=typeof e)throw new Pe(a);return eo(r)&&(n="leading"in r?!!r.leading:n,i="trailing"in r?!!r.trailing:i),Rs(e,t,{leading:n,maxWait:t,trailing:i})},zr.thru=ds,zr.toArray=lo,zr.toPairs=jo,zr.toPairsIn=Fo,zr.toPath=function(e){return Ws(e)?Et(e,Oa):co(e)?[e]:Pi(Ka(vo(e)))},zr.toPlainObject=mo,zr.transform=function(e,t,r){var n=Ws(e),i=n||Gs(e)||uo(e);if(t=sa(t,4),null==r){var a=e&&e.constructor;r=i?n?new a:[]:eo(e)&&Xs(a)?jr($e(e)):{}}return(i?vt:vn)(e,(function(e,n,i){return t(r,e,n,i)})),r},zr.unary=function(e){return Ps(e,1)},zr.union=ts,zr.unionBy=rs,zr.unionWith=ns,zr.uniq=function(e){return e&&e.length?ci(e):[]},zr.uniqBy=function(e,t){return e&&e.length?ci(e,sa(t,2)):[]},zr.uniqWith=function(e,t){return t="function"==typeof t?t:i,e&&e.length?ci(e,i,t):[]},zr.unset=function(e,t){return null==e||ui(e,t)},zr.unzip=is,zr.unzipWith=as,zr.update=function(e,t,r){return null==e?e:fi(e,t,bi(r))},zr.updateWith=function(e,t,r,n){return n="function"==typeof n?n:i,null==e?e:fi(e,t,bi(r),n)},zr.values=Lo,zr.valuesIn=function(e){return null==e?[]:Wt(e,Io(e))},zr.without=ss,zr.words=Jo,zr.wrap=function(e,t){return Os(bi(t),e)},zr.xor=os,zr.xorBy=cs,zr.xorWith=us,zr.zip=fs,zr.zipObject=function(e,t){return pi(e||[],t||[],Qr)},zr.zipObjectDeep=function(e,t){return pi(e||[],t||[],Xn)},zr.zipWith=hs,zr.entries=jo,zr.entriesIn=Fo,zr.extend=_o,zr.extendWith=ko,cc(zr,zr),zr.add=vc,zr.attempt=Qo,zr.camelCase=qo,zr.capitalize=No,zr.ceil=wc,zr.clamp=function(e,t,r){return r===i&&(r=t,t=i),r!==i&&(r=(r=go(r))==r?r:0),t!==i&&(t=(t=go(t))==t?t:0),sn(go(e),t,r)},zr.clone=function(e){return on(e,4)},zr.cloneDeep=function(e){return on(e,5)},zr.cloneDeepWith=function(e,t){return on(e,5,t="function"==typeof t?t:i)},zr.cloneWith=function(e,t){return on(e,4,t="function"==typeof t?t:i)},zr.conformsTo=function(e,t){return null==t||cn(e,t,Uo(t))},zr.deburr=Wo,zr.defaultTo=function(e,t){return null==e||e!=e?t:e},zr.divide=_c,zr.endsWith=function(e,t,r){e=vo(e),t=oi(t);var n=e.length,a=r=r===i?n:sn(yo(r),0,n);return(r-=t.length)>=0&&e.slice(r,a)==t},zr.eq=Fs,zr.escape=function(e){return(e=vo(e))&&G.test(e)?e.replace($,Zt):e},zr.escapeRegExp=function(e){return(e=vo(e))&&re.test(e)?e.replace(te,"\\$&"):e},zr.every=function(e,t,r){var n=Ws(e)?_t:dn;return r&&ga(e,t,r)&&(t=i),n(e,sa(t,3))},zr.find=bs,zr.findIndex=Na,zr.findKey=function(e,t){return Rt(e,sa(t,3),vn)},zr.findLast=gs,zr.findLastIndex=Wa,zr.findLastKey=function(e,t){return Rt(e,sa(t,3),wn)},zr.floor=kc,zr.forEach=ms,zr.forEachRight=vs,zr.forIn=function(e,t){return null==e?e:gn(e,sa(t,3),Io)},zr.forInRight=function(e,t){return null==e?e:mn(e,sa(t,3),Io)},zr.forOwn=function(e,t){return e&&vn(e,sa(t,3))},zr.forOwnRight=function(e,t){return e&&wn(e,sa(t,3))},zr.get=Po,zr.gt=Ls,zr.gte=qs,zr.has=function(e,t){return null!=e&&da(e,t,xn)},zr.hasIn=Co,zr.head=$a,zr.identity=ic,zr.includes=function(e,t,r,n){e=$s(e)?e:Lo(e),r=r&&!n?yo(r):0;var i=e.length;return r<0&&(r=br(i+r,0)),oo(e)?r<=i&&e.indexOf(t,r)>-1:!!i&&It(e,t,r)>-1},zr.indexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var i=null==r?0:yo(r);return i<0&&(i=br(n+i,0)),It(e,t,i)},zr.inRange=function(e,t,r){return t=po(t),r===i?(r=t,t=0):r=po(r),function(e,t,r){return e>=gr(t,r)&&e<br(t,r)}(e=go(e),t,r)},zr.invoke=Ro,zr.isArguments=Ns,zr.isArray=Ws,zr.isArrayBuffer=Hs,zr.isArrayLike=$s,zr.isArrayLikeObject=Vs,zr.isBoolean=function(e){return!0===e||!1===e||to(e)&&Sn(e)==g},zr.isBuffer=Gs,zr.isDate=Ys,zr.isElement=function(e){return to(e)&&1===e.nodeType&&!io(e)},zr.isEmpty=function(e){if(null==e)return!0;if($s(e)&&(Ws(e)||"string"==typeof e||"function"==typeof e.splice||Gs(e)||uo(e)||Ns(e)))return!e.length;var t=la(e);if(t==k||t==P)return!e.size;if(_a(e))return!Dn(e).length;for(var r in e)if(Ie.call(e,r))return!1;return!0},zr.isEqual=function(e,t){return Rn(e,t)},zr.isEqualWith=function(e,t,r){var n=(r="function"==typeof r?r:i)?r(e,t):i;return n===i?Rn(e,t,i,r):!!n},zr.isError=Zs,zr.isFinite=function(e){return"number"==typeof e&&dr(e)},zr.isFunction=Xs,zr.isInteger=Js,zr.isLength=Qs,zr.isMap=ro,zr.isMatch=function(e,t){return e===t||Un(e,t,ca(t))},zr.isMatchWith=function(e,t,r){return r="function"==typeof r?r:i,Un(e,t,ca(t),r)},zr.isNaN=function(e){return no(e)&&e!=+e},zr.isNative=function(e){if(wa(e))throw new _e("Unsupported core-js use. Try https://npms.io/search?q=ponyfill.");return In(e)},zr.isNil=function(e){return null==e},zr.isNull=function(e){return null===e},zr.isNumber=no,zr.isObject=eo,zr.isObjectLike=to,zr.isPlainObject=io,zr.isRegExp=ao,zr.isSafeInteger=function(e){return Js(e)&&e>=-9007199254740991&&e<=h},zr.isSet=so,zr.isString=oo,zr.isSymbol=co,zr.isTypedArray=uo,zr.isUndefined=function(e){return e===i},zr.isWeakMap=function(e){return to(e)&&la(e)==B},zr.isWeakSet=function(e){return to(e)&&"[object WeakSet]"==Sn(e)},zr.join=function(e,t){return null==e?"":pr.call(e,t)},zr.kebabCase=Ho,zr.last=Za,zr.lastIndexOf=function(e,t,r){var n=null==e?0:e.length;if(!n)return-1;var a=n;return r!==i&&(a=(a=yo(r))<0?br(n+a,0):gr(a,n-1)),t==t?function(e,t,r){for(var n=r+1;n--;)if(e[n]===t)return n;return n}(e,t,a):Ut(e,Dt,a,!0)},zr.lowerCase=$o,zr.lowerFirst=Vo,zr.lt=fo,zr.lte=ho,zr.max=function(e){return e&&e.length?pn(e,ic,En):i},zr.maxBy=function(e,t){return e&&e.length?pn(e,sa(t,2),En):i},zr.mean=function(e){return Kt(e,ic)},zr.meanBy=function(e,t){return Kt(e,sa(t,2))},zr.min=function(e){return e&&e.length?pn(e,ic,Kn):i},zr.minBy=function(e,t){return e&&e.length?pn(e,sa(t,2),Kn):i},zr.stubArray=bc,zr.stubFalse=gc,zr.stubObject=function(){return{}},zr.stubString=function(){return""},zr.stubTrue=function(){return!0},zr.multiply=Ac,zr.nth=function(e,t){return e&&e.length?Ln(e,yo(t)):i},zr.noConflict=function(){return at._===this&&(at._=ze),this},zr.noop=uc,zr.now=xs,zr.pad=function(e,t,r){e=vo(e);var n=(t=yo(t))?ir(e):0;if(!t||n>=t)return e;var i=(t-n)/2;return qi(fr(i),r)+e+qi(ur(i),r)},zr.padEnd=function(e,t,r){e=vo(e);var n=(t=yo(t))?ir(e):0;return t&&n<t?e+qi(t-n,r):e},zr.padStart=function(e,t,r){e=vo(e);var n=(t=yo(t))?ir(e):0;return t&&n<t?qi(t-n,r)+e:e},zr.parseInt=function(e,t,r){return r||null==t?t=0:t&&(t=+t),vr(vo(e).replace(ne,""),t||0)},zr.random=function(e,t,r){if(r&&"boolean"!=typeof r&&ga(e,t,r)&&(t=r=i),r===i&&("boolean"==typeof t?(r=t,t=i):"boolean"==typeof e&&(r=e,e=i)),e===i&&t===i?(e=0,t=1):(e=po(e),t===i?(t=e,e=0):t=po(t)),e>t){var n=e;e=t,t=n}if(r||e%1||t%1){var a=wr();return gr(e+a*(t-e+tt("1e-"+((a+"").length-1))),t)}return $n(e,t)},zr.reduce=function(e,t,r){var n=Ws(e)?Pt:jt,i=arguments.length<3;return n(e,sa(t,4),r,i,hn)},zr.reduceRight=function(e,t,r){var n=Ws(e)?Ct:jt,i=arguments.length<3;return n(e,sa(t,4),r,i,ln)},zr.repeat=function(e,t,r){return t=(r?ga(e,t,r):t===i)?1:yo(t),Vn(vo(e),t)},zr.replace=function(){var e=arguments,t=vo(e[0]);return e.length<3?t:t.replace(e[1],e[2])},zr.result=function(e,t,r){var n=-1,a=(t=gi(t,e)).length;for(a||(a=1,e=i);++n<a;){var s=null==e?i:e[Oa(t[n])];s===i&&(n=a,s=r),e=Xs(s)?s.call(e):s}return e},zr.round=Sc,zr.runInContext=e,zr.sample=function(e){return(Ws(e)?Yr:Yn)(e)},zr.size=function(e){if(null==e)return 0;if($s(e))return oo(e)?ir(e):e.length;var t=la(e);return t==k||t==P?e.size:Dn(e).length},zr.snakeCase=Go,zr.some=function(e,t,r){var n=Ws(e)?Mt:ri;return r&&ga(e,t,r)&&(t=i),n(e,sa(t,3))},zr.sortedIndex=function(e,t){return ni(e,t)},zr.sortedIndexBy=function(e,t,r){return ii(e,t,sa(r,2))},zr.sortedIndexOf=function(e,t){var r=null==e?0:e.length;if(r){var n=ni(e,t);if(n<r&&Fs(e[n],t))return n}return-1},zr.sortedLastIndex=function(e,t){return ni(e,t,!0)},zr.sortedLastIndexBy=function(e,t,r){return ii(e,t,sa(r,2),!0)},zr.sortedLastIndexOf=function(e,t){if(null!=e&&e.length){var r=ni(e,t,!0)-1;if(Fs(e[r],t))return r}return-1},zr.startCase=Yo,zr.startsWith=function(e,t,r){return e=vo(e),r=null==r?0:sn(yo(r),0,e.length),t=oi(t),e.slice(r,r+t.length)==t},zr.subtract=Ec,zr.sum=function(e){return e&&e.length?Ft(e,ic):0},zr.sumBy=function(e,t){return e&&e.length?Ft(e,sa(t,2)):0},zr.template=function(e,t,r){var n=zr.templateSettings;r&&ga(e,t,r)&&(t=i),e=vo(e),t=ko({},t,n,Zi);var a,s,o=ko({},t.imports,n.imports,Zi),c=Uo(o),u=Wt(o,c),f=0,h=t.interpolate||ve,l="__p += '",d=Ee((t.escape||ve).source+"|"+h.source+"|"+(h===X?he:ve).source+"|"+(t.evaluate||ve).source+"|$","g"),p="//# sourceURL="+(Ie.call(t,"sourceURL")?(t.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++Xe+"]")+"\n";e.replace(d,(function(t,r,n,i,o,c){return n||(n=i),l+=e.slice(f,c).replace(we,Xt),r&&(a=!0,l+="' +\n__e("+r+") +\n'"),o&&(s=!0,l+="';\n"+o+";\n__p += '"),n&&(l+="' +\n((__t = ("+n+")) == null ? '' : __t) +\n'"),f=c+t.length,t})),l+="';\n";var y=Ie.call(t,"variable")&&t.variable;if(y){if(ue.test(y))throw new _e("Invalid `variable` option passed into `_.template`")}else l="with (obj) {\n"+l+"\n}\n";l=(s?l.replace(q,""):l).replace(N,"$1").replace(W,"$1;"),l="function("+(y||"obj")+") {\n"+(y?"":"obj || (obj = {});\n")+"var __t, __p = ''"+(a?", __e = _.escape":"")+(s?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+l+"return __p\n}";var b=Qo((function(){return ke(c,p+"return "+l).apply(i,u)}));if(b.source=l,Zs(b))throw b;return b},zr.times=function(e,t){if((e=yo(e))<1||e>h)return[];var r=d,n=gr(e,d);t=sa(t),e-=d;for(var i=Lt(n,t);++r<e;)t(r);return i},zr.toFinite=po,zr.toInteger=yo,zr.toLength=bo,zr.toLower=function(e){return vo(e).toLowerCase()},zr.toNumber=go,zr.toSafeInteger=function(e){return e?sn(yo(e),-9007199254740991,h):0===e?e:0},zr.toString=vo,zr.toUpper=function(e){return vo(e).toUpperCase()},zr.trim=function(e,t,r){if((e=vo(e))&&(r||t===i))return qt(e);if(!e||!(t=oi(t)))return e;var n=ar(e),a=ar(t);return vi(n,$t(n,a),Vt(n,a)+1).join("")},zr.trimEnd=function(e,t,r){if((e=vo(e))&&(r||t===i))return e.slice(0,sr(e)+1);if(!e||!(t=oi(t)))return e;var n=ar(e);return vi(n,0,Vt(n,ar(t))+1).join("")},zr.trimStart=function(e,t,r){if((e=vo(e))&&(r||t===i))return e.replace(ne,"");if(!e||!(t=oi(t)))return e;var n=ar(e);return vi(n,$t(n,ar(t))).join("")},zr.truncate=function(e,t){var r=30,n="...";if(eo(t)){var a="separator"in t?t.separator:a;r="length"in t?yo(t.length):r,n="omission"in t?oi(t.omission):n}var s=(e=vo(e)).length;if(Jt(e)){var o=ar(e);s=o.length}if(r>=s)return e;var c=r-ir(n);if(c<1)return n;var u=o?vi(o,0,c).join(""):e.slice(0,c);if(a===i)return u+n;if(o&&(c+=u.length-c),ao(a)){if(e.slice(c).search(a)){var f,h=u;for(a.global||(a=Ee(a.source,vo(le.exec(a))+"g")),a.lastIndex=0;f=a.exec(h);)var l=f.index;u=u.slice(0,l===i?c:l)}}else if(e.indexOf(oi(a),c)!=c){var d=u.lastIndexOf(a);d>-1&&(u=u.slice(0,d))}return u+n},zr.unescape=function(e){return(e=vo(e))&&V.test(e)?e.replace(H,or):e},zr.uniqueId=function(e){var t=++Te;return vo(e)+t},zr.upperCase=Zo,zr.upperFirst=Xo,zr.each=ms,zr.eachRight=vs,zr.first=$a,cc(zr,(mc={},vn(zr,(function(e,t){Ie.call(zr.prototype,t)||(mc[t]=e)})),mc),{chain:!1}),zr.VERSION="4.17.21",vt(["bind","bindKey","curry","curryRight","partial","partialRight"],(function(e){zr[e].placeholder=zr})),vt(["drop","take"],(function(e,t){qr.prototype[e]=function(r){r=r===i?1:br(yo(r),0);var n=this.__filtered__&&!t?new qr(this):this.clone();return n.__filtered__?n.__takeCount__=gr(r,n.__takeCount__):n.__views__.push({size:gr(r,d),type:e+(n.__dir__<0?"Right":"")}),n},qr.prototype[e+"Right"]=function(t){return this.reverse()[e](t).reverse()}})),vt(["filter","map","takeWhile"],(function(e,t){var r=t+1,n=1==r||3==r;qr.prototype[e]=function(e){var t=this.clone();return t.__iteratees__.push({iteratee:sa(e,3),type:r}),t.__filtered__=t.__filtered__||n,t}})),vt(["head","last"],(function(e,t){var r="take"+(t?"Right":"");qr.prototype[e]=function(){return this[r](1).value()[0]}})),vt(["initial","tail"],(function(e,t){var r="drop"+(t?"":"Right");qr.prototype[e]=function(){return this.__filtered__?new qr(this):this[r](1)}})),qr.prototype.compact=function(){return this.filter(ic)},qr.prototype.find=function(e){return this.filter(e).head()},qr.prototype.findLast=function(e){return this.reverse().find(e)},qr.prototype.invokeMap=Gn((function(e,t){return"function"==typeof e?new qr(this):this.map((function(r){return Mn(r,e,t)}))})),qr.prototype.reject=function(e){return this.filter(Ds(sa(e)))},qr.prototype.slice=function(e,t){e=yo(e);var r=this;return r.__filtered__&&(e>0||t<0)?new qr(r):(e<0?r=r.takeRight(-e):e&&(r=r.drop(e)),t!==i&&(r=(t=yo(t))<0?r.dropRight(-t):r.take(t-e)),r)},qr.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()},qr.prototype.toArray=function(){return this.take(d)},vn(qr.prototype,(function(e,t){var r=/^(?:filter|find|map|reject)|While$/.test(t),n=/^(?:head|last)$/.test(t),a=zr[n?"take"+("last"==t?"Right":""):t],s=n||/^find/.test(t);a&&(zr.prototype[t]=function(){var t=this.__wrapped__,o=n?[1]:arguments,c=t instanceof qr,u=o[0],f=c||Ws(t),h=function(e){var t=a.apply(zr,xt([e],o));return n&&l?t[0]:t};f&&r&&"function"==typeof u&&1!=u.length&&(c=f=!1);var l=this.__chain__,d=!!this.__actions__.length,p=s&&!l,y=c&&!d;if(!s&&f){t=y?t:new qr(this);var b=e.apply(t,o);return b.__actions__.push({func:ds,args:[h],thisArg:i}),new Lr(b,l)}return p&&y?e.apply(this,o):(b=this.thru(h),p?n?b.value()[0]:b.value():b)})})),vt(["pop","push","shift","sort","splice","unshift"],(function(e){var t=Ce[e],r=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",n=/^(?:pop|shift)$/.test(e);zr.prototype[e]=function(){var e=arguments;if(n&&!this.__chain__){var i=this.value();return t.apply(Ws(i)?i:[],e)}return this[r]((function(r){return t.apply(Ws(r)?r:[],e)}))}})),vn(qr.prototype,(function(e,t){var r=zr[t];if(r){var n=r.name+"";Ie.call(Mr,n)||(Mr[n]=[]),Mr[n].push({name:t,func:r})}})),Mr[zi(i,2).name]=[{name:"wrapper",func:i}],qr.prototype.clone=function(){var e=new qr(this.__wrapped__);return e.__actions__=Pi(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Pi(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Pi(this.__views__),e},qr.prototype.reverse=function(){if(this.__filtered__){var e=new qr(this);e.__dir__=-1,e.__filtered__=!0}else(e=this.clone()).__dir__*=-1;return e},qr.prototype.value=function(){var e=this.__wrapped__.value(),t=this.__dir__,r=Ws(e),n=t<0,i=r?e.length:0,a=function(e,t,r){for(var n=-1,i=r.length;++n<i;){var a=r[n],s=a.size;switch(a.type){case"drop":e+=s;break;case"dropRight":t-=s;break;case"take":t=gr(t,e+s);break;case"takeRight":e=br(e,t-s)}}return{start:e,end:t}}(0,i,this.__views__),s=a.start,o=a.end,c=o-s,u=n?o:s-1,f=this.__iteratees__,h=f.length,l=0,d=gr(c,this.__takeCount__);if(!r||!n&&i==c&&d==c)return li(e,this.__actions__);var p=[];e:for(;c--&&l<d;){for(var y=-1,b=e[u+=t];++y<h;){var g=f[y],m=g.iteratee,v=g.type,w=m(b);if(2==v)b=w;else if(!w){if(1==v)continue e;break e}}p[l++]=b}return p},zr.prototype.at=ps,zr.prototype.chain=function(){return ls(this)},zr.prototype.commit=function(){return new Lr(this.value(),this.__chain__)},zr.prototype.next=function(){this.__values__===i&&(this.__values__=lo(this.value()));var e=this.__index__>=this.__values__.length;return{done:e,value:e?i:this.__values__[this.__index__++]}},zr.prototype.plant=function(e){for(var t,r=this;r instanceof Fr;){var n=ja(r);n.__index__=0,n.__values__=i,t?a.__wrapped__=n:t=n;var a=n;r=r.__wrapped__}return a.__wrapped__=e,t},zr.prototype.reverse=function(){var e=this.__wrapped__;if(e instanceof qr){var t=e;return this.__actions__.length&&(t=new qr(this)),(t=t.reverse()).__actions__.push({func:ds,args:[es],thisArg:i}),new Lr(t,this.__chain__)}return this.thru(es)},zr.prototype.toJSON=zr.prototype.valueOf=zr.prototype.value=function(){return li(this.__wrapped__,this.__actions__)},zr.prototype.first=zr.prototype.head,st&&(zr.prototype[st]=function(){return this}),zr}();at._=cr,(n=function(){return cr}.call(t,r,t,e))===i||(e.exports=n)}.call(this)},7824:e=>{var t=1e3,r=60*t,n=60*r,i=24*n;function a(e,t,r,n){var i=t>=1.5*r;return Math.round(e/r)+" "+n+(i?"s":"")}e.exports=function(e,s){s=s||{};var o,c,u=typeof e;if("string"===u&&e.length>0)return function(e){if(!((e=String(e)).length>100)){var a=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(a){var s=parseFloat(a[1]);switch((a[2]||"ms").toLowerCase()){case"years":case"year":case"yrs":case"yr":case"y":return 315576e5*s;case"weeks":case"week":case"w":return 6048e5*s;case"days":case"day":case"d":return s*i;case"hours":case"hour":case"hrs":case"hr":case"h":return s*n;case"minutes":case"minute":case"mins":case"min":case"m":return s*r;case"seconds":case"second":case"secs":case"sec":case"s":return s*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return s;default:return}}}}(e);if("number"===u&&isFinite(e))return s.long?(o=e,(c=Math.abs(o))>=i?a(o,c,i,"day"):c>=n?a(o,c,n,"hour"):c>=r?a(o,c,r,"minute"):c>=t?a(o,c,t,"second"):o+" ms"):function(e){var a=Math.abs(e);return a>=i?Math.round(e/i)+"d":a>=n?Math.round(e/n)+"h":a>=r?Math.round(e/r)+"m":a>=t?Math.round(e/t)+"s":e+"ms"}(e);throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))}},6374:(e,t,r)=>{t.encode=r(1764).encode,t.decode=r(5299).decode,t.Encoder=r(2883).Encoder,t.Decoder=r(7441).Decoder,t.createCodec=r(7832).createCodec,t.codec=r(5766).codec},9679:function(e){function t(e){return e&&e.isBuffer&&e}e.exports=t("undefined"!=typeof Buffer&&Buffer)||t(this.Buffer)||t("undefined"!=typeof window&&window.Buffer)||this.Buffer},1947:(e,t)=>{t.copy=function(e,t,r,n){var i;r||(r=0),n||0===n||(n=this.length),t||(t=0);var a=n-r;if(e===this&&r<t&&t<n)for(i=a-1;i>=0;i--)e[i+t]=this[i+r];else for(i=0;i<a;i++)e[i+t]=this[i+r];return a},t.toString=function(e,t,r){var n=this,i=0|t;r||(r=n.length);for(var a="",s=0;i<r;)(s=n[i++])<128?a+=String.fromCharCode(s):(192==(224&s)?s=(31&s)<<6|63&n[i++]:224==(240&s)?s=(15&s)<<12|(63&n[i++])<<6|63&n[i++]:240==(248&s)&&(s=(7&s)<<18|(63&n[i++])<<12|(63&n[i++])<<6|63&n[i++]),s>=65536?(s-=65536,a+=String.fromCharCode(55296+(s>>>10),56320+(1023&s))):a+=String.fromCharCode(s));return a},t.write=function(e,t){for(var r=this,n=t||(t|=0),i=e.length,a=0,s=0;s<i;)(a=e.charCodeAt(s++))<128?r[n++]=a:a<2048?(r[n++]=192|a>>>6,r[n++]=128|63&a):a<55296||a>57343?(r[n++]=224|a>>>12,r[n++]=128|a>>>6&63,r[n++]=128|63&a):(a=65536+(a-55296<<10|e.charCodeAt(s++)-56320),r[n++]=240|a>>>18,r[n++]=128|a>>>12&63,r[n++]=128|a>>>6&63,r[n++]=128|63&a);return n-t}},2683:(e,t,r)=>{var n=r(6895),i=e.exports=a(0);function a(e){return new Array(e)}i.alloc=a,i.concat=n.concat,i.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(i,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return Array.prototype.slice.call(e)}},4580:(e,t,r)=>{var n=r(6895),i=n.global,a=e.exports=n.hasBuffer?s(0):[];function s(e){return new i(e)}a.alloc=n.hasBuffer&&i.alloc||s,a.concat=n.concat,a.from=function(e){if(!n.isBuffer(e)&&n.isView(e))e=n.Uint8Array.from(e);else if(n.isArrayBuffer(e))e=new Uint8Array(e);else{if("string"==typeof e)return n.from.call(a,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return i.from&&1!==i.from.length?i.from(e):new i(e)}},3190:(e,t,r)=>{var n=r(1947);t.copy=c,t.slice=u,t.toString=function(e,t,r){var a=!s&&i.isBuffer(this)?this.toString:n.toString;return a.apply(this,arguments)},t.write=("write",function(){return(this.write||n.write).apply(this,arguments)});var i=r(6895),a=i.global,s=i.hasBuffer&&"TYPED_ARRAY_SUPPORT"in a,o=s&&!a.TYPED_ARRAY_SUPPORT;function c(e,t,r,a){var s=i.isBuffer(this),c=i.isBuffer(e);if(s&&c)return this.copy(e,t,r,a);if(o||s||c||!i.isView(this)||!i.isView(e))return n.copy.call(this,e,t,r,a);var f=r||null!=a?u.call(this,r,a):this;return e.set(f,t),f.length}function u(e,t){var r=this.slice||!o&&this.subarray;if(r)return r.call(this,e,t);var n=i.alloc.call(this,t-e);return c.call(this,n,0,e,t),n}},2037:(e,t,r)=>{var n=r(6895),i=e.exports=n.hasArrayBuffer?a(0):[];function a(e){return new Uint8Array(e)}i.alloc=a,i.concat=n.concat,i.from=function(e){if(n.isView(e)){var t=e.byteOffset,r=e.byteLength;(e=e.buffer).byteLength!==r&&(e.slice?e=e.slice(t,t+r):(e=new Uint8Array(e)).byteLength!==r&&(e=Array.prototype.slice.call(e,t,t+r)))}else{if("string"==typeof e)return n.from.call(i,e);if("number"==typeof e)throw new TypeError('"value" argument must not be a number')}return new Uint8Array(e)}},6895:(e,t,r)=>{var n=t.global=r(9679),i=t.hasBuffer=n&&!!n.isBuffer,a=t.hasArrayBuffer="undefined"!=typeof ArrayBuffer,s=t.isArray=r(5826);t.isArrayBuffer=a?function(e){return e instanceof ArrayBuffer||p(e)}:g;var o=t.isBuffer=i?n.isBuffer:g,c=t.isView=a?ArrayBuffer.isView||m("ArrayBuffer","buffer"):g;t.alloc=d,t.concat=function(e,r){r||(r=0,Array.prototype.forEach.call(e,(function(e){r+=e.length})));var n=this!==t&&this||e[0],i=d.call(n,r),a=0;return Array.prototype.forEach.call(e,(function(e){a+=l.copy.call(e,i,a)})),i},t.from=function(e){return"string"==typeof e?y.call(this,e):b(this).from(e)};var u=t.Array=r(2683),f=t.Buffer=r(4580),h=t.Uint8Array=r(2037),l=t.prototype=r(3190);function d(e){return b(this).alloc(e)}var p=m("ArrayBuffer");function y(e){var t=3*e.length,r=d.call(this,t),n=l.write.call(r,e);return t!==n&&(r=l.slice.call(r,0,n)),r}function b(e){return o(e)?f:c(e)?h:s(e)?u:i?f:a?h:u}function g(){return!1}function m(e,t){return e="[object "+e+"]",function(r){return null!=r&&{}.toString.call(t?r[t]:r)===e}}},1877:(e,t,r)=>{var n=r(5826);t.createCodec=o,t.install=function(e){for(var t in e)a.prototype[t]=s(a.prototype[t],e[t])},t.filter=function(e){return n(e)?function(e){return e=e.slice(),function(r){return e.reduce(t,r)};function t(e,t){return t(e)}}(e):e};var i=r(6895);function a(e){if(!(this instanceof a))return new a(e);this.options=e,this.init()}function s(e,t){return e&&t?function(){return e.apply(this,arguments),t.apply(this,arguments)}:e||t}function o(e){return new a(e)}a.prototype.init=function(){var e=this.options;return e&&e.uint8array&&(this.bufferish=i.Uint8Array),this},t.preset=o({preset:!0})},5766:(e,t,r)=>{r(7350),r(5312),t.codec={preset:r(1877).preset}},8170:(e,t,r)=>{t.T=i;var n=r(7350).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(6822).k.mixin(i.prototype),i.prototype.codec=n,i.prototype.fetch=function(){return this.codec.decode(this)}},5299:(e,t,r)=>{t.decode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(8170).T},7441:(e,t,r)=>{t.Decoder=a;var n=r(3258),i=r(8170).T;function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}a.prototype=new i,n.mixin(a.prototype),a.prototype.decode=function(e){arguments.length&&this.write(e),this.flush()},a.prototype.push=function(e){this.emit("data",e)},a.prototype.end=function(e){this.decode(e),this.emit("end")}},2517:(e,t,r)=>{t.F=i;var n=r(5312).preset;function i(e){if(!(this instanceof i))return new i(e);if(e&&(this.options=e,e.codec)){var t=this.codec=e.codec;t.bufferish&&(this.bufferish=t.bufferish)}}r(6822).I.mixin(i.prototype),i.prototype.codec=n,i.prototype.write=function(e){this.codec.encode(this,e)}},1764:(e,t,r)=>{t.encode=function(e,t){var r=new n(t);return r.write(e),r.read()};var n=r(2517).F},2883:(e,t,r)=>{t.Encoder=a;var n=r(3258),i=r(2517).F;function a(e){if(!(this instanceof a))return new a(e);i.call(this,e)}a.prototype=new i,n.mixin(a.prototype),a.prototype.encode=function(e){this.write(e),this.emit("data",this.read())},a.prototype.end=function(e){arguments.length&&this.encode(e),this.flush(),this.emit("end")}},6083:(e,t,r)=>{t.S=function e(t,r){if(!(this instanceof e))return new e(t,r);this.buffer=n.from(t),this.type=r};var n=r(6895)},9431:(e,t,r)=>{t.setExtPackers=function(e){e.addExtPacker(14,Error,[h,c]),e.addExtPacker(1,EvalError,[h,c]),e.addExtPacker(2,RangeError,[h,c]),e.addExtPacker(3,ReferenceError,[h,c]),e.addExtPacker(4,SyntaxError,[h,c]),e.addExtPacker(5,TypeError,[h,c]),e.addExtPacker(6,URIError,[h,c]),e.addExtPacker(10,RegExp,[f,c]),e.addExtPacker(11,Boolean,[u,c]),e.addExtPacker(12,String,[u,c]),e.addExtPacker(13,Date,[Number,c]),e.addExtPacker(15,Number,[u,c]),"undefined"!=typeof Uint8Array&&(e.addExtPacker(17,Int8Array,s),e.addExtPacker(18,Uint8Array,s),e.addExtPacker(19,Int16Array,s),e.addExtPacker(20,Uint16Array,s),e.addExtPacker(21,Int32Array,s),e.addExtPacker(22,Uint32Array,s),e.addExtPacker(23,Float32Array,s),"undefined"!=typeof Float64Array&&e.addExtPacker(24,Float64Array,s),"undefined"!=typeof Uint8ClampedArray&&e.addExtPacker(25,Uint8ClampedArray,s),e.addExtPacker(26,ArrayBuffer,s),e.addExtPacker(29,DataView,s)),i.hasBuffer&&e.addExtPacker(27,a,i.from)};var n,i=r(6895),a=i.global,s=i.Uint8Array.from,o={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function c(e){return n||(n=r(1764).encode),n(e)}function u(e){return e.valueOf()}function f(e){(e=RegExp.prototype.toString.call(e).split("/")).shift();var t=[e.pop()];return t.unshift(e.join("/")),t}function h(e){var t={};for(var r in o)t[r]=e[r];return t}},6600:(e,t,r)=>{t.setExtUnpackers=function(e){e.addExtUnpacker(14,[o,u(Error)]),e.addExtUnpacker(1,[o,u(EvalError)]),e.addExtUnpacker(2,[o,u(RangeError)]),e.addExtUnpacker(3,[o,u(ReferenceError)]),e.addExtUnpacker(4,[o,u(SyntaxError)]),e.addExtUnpacker(5,[o,u(TypeError)]),e.addExtUnpacker(6,[o,u(URIError)]),e.addExtUnpacker(10,[o,c]),e.addExtUnpacker(11,[o,f(Boolean)]),e.addExtUnpacker(12,[o,f(String)]),e.addExtUnpacker(13,[o,f(Date)]),e.addExtUnpacker(15,[o,f(Number)]),"undefined"!=typeof Uint8Array&&(e.addExtUnpacker(17,f(Int8Array)),e.addExtUnpacker(18,f(Uint8Array)),e.addExtUnpacker(19,[h,f(Int16Array)]),e.addExtUnpacker(20,[h,f(Uint16Array)]),e.addExtUnpacker(21,[h,f(Int32Array)]),e.addExtUnpacker(22,[h,f(Uint32Array)]),e.addExtUnpacker(23,[h,f(Float32Array)]),"undefined"!=typeof Float64Array&&e.addExtUnpacker(24,[h,f(Float64Array)]),"undefined"!=typeof Uint8ClampedArray&&e.addExtUnpacker(25,f(Uint8ClampedArray)),e.addExtUnpacker(26,h),e.addExtUnpacker(29,[h,f(DataView)])),i.hasBuffer&&e.addExtUnpacker(27,f(a))};var n,i=r(6895),a=i.global,s={name:1,message:1,stack:1,columnNumber:1,fileName:1,lineNumber:1};function o(e){return n||(n=r(5299).decode),n(e)}function c(e){return RegExp.apply(null,e)}function u(e){return function(t){var r=new e;for(var n in s)r[n]=t[n];return r}}function f(e){return function(t){return new e(t)}}function h(e){return new Uint8Array(e).buffer}},7832:(e,t,r)=>{r(7350),r(5312),t.createCodec=r(1877).createCodec},6822:(e,t,r)=>{t.k=a,t.I=s;var n=r(6895),i="BUFFER_SHORTAGE";function a(){if(!(this instanceof a))return new a}function s(){if(!(this instanceof s))return new s}function o(){return this.buffers&&this.buffers.length?(this.flush(),this.pull()):this.fetch()}function c(e){(this.buffers||(this.buffers=[])).push(e)}function u(e){return function(t){for(var r in e)t[r]=e[r];return t}}a.mixin=u({bufferish:n,write:function(e){var t=this.offset?n.prototype.slice.call(this.buffer,this.offset):this.buffer;this.buffer=t?e?this.bufferish.concat([t,e]):t:e,this.offset=0},fetch:function(){throw new Error("method not implemented: fetch()")},flush:function(){for(;this.offset<this.buffer.length;){var e,t=this.offset;try{e=this.fetch()}catch(e){if(e&&e.message!=i)throw e;this.offset=t;break}this.push(e)}},push:c,pull:function(){return(this.buffers||(this.buffers=[])).shift()},read:o,reserve:function(e){var t=this.offset,r=t+e;if(r>this.buffer.length)throw new Error(i);return this.offset=r,t},offset:0}),a.mixin(a.prototype),s.mixin=u({bufferish:n,write:function(){throw new Error("method not implemented: write()")},fetch:function(){var e=this.start;if(e<this.offset){var t=this.start=this.offset;return n.prototype.slice.call(this.buffer,e,t)}},flush:function(){for(;this.start<this.offset;){var e=this.fetch();e&&this.push(e)}},push:c,pull:function(){var e=this.buffers||(this.buffers=[]),t=e.length>1?this.bufferish.concat(e):e[0];return e.length=0,t},read:o,reserve:function(e){var t=0|e;if(this.buffer){var r=this.buffer.length,n=0|this.offset,i=n+t;if(i<r)return this.offset=i,n;this.flush(),e=Math.max(e,Math.min(2*r,this.maxBufferSize))}return e=Math.max(e,this.minBufferSize),this.buffer=this.bufferish.alloc(e),this.start=0,this.offset=t,0},send:function(e){var t=e.length;if(t>this.minBufferSize)this.flush(),this.push(e);else{var r=this.reserve(t);n.prototype.copy.call(e,this.buffer,r)}},maxBufferSize:65536,minBufferSize:2048,offset:0,start:0}),s.mixin(s.prototype)},7350:(e,t,r)=>{var n=r(6083).S,i=r(6600),a=r(6076).readUint8,s=r(5738),o=r(1877);function c(){var e=this.options;return this.decode=function(e){var t=s.getReadToken(e);return function(e){var r=a(e),n=t[r];if(!n)throw new Error("Invalid type: "+(r?"0x"+r.toString(16):r));return n(e)}}(e),e&&e.preset&&i.setExtUnpackers(this),this}o.install({addExtUnpacker:function(e,t){(this.extUnpackers||(this.extUnpackers=[]))[e]=o.filter(t)},getExtUnpacker:function(e){return(this.extUnpackers||(this.extUnpackers=[]))[e]||function(t){return new n(t,e)}},init:c}),t.preset=c.call(o.preset)},6076:(e,t,r)=>{var n=r(645),i=r(1166),a=i.Uint64BE,s=i.Int64BE;t.getReadFormat=function(e){var t=o.hasArrayBuffer&&e&&e.binarraybuffer,r=e&&e.int64;return{map:u&&e&&e.usemap?h:f,array:l,str:d,bin:t?y:p,ext:b,uint8:g,uint16:v,uint32:_,uint64:A(8,r?x:S),int8:m,int16:w,int32:k,int64:A(8,r?P:E),float32:A(4,C),float64:A(8,M)}},t.readUint8=g;var o=r(6895),c=r(3190),u="undefined"!=typeof Map;function f(e,t){var r,n={},i=new Array(t),a=new Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),a[r]=s(e);for(r=0;r<t;r++)n[i[r]]=a[r];return n}function h(e,t){var r,n=new Map,i=new Array(t),a=new Array(t),s=e.codec.decode;for(r=0;r<t;r++)i[r]=s(e),a[r]=s(e);for(r=0;r<t;r++)n.set(i[r],a[r]);return n}function l(e,t){for(var r=new Array(t),n=e.codec.decode,i=0;i<t;i++)r[i]=n(e);return r}function d(e,t){var r=e.reserve(t),n=r+t;return c.toString.call(e.buffer,"utf-8",r,n)}function p(e,t){var r=e.reserve(t),n=r+t,i=c.slice.call(e.buffer,r,n);return o.from(i)}function y(e,t){var r=e.reserve(t),n=r+t,i=c.slice.call(e.buffer,r,n);return o.Uint8Array.from(i).buffer}function b(e,t){var r=e.reserve(t+1),n=e.buffer[r++],i=r+t,a=e.codec.getExtUnpacker(n);if(!a)throw new Error("Invalid ext type: "+(n?"0x"+n.toString(16):n));return a(c.slice.call(e.buffer,r,i))}function g(e){var t=e.reserve(1);return e.buffer[t]}function m(e){var t=e.reserve(1),r=e.buffer[t];return 128&r?r-256:r}function v(e){var t=e.reserve(2),r=e.buffer;return r[t++]<<8|r[t]}function w(e){var t=e.reserve(2),r=e.buffer,n=r[t++]<<8|r[t];return 32768&n?n-65536:n}function _(e){var t=e.reserve(4),r=e.buffer;return 16777216*r[t++]+(r[t++]<<16)+(r[t++]<<8)+r[t]}function k(e){var t=e.reserve(4),r=e.buffer;return r[t++]<<24|r[t++]<<16|r[t++]<<8|r[t]}function A(e,t){return function(r){var n=r.reserve(e);return t.call(r.buffer,n,!0)}}function S(e){return new a(this,e).toNumber()}function E(e){return new s(this,e).toNumber()}function x(e){return new a(this,e)}function P(e){return new s(this,e)}function C(e){return n.read(this,e,!1,23,4)}function M(e){return n.read(this,e,!1,52,8)}},5738:(e,t,r)=>{var n=r(6076);function i(e){var t,r=new Array(256);for(t=0;t<=127;t++)r[t]=a(t);for(t=128;t<=143;t++)r[t]=o(t-128,e.map);for(t=144;t<=159;t++)r[t]=o(t-144,e.array);for(t=160;t<=191;t++)r[t]=o(t-160,e.str);for(r[192]=a(null),r[193]=null,r[194]=a(!1),r[195]=a(!0),r[196]=s(e.uint8,e.bin),r[197]=s(e.uint16,e.bin),r[198]=s(e.uint32,e.bin),r[199]=s(e.uint8,e.ext),r[200]=s(e.uint16,e.ext),r[201]=s(e.uint32,e.ext),r[202]=e.float32,r[203]=e.float64,r[204]=e.uint8,r[205]=e.uint16,r[206]=e.uint32,r[207]=e.uint64,r[208]=e.int8,r[209]=e.int16,r[210]=e.int32,r[211]=e.int64,r[212]=o(1,e.ext),r[213]=o(2,e.ext),r[214]=o(4,e.ext),r[215]=o(8,e.ext),r[216]=o(16,e.ext),r[217]=s(e.uint8,e.str),r[218]=s(e.uint16,e.str),r[219]=s(e.uint32,e.str),r[220]=s(e.uint16,e.array),r[221]=s(e.uint32,e.array),r[222]=s(e.uint16,e.map),r[223]=s(e.uint32,e.map),t=224;t<=255;t++)r[t]=a(t-256);return r}function a(e){return function(){return e}}function s(e,t){return function(r){var n=e(r);return t(r,n)}}function o(e,t){return function(r){return t(r,e)}}t.getReadToken=function(e){var t=n.getReadFormat(e);return e&&e.useraw?function(e){var t,r=i(e).slice();for(r[217]=r[196],r[218]=r[197],r[219]=r[198],t=160;t<=191;t++)r[t]=o(t-160,e.bin);return r}(t):i(t)}},5312:(e,t,r)=>{var n=r(6083).S,i=r(9431),a=r(5943),s=r(1877);function o(){var e=this.options;return this.encode=function(e){var t=a.getWriteType(e);return function(e,r){var n=t[typeof r];if(!n)throw new Error('Unsupported type "'+typeof r+'": '+r);n(e,r)}}(e),e&&e.preset&&i.setExtPackers(this),this}s.install({addExtPacker:function(e,t,r){r=s.filter(r);var i=t.name;function a(t){return r&&(t=r(t)),new n(t,e)}i&&"Object"!==i?(this.extPackers||(this.extPackers={}))[i]=a:(this.extEncoderList||(this.extEncoderList=[])).unshift([t,a])},getExtPacker:function(e){var t=this.extPackers||(this.extPackers={}),r=e.constructor,n=r&&r.name&&t[r.name];if(n)return n;for(var i=this.extEncoderList||(this.extEncoderList=[]),a=i.length,s=0;s<a;s++){var o=i[s];if(r===o[0])return o[1]}},init:o}),t.preset=o.call(s.preset)},1598:(e,t,r)=>{var n=r(645),i=r(1166),a=i.Uint64BE,s=i.Int64BE,o=r(9370).w,c=r(6895),u=c.global,f=c.hasBuffer&&"TYPED_ARRAY_SUPPORT"in u&&!u.TYPED_ARRAY_SUPPORT,h=c.hasBuffer&&u.prototype||{};function l(){var e=o.slice();return e[196]=d(196),e[197]=p(197),e[198]=y(198),e[199]=d(199),e[200]=p(200),e[201]=y(201),e[202]=b(202,4,h.writeFloatBE||v,!0),e[203]=b(203,8,h.writeDoubleBE||w,!0),e[204]=d(204),e[205]=p(205),e[206]=y(206),e[207]=b(207,8,g),e[208]=d(208),e[209]=p(209),e[210]=y(210),e[211]=b(211,8,m),e[217]=d(217),e[218]=p(218),e[219]=y(219),e[220]=p(220),e[221]=y(221),e[222]=p(222),e[223]=y(223),e}function d(e){return function(t,r){var n=t.reserve(2),i=t.buffer;i[n++]=e,i[n]=r}}function p(e){return function(t,r){var n=t.reserve(3),i=t.buffer;i[n++]=e,i[n++]=r>>>8,i[n]=r}}function y(e){return function(t,r){var n=t.reserve(5),i=t.buffer;i[n++]=e,i[n++]=r>>>24,i[n++]=r>>>16,i[n++]=r>>>8,i[n]=r}}function b(e,t,r,n){return function(i,a){var s=i.reserve(t+1);i.buffer[s++]=e,r.call(i.buffer,a,s,n)}}function g(e,t){new a(this,t,e)}function m(e,t){new s(this,t,e)}function v(e,t){n.write(this,e,t,!1,23,4)}function w(e,t){n.write(this,e,t,!1,52,8)}t.getWriteToken=function(e){return e&&e.uint8array?((t=l())[202]=b(202,4,v),t[203]=b(203,8,w),t):f||c.hasBuffer&&e&&e.safe?function(){var e=o.slice();return e[196]=b(196,1,u.prototype.writeUInt8),e[197]=b(197,2,u.prototype.writeUInt16BE),e[198]=b(198,4,u.prototype.writeUInt32BE),e[199]=b(199,1,u.prototype.writeUInt8),e[200]=b(200,2,u.prototype.writeUInt16BE),e[201]=b(201,4,u.prototype.writeUInt32BE),e[202]=b(202,4,u.prototype.writeFloatBE),e[203]=b(203,8,u.prototype.writeDoubleBE),e[204]=b(204,1,u.prototype.writeUInt8),e[205]=b(205,2,u.prototype.writeUInt16BE),e[206]=b(206,4,u.prototype.writeUInt32BE),e[207]=b(207,8,g),e[208]=b(208,1,u.prototype.writeInt8),e[209]=b(209,2,u.prototype.writeInt16BE),e[210]=b(210,4,u.prototype.writeInt32BE),e[211]=b(211,8,m),e[217]=b(217,1,u.prototype.writeUInt8),e[218]=b(218,2,u.prototype.writeUInt16BE),e[219]=b(219,4,u.prototype.writeUInt32BE),e[220]=b(220,2,u.prototype.writeUInt16BE),e[221]=b(221,4,u.prototype.writeUInt32BE),e[222]=b(222,2,u.prototype.writeUInt16BE),e[223]=b(223,4,u.prototype.writeUInt32BE),e}():l();var t}},5943:(e,t,r)=>{var n=r(5826),i=r(1166),a=i.Uint64BE,s=i.Int64BE,o=r(6895),c=r(3190),u=r(1598),f=r(9370).w,h=r(6083).S,l="undefined"!=typeof Uint8Array,d="undefined"!=typeof Map,p=[];p[1]=212,p[2]=213,p[4]=214,p[8]=215,p[16]=216,t.getWriteType=function(e){var t,r=u.getWriteToken(e),i=e&&e.useraw,y=l&&e&&e.binarraybuffer,b=y?o.isArrayBuffer:o.isBuffer,g=y?function(e,t){_(e,new Uint8Array(t))}:_,m=d&&e&&e.usemap?function(e,t){if(!(t instanceof Map))return k(e,t);var n=t.size;r[n<16?128+n:n<=65535?222:223](e,n);var i=e.codec.encode;t.forEach((function(t,r,n){i(e,r),i(e,t)}))}:k;return{boolean:function(e,t){r[t?195:194](e,t)},function:w,number:function(e,t){var n=0|t;t===n?r[-32<=n&&n<=127?255&n:0<=n?n<=255?204:n<=65535?205:206:-128<=n?208:-32768<=n?209:210](e,n):r[203](e,t)},object:i?function(e,t){if(b(t))return function(e,t){var n=t.length;r[n<32?160+n:n<=65535?218:219](e,n),e.send(t)}(e,t);v(e,t)}:v,string:(t=i?function(e){return e<32?1:e<=65535?3:5}:function(e){return e<32?1:e<=255?2:e<=65535?3:5},function(e,n){var i=n.length,a=5+3*i;e.offset=e.reserve(a);var s=e.buffer,o=t(i),u=e.offset+o;i=c.write.call(s,n,u);var f=t(i);if(o!==f){var h=u+f-o,l=u+i;c.copy.call(s,s,h,u,l)}r[1===f?160+i:f<=3?215+f:219](e,i),e.offset+=i}),symbol:w,undefined:w};function v(e,t){if(null===t)return w(e,t);if(b(t))return g(e,t);if(n(t))return function(e,t){var n=t.length;r[n<16?144+n:n<=65535?220:221](e,n);for(var i=e.codec.encode,a=0;a<n;a++)i(e,t[a])}(e,t);if(a.isUint64BE(t))return function(e,t){r[207](e,t.toArray())}(e,t);if(s.isInt64BE(t))return function(e,t){r[211](e,t.toArray())}(e,t);var i=e.codec.getExtPacker(t);if(i&&(t=i(t)),t instanceof h)return function(e,t){var n=t.buffer,i=n.length,a=p[i]||(i<255?199:i<=65535?200:201);r[a](e,i),f[t.type](e),e.send(n)}(e,t);m(e,t)}function w(e,t){r[192](e,t)}function _(e,t){var n=t.length;r[n<255?196:n<=65535?197:198](e,n),e.send(t)}function k(e,t){var n=Object.keys(t),i=n.length;r[i<16?128+i:i<=65535?222:223](e,i);var a=e.codec.encode;n.forEach((function(r){a(e,r),a(e,t[r])}))}}},9370:(e,t)=>{for(var r=t.w=new Array(256),n=0;n<=255;n++)r[n]=i(n);function i(e){return function(t){var r=t.reserve(1);t.buffer[r]=e}}},7429:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),Object.defineProperty(t,"NIL",{enumerable:!0,get:function(){return o.default}}),Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return h.default}}),Object.defineProperty(t,"stringify",{enumerable:!0,get:function(){return f.default}}),Object.defineProperty(t,"v1",{enumerable:!0,get:function(){return n.default}}),Object.defineProperty(t,"v3",{enumerable:!0,get:function(){return i.default}}),Object.defineProperty(t,"v4",{enumerable:!0,get:function(){return a.default}}),Object.defineProperty(t,"v5",{enumerable:!0,get:function(){return s.default}}),Object.defineProperty(t,"validate",{enumerable:!0,get:function(){return u.default}}),Object.defineProperty(t,"version",{enumerable:!0,get:function(){return c.default}});var n=l(r(3990)),i=l(r(8237)),a=l(r(5355)),s=l(r(3764)),o=l(r(6314)),c=l(r(8464)),u=l(r(6435)),f=l(r(4008)),h=l(r(8222));function l(e){return e&&e.__esModule?e:{default:e}}},4163:(e,t)=>{"use strict";function r(e){return 14+(e+64>>>9<<4)+1}function n(e,t){const r=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(r>>16)<<16|65535&r}function i(e,t,r,i,a,s){return n((o=n(n(t,e),n(i,s)))<<(c=a)|o>>>32-c,r);var o,c}function a(e,t,r,n,a,s,o){return i(t&r|~t&n,e,t,a,s,o)}function s(e,t,r,n,a,s,o){return i(t&n|r&~n,e,t,a,s,o)}function o(e,t,r,n,a,s,o){return i(t^r^n,e,t,a,s,o)}function c(e,t,r,n,a,s,o){return i(r^(t|~n),e,t,a,s,o)}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(let r=0;r<t.length;++r)e[r]=t.charCodeAt(r)}return function(e){const t=[],r=32*e.length,n="0123456789abcdef";for(let i=0;i<r;i+=8){const r=e[i>>5]>>>i%32&255,a=parseInt(n.charAt(r>>>4&15)+n.charAt(15&r),16);t.push(a)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[r(t)-1]=t;let i=1732584193,u=-271733879,f=-1732584194,h=271733878;for(let t=0;t<e.length;t+=16){const r=i,l=u,d=f,p=h;i=a(i,u,f,h,e[t],7,-680876936),h=a(h,i,u,f,e[t+1],12,-389564586),f=a(f,h,i,u,e[t+2],17,606105819),u=a(u,f,h,i,e[t+3],22,-1044525330),i=a(i,u,f,h,e[t+4],7,-176418897),h=a(h,i,u,f,e[t+5],12,1200080426),f=a(f,h,i,u,e[t+6],17,-1473231341),u=a(u,f,h,i,e[t+7],22,-45705983),i=a(i,u,f,h,e[t+8],7,1770035416),h=a(h,i,u,f,e[t+9],12,-1958414417),f=a(f,h,i,u,e[t+10],17,-42063),u=a(u,f,h,i,e[t+11],22,-1990404162),i=a(i,u,f,h,e[t+12],7,1804603682),h=a(h,i,u,f,e[t+13],12,-40341101),f=a(f,h,i,u,e[t+14],17,-1502002290),u=a(u,f,h,i,e[t+15],22,1236535329),i=s(i,u,f,h,e[t+1],5,-165796510),h=s(h,i,u,f,e[t+6],9,-1069501632),f=s(f,h,i,u,e[t+11],14,643717713),u=s(u,f,h,i,e[t],20,-373897302),i=s(i,u,f,h,e[t+5],5,-701558691),h=s(h,i,u,f,e[t+10],9,38016083),f=s(f,h,i,u,e[t+15],14,-660478335),u=s(u,f,h,i,e[t+4],20,-405537848),i=s(i,u,f,h,e[t+9],5,568446438),h=s(h,i,u,f,e[t+14],9,-1019803690),f=s(f,h,i,u,e[t+3],14,-187363961),u=s(u,f,h,i,e[t+8],20,1163531501),i=s(i,u,f,h,e[t+13],5,-1444681467),h=s(h,i,u,f,e[t+2],9,-51403784),f=s(f,h,i,u,e[t+7],14,1735328473),u=s(u,f,h,i,e[t+12],20,-1926607734),i=o(i,u,f,h,e[t+5],4,-378558),h=o(h,i,u,f,e[t+8],11,-2022574463),f=o(f,h,i,u,e[t+11],16,1839030562),u=o(u,f,h,i,e[t+14],23,-35309556),i=o(i,u,f,h,e[t+1],4,-1530992060),h=o(h,i,u,f,e[t+4],11,1272893353),f=o(f,h,i,u,e[t+7],16,-155497632),u=o(u,f,h,i,e[t+10],23,-1094730640),i=o(i,u,f,h,e[t+13],4,681279174),h=o(h,i,u,f,e[t],11,-358537222),f=o(f,h,i,u,e[t+3],16,-722521979),u=o(u,f,h,i,e[t+6],23,76029189),i=o(i,u,f,h,e[t+9],4,-640364487),h=o(h,i,u,f,e[t+12],11,-421815835),f=o(f,h,i,u,e[t+15],16,530742520),u=o(u,f,h,i,e[t+2],23,-995338651),i=c(i,u,f,h,e[t],6,-198630844),h=c(h,i,u,f,e[t+7],10,1126891415),f=c(f,h,i,u,e[t+14],15,-1416354905),u=c(u,f,h,i,e[t+5],21,-57434055),i=c(i,u,f,h,e[t+12],6,1700485571),h=c(h,i,u,f,e[t+3],10,-1894986606),f=c(f,h,i,u,e[t+10],15,-1051523),u=c(u,f,h,i,e[t+1],21,-2054922799),i=c(i,u,f,h,e[t+8],6,1873313359),h=c(h,i,u,f,e[t+15],10,-30611744),f=c(f,h,i,u,e[t+6],15,-1560198380),u=c(u,f,h,i,e[t+13],21,1309151649),i=c(i,u,f,h,e[t+4],6,-145523070),h=c(h,i,u,f,e[t+11],10,-1120210379),f=c(f,h,i,u,e[t+2],15,718787259),u=c(u,f,h,i,e[t+9],21,-343485551),i=n(i,r),u=n(u,l),f=n(f,d),h=n(h,p)}return[i,u,f,h]}(function(e){if(0===e.length)return[];const t=8*e.length,n=new Uint32Array(r(t));for(let r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}},4790:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var r={randomUUID:"undefined"!=typeof crypto&&crypto.randomUUID&&crypto.randomUUID.bind(crypto)};t.default=r},6314:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default="00000000-0000-0000-0000-000000000000"},8222:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");let t;const r=new Uint8Array(16);return r[0]=(t=parseInt(e.slice(0,8),16))>>>24,r[1]=t>>>16&255,r[2]=t>>>8&255,r[3]=255&t,r[4]=(t=parseInt(e.slice(9,13),16))>>>8,r[5]=255&t,r[6]=(t=parseInt(e.slice(14,18),16))>>>8,r[7]=255&t,r[8]=(t=parseInt(e.slice(19,23),16))>>>8,r[9]=255&t,r[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,r[11]=t/4294967296&255,r[12]=t>>>24&255,r[13]=t>>>16&255,r[14]=t>>>8&255,r[15]=255&t,r}},58:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.default=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i},3319:(e,t)=>{"use strict";let r;Object.defineProperty(t,"__esModule",{value:!0}),t.default=function(){if(!r&&(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!r))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(n)};const n=new Uint8Array(16)},3757:(e,t)=>{"use strict";function r(e,t,r,n){switch(e){case 0:return t&r^~t&n;case 1:case 3:return t^r^n;case 2:return t&r^t&n^r&n}}function n(e,t){return e<<t|e>>>32-t}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;t.default=function(e){const t=[1518500249,1859775393,2400959708,3395469782],i=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){const t=unescape(encodeURIComponent(e));e=[];for(let r=0;r<t.length;++r)e.push(t.charCodeAt(r))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);const a=e.length/4+2,s=Math.ceil(a/16),o=new Array(s);for(let t=0;t<s;++t){const r=new Uint32Array(16);for(let n=0;n<16;++n)r[n]=e[64*t+4*n]<<24|e[64*t+4*n+1]<<16|e[64*t+4*n+2]<<8|e[64*t+4*n+3];o[t]=r}o[s-1][14]=8*(e.length-1)/Math.pow(2,32),o[s-1][14]=Math.floor(o[s-1][14]),o[s-1][15]=8*(e.length-1)&4294967295;for(let e=0;e<s;++e){const a=new Uint32Array(80);for(let t=0;t<16;++t)a[t]=o[e][t];for(let e=16;e<80;++e)a[e]=n(a[e-3]^a[e-8]^a[e-14]^a[e-16],1);let s=i[0],c=i[1],u=i[2],f=i[3],h=i[4];for(let e=0;e<80;++e){const i=Math.floor(e/20),o=n(s,5)+r(i,c,u,f)+h+t[i]+a[e]>>>0;h=f,f=u,u=n(c,30)>>>0,c=s,s=o}i[0]=i[0]+s>>>0,i[1]=i[1]+c>>>0,i[2]=i[2]+u>>>0,i[3]=i[3]+f>>>0,i[4]=i[4]+h>>>0}return[i[0]>>24&255,i[0]>>16&255,i[0]>>8&255,255&i[0],i[1]>>24&255,i[1]>>16&255,i[1]>>8&255,255&i[1],i[2]>>24&255,i[2]>>16&255,i[2]>>8&255,255&i[2],i[3]>>24&255,i[3]>>16&255,i[3]>>8&255,255&i[3],i[4]>>24&255,i[4]>>16&255,i[4]>>8&255,255&i[4]]}},4008:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,t.unsafeStringify=s;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};const a=[];for(let e=0;e<256;++e)a.push((e+256).toString(16).slice(1));function s(e,t=0){return(a[e[t+0]]+a[e[t+1]]+a[e[t+2]]+a[e[t+3]]+"-"+a[e[t+4]]+a[e[t+5]]+"-"+a[e[t+6]]+a[e[t+7]]+"-"+a[e[t+8]]+a[e[t+9]]+"-"+a[e[t+10]]+a[e[t+11]]+a[e[t+12]]+a[e[t+13]]+a[e[t+14]]+a[e[t+15]]).toLowerCase()}t.default=function(e,t=0){const r=s(e,t);if(!(0,i.default)(r))throw TypeError("Stringified UUID is invalid");return r}},3990:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(3319))&&n.__esModule?n:{default:n},a=r(4008);let s,o,c=0,u=0;t.default=function(e,t,r){let n=t&&r||0;const f=t||new Array(16);let h=(e=e||{}).node||s,l=void 0!==e.clockseq?e.clockseq:o;if(null==h||null==l){const t=e.random||(e.rng||i.default)();null==h&&(h=s=[1|t[0],t[1],t[2],t[3],t[4],t[5]]),null==l&&(l=o=16383&(t[6]<<8|t[7]))}let d=void 0!==e.msecs?e.msecs:Date.now(),p=void 0!==e.nsecs?e.nsecs:u+1;const y=d-c+(p-u)/1e4;if(y<0&&void 0===e.clockseq&&(l=l+1&16383),(y<0||d>c)&&void 0===e.nsecs&&(p=0),p>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");c=d,u=p,o=l,d+=122192928e5;const b=(1e4*(268435455&d)+p)%4294967296;f[n++]=b>>>24&255,f[n++]=b>>>16&255,f[n++]=b>>>8&255,f[n++]=255&b;const g=d/4294967296*1e4&268435455;f[n++]=g>>>8&255,f[n++]=255&g,f[n++]=g>>>24&15|16,f[n++]=g>>>16&255,f[n++]=l>>>8|128,f[n++]=255&l;for(let e=0;e<6;++e)f[n+e]=h[e];return t||(0,a.unsafeStringify)(f)}},8237:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(7925)),i=a(r(4163));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v3",48,i.default);t.default=s},7925:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.URL=t.DNS=void 0,t.default=function(e,t,r){function n(e,n,s,o){var c;if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));const t=[];for(let r=0;r<e.length;++r)t.push(e.charCodeAt(r));return t}(e)),"string"==typeof n&&(n=(0,a.default)(n)),16!==(null===(c=n)||void 0===c?void 0:c.length))throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");let u=new Uint8Array(16+e.length);if(u.set(n),u.set(e,n.length),u=r(u),u[6]=15&u[6]|t,u[8]=63&u[8]|128,s){o=o||0;for(let e=0;e<16;++e)s[o+e]=u[e];return s}return(0,i.unsafeStringify)(u)}try{n.name=e}catch(e){}return n.DNS=s,n.URL=o,n};var n,i=r(4008),a=(n=r(8222))&&n.__esModule?n:{default:n};const s="6ba7b810-9dad-11d1-80b4-00c04fd430c8";t.DNS=s;const o="6ba7b811-9dad-11d1-80b4-00c04fd430c8";t.URL=o},5355:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=s(r(4790)),i=s(r(3319)),a=r(4008);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(n.default.randomUUID&&!t&&!e)return n.default.randomUUID();const s=(e=e||{}).random||(e.rng||i.default)();if(s[6]=15&s[6]|64,s[8]=63&s[8]|128,t){r=r||0;for(let e=0;e<16;++e)t[r+e]=s[e];return t}return(0,a.unsafeStringify)(s)}},3764:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n=a(r(7925)),i=a(r(3757));function a(e){return e&&e.__esModule?e:{default:e}}var s=(0,n.default)("v5",80,i.default);t.default=s},6435:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(58))&&n.__esModule?n:{default:n};t.default=function(e){return"string"==typeof e&&i.default.test(e)}},8464:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0;var n,i=(n=r(6435))&&n.__esModule?n:{default:n};t.default=function(e){if(!(0,i.default)(e))throw TypeError("Invalid UUID");return parseInt(e.slice(14,15),16)}},8419:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasCORS=void 0;let r=!1;try{r="undefined"!=typeof XMLHttpRequest&&"withCredentials"in new XMLHttpRequest}catch(e){}t.hasCORS=r},5754:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0,t.encode=function(e){let t="";for(let r in e)e.hasOwnProperty(r)&&(t.length&&(t+="&"),t+=encodeURIComponent(r)+"="+encodeURIComponent(e[r]));return t},t.decode=function(e){let t={},r=e.split("&");for(let e=0,n=r.length;e<n;e++){let n=r[e].split("=");t[decodeURIComponent(n[0])]=decodeURIComponent(n[1])}return t}},5222:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.parse=void 0;const r=/^(?:(?![^:@]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,n=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];t.parse=function(e){const t=e,i=e.indexOf("["),a=e.indexOf("]");-1!=i&&-1!=a&&(e=e.substring(0,i)+e.substring(i,a).replace(/:/g,";")+e.substring(a,e.length));let s=r.exec(e||""),o={},c=14;for(;c--;)o[n[c]]=s[c]||"";return-1!=i&&-1!=a&&(o.source=t,o.host=o.host.substring(1,o.host.length-1).replace(/;/g,":"),o.authority=o.authority.replace("[","").replace("]","").replace(/;/g,":"),o.ipv6uri=!0),o.pathNames=function(e,t){const r=t.replace(/\/{2,9}/g,"/").split("/");return"/"!=t.slice(0,1)&&0!==t.length||r.splice(0,1),"/"==t.slice(-1)&&r.splice(r.length-1,1),r}(0,o.path),o.queryKey=function(e,t){const r={};return t.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,(function(e,t,n){t&&(r[t]=n)})),r}(0,o.query),o}},8726:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.yeast=t.decode=t.encode=void 0;const r="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),n={};let i,a=0,s=0;function o(e){let t="";do{t=r[e%64]+t,e=Math.floor(e/64)}while(e>0);return t}for(t.encode=o,t.decode=function(e){let t=0;for(s=0;s<e.length;s++)t=64*t+n[e.charAt(s)];return t},t.yeast=function(){const e=o(+new Date);return e!==i?(a=0,i=e):e+"."+o(a++)};s<64;s++)n[r[s]]=s},6242:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.globalThisShim=void 0,t.globalThisShim="undefined"!=typeof self?self:"undefined"!=typeof window?window:Function("return this")()},4679:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.nextTick=t.parse=t.installTimerFunctions=t.transports=t.Transport=t.protocol=t.Socket=void 0;const n=r(3481);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return n.Socket}}),t.protocol=n.Socket.protocol;var i=r(9870);Object.defineProperty(t,"Transport",{enumerable:!0,get:function(){return i.Transport}});var a=r(7385);Object.defineProperty(t,"transports",{enumerable:!0,get:function(){return a.transports}});var s=r(9622);Object.defineProperty(t,"installTimerFunctions",{enumerable:!0,get:function(){return s.installTimerFunctions}});var o=r(5222);Object.defineProperty(t,"parse",{enumerable:!0,get:function(){return o.parse}});var c=r(5552);Object.defineProperty(t,"nextTick",{enumerable:!0,get:function(){return c.nextTick}})},3481:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const i=r(7385),a=r(9622),s=r(5754),o=r(5222),c=n(r(1227)),u=r(5260),f=r(1373),h=(0,c.default)("engine.io-client:socket");class l extends u.Emitter{constructor(e,t={}){super(),e&&"object"==typeof e&&(t=e,e=null),e?(e=(0,o.parse)(e),t.hostname=e.host,t.secure="https"===e.protocol||"wss"===e.protocol,t.port=e.port,e.query&&(t.query=e.query)):t.host&&(t.hostname=(0,o.parse)(t.host).host),(0,a.installTimerFunctions)(this,t),this.secure=null!=t.secure?t.secure:"undefined"!=typeof location&&"https:"===location.protocol,t.hostname&&!t.port&&(t.port=this.secure?"443":"80"),this.hostname=t.hostname||("undefined"!=typeof location?location.hostname:"localhost"),this.port=t.port||("undefined"!=typeof location&&location.port?location.port:this.secure?"443":"80"),this.transports=t.transports||["polling","websocket"],this.readyState="",this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!0},t),this.opts.path=this.opts.path.replace(/\/$/,"")+"/","string"==typeof this.opts.query&&(this.opts.query=(0,s.decode)(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,"function"==typeof addEventListener&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),"localhost"!==this.hostname&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(e){h('creating transport "%s"',e);const t=Object.assign({},this.opts.query);t.EIO=f.protocol,t.transport=e,this.id&&(t.sid=this.id);const r=Object.assign({},this.opts.transportOptions[e],this.opts,{query:t,socket:this,hostname:this.hostname,secure:this.secure,port:this.port});return h("options: %j",r),new i.transports[e](r)}open(){let e;if(this.opts.rememberUpgrade&&l.priorWebsocketSuccess&&-1!==this.transports.indexOf("websocket"))e="websocket";else{if(0===this.transports.length)return void this.setTimeoutFn((()=>{this.emitReserved("error","No transports available")}),0);e=this.transports[0]}this.readyState="opening";try{e=this.createTransport(e)}catch(e){return h("error while creating transport: %s",e),this.transports.shift(),void this.open()}e.open(),this.setTransport(e)}setTransport(e){h("setting transport %s",e.name),this.transport&&(h("clearing existing transport %s",this.transport.name),this.transport.removeAllListeners()),this.transport=e,e.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",(e=>this.onClose("transport close",e)))}probe(e){h('probing transport "%s"',e);let t=this.createTransport(e),r=!1;l.priorWebsocketSuccess=!1;const n=()=>{r||(h('probe transport "%s" opened',e),t.send([{type:"ping",data:"probe"}]),t.once("packet",(n=>{if(!r)if("pong"===n.type&&"probe"===n.data){if(h('probe transport "%s" pong',e),this.upgrading=!0,this.emitReserved("upgrading",t),!t)return;l.priorWebsocketSuccess="websocket"===t.name,h('pausing current transport "%s"',this.transport.name),this.transport.pause((()=>{r||"closed"!==this.readyState&&(h("changing transport and sending upgrade packet"),u(),this.setTransport(t),t.send([{type:"upgrade"}]),this.emitReserved("upgrade",t),t=null,this.upgrading=!1,this.flush())}))}else{h('probe transport "%s" failed',e);const r=new Error("probe error");r.transport=t.name,this.emitReserved("upgradeError",r)}})))};function i(){r||(r=!0,u(),t.close(),t=null)}const a=r=>{const n=new Error("probe error: "+r);n.transport=t.name,i(),h('probe transport "%s" failed because of error: %s',e,r),this.emitReserved("upgradeError",n)};function s(){a("transport closed")}function o(){a("socket closed")}function c(e){t&&e.name!==t.name&&(h('"%s" works - aborting "%s"',e.name,t.name),i())}const u=()=>{t.removeListener("open",n),t.removeListener("error",a),t.removeListener("close",s),this.off("close",o),this.off("upgrading",c)};t.once("open",n),t.once("error",a),t.once("close",s),this.once("close",o),this.once("upgrading",c),t.open()}onOpen(){if(h("socket open"),this.readyState="open",l.priorWebsocketSuccess="websocket"===this.transport.name,this.emitReserved("open"),this.flush(),"open"===this.readyState&&this.opts.upgrade&&this.transport.pause){h("starting upgrade probes");let e=0;const t=this.upgrades.length;for(;e<t;e++)this.probe(this.upgrades[e])}}onPacket(e){if("opening"===this.readyState||"open"===this.readyState||"closing"===this.readyState)switch(h('socket receive: type "%s", data "%s"',e.type,e.data),this.emitReserved("packet",e),this.emitReserved("heartbeat"),e.type){case"open":this.onHandshake(JSON.parse(e.data));break;case"ping":this.resetPingTimeout(),this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const t=new Error("server error");t.code=e.data,this.onError(t);break;case"message":this.emitReserved("data",e.data),this.emitReserved("message",e.data)}else h('packet received with socket readyState "%s"',this.readyState)}onHandshake(e){this.emitReserved("handshake",e),this.id=e.sid,this.transport.query.sid=e.sid,this.upgrades=this.filterUpgrades(e.upgrades),this.pingInterval=e.pingInterval,this.pingTimeout=e.pingTimeout,this.maxPayload=e.maxPayload,this.onOpen(),"closed"!==this.readyState&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn((()=>{this.onClose("ping timeout")}),this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,0===this.writeBuffer.length?this.emitReserved("drain"):this.flush()}flush(){if("closed"!==this.readyState&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const e=this.getWritablePackets();h("flushing %d packets in socket",e.length),this.transport.send(e),this.prevBufferLen=e.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&"polling"===this.transport.name&&this.writeBuffer.length>1))return this.writeBuffer;let e=1;for(let t=0;t<this.writeBuffer.length;t++){const r=this.writeBuffer[t].data;if(r&&(e+=(0,a.byteLength)(r)),t>0&&e>this.maxPayload)return h("only send %d out of %d packets",t,this.writeBuffer.length),this.writeBuffer.slice(0,t);e+=2}return h("payload size is %d (max: %d)",e,this.maxPayload),this.writeBuffer}write(e,t,r){return this.sendPacket("message",e,t,r),this}send(e,t,r){return this.sendPacket("message",e,t,r),this}sendPacket(e,t,r,n){if("function"==typeof t&&(n=t,t=void 0),"function"==typeof r&&(n=r,r=null),"closing"===this.readyState||"closed"===this.readyState)return;(r=r||{}).compress=!1!==r.compress;const i={type:e,data:t,options:r};this.emitReserved("packetCreate",i),this.writeBuffer.push(i),n&&this.once("flush",n),this.flush()}close(){const e=()=>{this.onClose("forced close"),h("socket closing - telling transport to close"),this.transport.close()},t=()=>{this.off("upgrade",t),this.off("upgradeError",t),e()},r=()=>{this.once("upgrade",t),this.once("upgradeError",t)};return"opening"!==this.readyState&&"open"!==this.readyState||(this.readyState="closing",this.writeBuffer.length?this.once("drain",(()=>{this.upgrading?r():e()})):this.upgrading?r():e()),this}onError(e){h("socket error %j",e),l.priorWebsocketSuccess=!1,this.emitReserved("error",e),this.onClose("transport error",e)}onClose(e,t){"opening"!==this.readyState&&"open"!==this.readyState&&"closing"!==this.readyState||(h('socket close with reason: "%s"',e),this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),"function"==typeof removeEventListener&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",e,t),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(e){const t=[];let r=0;const n=e.length;for(;r<n;r++)~this.transports.indexOf(e[r])&&t.push(e[r]);return t}}t.Socket=l,l.protocol=f.protocol},9870:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Transport=void 0;const i=r(1373),a=r(5260),s=r(9622),o=(0,n(r(1227)).default)("engine.io-client:transport");class c extends Error{constructor(e,t,r){super(e),this.description=t,this.context=r,this.type="TransportError"}}class u extends a.Emitter{constructor(e){super(),this.writable=!1,(0,s.installTimerFunctions)(this,e),this.opts=e,this.query=e.query,this.readyState="",this.socket=e.socket}onError(e,t,r){return super.emitReserved("error",new c(e,t,r)),this}open(){return"closed"!==this.readyState&&""!==this.readyState||(this.readyState="opening",this.doOpen()),this}close(){return"opening"!==this.readyState&&"open"!==this.readyState||(this.doClose(),this.onClose()),this}send(e){"open"===this.readyState?this.write(e):o("transport is not open, discarding packets")}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(e){const t=(0,i.decodePacket)(e,this.socket.binaryType);this.onPacket(t)}onPacket(e){super.emitReserved("packet",e)}onClose(e){this.readyState="closed",super.emitReserved("close",e)}}t.Transport=u},7385:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.transports=void 0;const n=r(484),i=r(1308);t.transports={websocket:i.WS,polling:n.Polling}},484:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Request=t.Polling=void 0;const i=r(9870),a=n(r(1227)),s=r(8726),o=r(5754),c=r(1373),u=r(6666),f=r(5260),h=r(9622),l=r(6242),d=(0,a.default)("engine.io-client:polling");function p(){}const y=null!=new u.XHR({xdomain:!1}).responseType;class b extends i.Transport{constructor(e){if(super(e),this.polling=!1,"undefined"!=typeof location){const t="https:"===location.protocol;let r=location.port;r||(r=t?"443":"80"),this.xd="undefined"!=typeof location&&e.hostname!==location.hostname||r!==e.port,this.xs=e.secure!==t}const t=e&&e.forceBase64;this.supportsBinary=y&&!t}get name(){return"polling"}doOpen(){this.poll()}pause(e){this.readyState="pausing";const t=()=>{d("paused"),this.readyState="paused",e()};if(this.polling||!this.writable){let e=0;this.polling&&(d("we are currently polling - waiting to pause"),e++,this.once("pollComplete",(function(){d("pre-pause polling complete"),--e||t()}))),this.writable||(d("we are currently writing - waiting to pause"),e++,this.once("drain",(function(){d("pre-pause writing complete"),--e||t()})))}else t()}poll(){d("polling"),this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(e){d("polling got data %s",e),(0,c.decodePayload)(e,this.socket.binaryType).forEach((e=>{if("opening"===this.readyState&&"open"===e.type&&this.onOpen(),"close"===e.type)return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(e)})),"closed"!==this.readyState&&(this.polling=!1,this.emitReserved("pollComplete"),"open"===this.readyState?this.poll():d('ignoring poll - transport state "%s"',this.readyState))}doClose(){const e=()=>{d("writing close packet"),this.write([{type:"close"}])};"open"===this.readyState?(d("transport open - closing"),e()):(d("transport not open - deferring close"),this.once("open",e))}write(e){this.writable=!1,(0,c.encodePayload)(e,(e=>{this.doWrite(e,(()=>{this.writable=!0,this.emitReserved("drain")}))}))}uri(){let e=this.query||{};const t=this.opts.secure?"https":"http";let r="";!1!==this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,s.yeast)()),this.supportsBinary||e.sid||(e.b64=1),this.opts.port&&("https"===t&&443!==Number(this.opts.port)||"http"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port);const n=(0,o.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}request(e={}){return Object.assign(e,{xd:this.xd,xs:this.xs},this.opts),new g(this.uri(),e)}doWrite(e,t){const r=this.request({method:"POST",data:e});r.on("success",t),r.on("error",((e,t)=>{this.onError("xhr post error",e,t)}))}doPoll(){d("xhr poll");const e=this.request();e.on("data",this.onData.bind(this)),e.on("error",((e,t)=>{this.onError("xhr poll error",e,t)})),this.pollXhr=e}}t.Polling=b;class g extends f.Emitter{constructor(e,t){super(),(0,h.installTimerFunctions)(this,t),this.opts=t,this.method=t.method||"GET",this.uri=e,this.async=!1!==t.async,this.data=void 0!==t.data?t.data:null,this.create()}create(){const e=(0,h.pick)(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");e.xdomain=!!this.opts.xd,e.xscheme=!!this.opts.xs;const t=this.xhr=new u.XHR(e);try{d("xhr open %s: %s",this.method,this.uri),t.open(this.method,this.uri,this.async);try{if(this.opts.extraHeaders){t.setDisableHeaderCheck&&t.setDisableHeaderCheck(!0);for(let e in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(e)&&t.setRequestHeader(e,this.opts.extraHeaders[e])}}catch(e){}if("POST"===this.method)try{t.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch(e){}try{t.setRequestHeader("Accept","*/*")}catch(e){}"withCredentials"in t&&(t.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(t.timeout=this.opts.requestTimeout),t.onreadystatechange=()=>{4===t.readyState&&(200===t.status||1223===t.status?this.onLoad():this.setTimeoutFn((()=>{this.onError("number"==typeof t.status?t.status:0)}),0))},d("xhr data %s",this.data),t.send(this.data)}catch(e){return void this.setTimeoutFn((()=>{this.onError(e)}),0)}"undefined"!=typeof document&&(this.index=g.requestsCount++,g.requests[this.index]=this)}onError(e){this.emitReserved("error",e,this.xhr),this.cleanup(!0)}cleanup(e){if(void 0!==this.xhr&&null!==this.xhr){if(this.xhr.onreadystatechange=p,e)try{this.xhr.abort()}catch(e){}"undefined"!=typeof document&&delete g.requests[this.index],this.xhr=null}}onLoad(){const e=this.xhr.responseText;null!==e&&(this.emitReserved("data",e),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(t.Request=g,g.requestsCount=0,g.requests={},"undefined"!=typeof document)if("function"==typeof attachEvent)attachEvent("onunload",m);else if("function"==typeof addEventListener){const e="onpagehide"in l.globalThisShim?"pagehide":"unload";addEventListener(e,m,!1)}function m(){for(let e in g.requests)g.requests.hasOwnProperty(e)&&g.requests[e].abort()}},5552:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.defaultBinaryType=t.usingBrowserWebSocket=t.WebSocket=t.nextTick=void 0;const n=r(6242);t.nextTick="function"==typeof Promise&&"function"==typeof Promise.resolve?e=>Promise.resolve().then(e):(e,t)=>t(e,0),t.WebSocket=n.globalThisShim.WebSocket||n.globalThisShim.MozWebSocket,t.usingBrowserWebSocket=!0,t.defaultBinaryType="arraybuffer"},1308:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.WS=void 0;const i=r(9870),a=r(5754),s=r(8726),o=r(9622),c=r(5552),u=n(r(1227)),f=r(1373),h=(0,u.default)("engine.io-client:websocket"),l="undefined"!=typeof navigator&&"string"==typeof navigator.product&&"reactnative"===navigator.product.toLowerCase();class d extends i.Transport{constructor(e){super(e),this.supportsBinary=!e.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const e=this.uri(),t=this.opts.protocols,r=l?{}:(0,o.pick)(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(r.headers=this.opts.extraHeaders);try{this.ws=c.usingBrowserWebSocket&&!l?t?new c.WebSocket(e,t):new c.WebSocket(e):new c.WebSocket(e,t,r)}catch(e){return this.emitReserved("error",e)}this.ws.binaryType=this.socket.binaryType||c.defaultBinaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=e=>this.onClose({description:"websocket connection closed",context:e}),this.ws.onmessage=e=>this.onData(e.data),this.ws.onerror=e=>this.onError("websocket error",e)}write(e){this.writable=!1;for(let t=0;t<e.length;t++){const r=e[t],n=t===e.length-1;(0,f.encodePacket)(r,this.supportsBinary,(e=>{const t={};!c.usingBrowserWebSocket&&(r.options&&(t.compress=r.options.compress),this.opts.perMessageDeflate)&&("string"==typeof e?Buffer.byteLength(e):e.length)<this.opts.perMessageDeflate.threshold&&(t.compress=!1);try{c.usingBrowserWebSocket?this.ws.send(e):this.ws.send(e,t)}catch(e){h("websocket closed before onclose event")}n&&(0,c.nextTick)((()=>{this.writable=!0,this.emitReserved("drain")}),this.setTimeoutFn)}))}}doClose(){void 0!==this.ws&&(this.ws.close(),this.ws=null)}uri(){let e=this.query||{};const t=this.opts.secure?"wss":"ws";let r="";this.opts.port&&("wss"===t&&443!==Number(this.opts.port)||"ws"===t&&80!==Number(this.opts.port))&&(r=":"+this.opts.port),this.opts.timestampRequests&&(e[this.opts.timestampParam]=(0,s.yeast)()),this.supportsBinary||(e.b64=1);const n=(0,a.encode)(e);return t+"://"+(-1!==this.opts.hostname.indexOf(":")?"["+this.opts.hostname+"]":this.opts.hostname)+r+this.opts.path+(n.length?"?"+n:"")}check(){return!!c.WebSocket}}t.WS=d},6666:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.XHR=void 0;const n=r(8419),i=r(6242);t.XHR=function(e){const t=e.xdomain;try{if("undefined"!=typeof XMLHttpRequest&&(!t||n.hasCORS))return new XMLHttpRequest}catch(e){}if(!t)try{return new(i.globalThisShim[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}}},9622:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.byteLength=t.installTimerFunctions=t.pick=void 0;const n=r(6242);t.pick=function(e,...t){return t.reduce(((t,r)=>(e.hasOwnProperty(r)&&(t[r]=e[r]),t)),{})};const i=setTimeout,a=clearTimeout;t.installTimerFunctions=function(e,t){t.useNativeTimers?(e.setTimeoutFn=i.bind(n.globalThisShim),e.clearTimeoutFn=a.bind(n.globalThisShim)):(e.setTimeoutFn=setTimeout.bind(n.globalThisShim),e.clearTimeoutFn=clearTimeout.bind(n.globalThisShim))},t.byteLength=function(e){return"string"==typeof e?function(e){let t=0,r=0;for(let n=0,i=e.length;n<i;n++)t=e.charCodeAt(n),t<128?r+=1:t<2048?r+=2:t<55296||t>=57344?r+=3:(n++,r+=4);return r}(e):Math.ceil(1.33*(e.byteLength||e.size))}},3087:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.ERROR_PACKET=t.PACKET_TYPES_REVERSE=t.PACKET_TYPES=void 0;const r=Object.create(null);t.PACKET_TYPES=r,r.open="0",r.close="1",r.ping="2",r.pong="3",r.message="4",r.upgrade="5",r.noop="6";const n=Object.create(null);t.PACKET_TYPES_REVERSE=n,Object.keys(r).forEach((e=>{n[r[e]]=e})),t.ERROR_PACKET={type:"error",data:"parser error"}},2469:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decode=t.encode=void 0;const r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",n="undefined"==typeof Uint8Array?[]:new Uint8Array(256);for(let e=0;e<r.length;e++)n[r.charCodeAt(e)]=e;t.encode=e=>{let t,n=new Uint8Array(e),i=n.length,a="";for(t=0;t<i;t+=3)a+=r[n[t]>>2],a+=r[(3&n[t])<<4|n[t+1]>>4],a+=r[(15&n[t+1])<<2|n[t+2]>>6],a+=r[63&n[t+2]];return i%3==2?a=a.substring(0,a.length-1)+"=":i%3==1&&(a=a.substring(0,a.length-2)+"=="),a},t.decode=e=>{let t,r,i,a,s,o=.75*e.length,c=e.length,u=0;"="===e[e.length-1]&&(o--,"="===e[e.length-2]&&o--);const f=new ArrayBuffer(o),h=new Uint8Array(f);for(t=0;t<c;t+=4)r=n[e.charCodeAt(t)],i=n[e.charCodeAt(t+1)],a=n[e.charCodeAt(t+2)],s=n[e.charCodeAt(t+3)],h[u++]=r<<2|i>>4,h[u++]=(15&i)<<4|a>>2,h[u++]=(3&a)<<6|63&s;return f}},7572:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3087),i=r(2469),a="function"==typeof ArrayBuffer,s=(e,t)=>{if(a){const r=(0,i.decode)(e);return o(r,t)}return{base64:!0,data:e}},o=(e,t)=>"blob"===t&&e instanceof ArrayBuffer?new Blob([e]):e;t.default=(e,t)=>{if("string"!=typeof e)return{type:"message",data:o(e,t)};const r=e.charAt(0);return"b"===r?{type:"message",data:s(e.substring(1),t)}:n.PACKET_TYPES_REVERSE[r]?e.length>1?{type:n.PACKET_TYPES_REVERSE[r],data:e.substring(1)}:{type:n.PACKET_TYPES_REVERSE[r]}:n.ERROR_PACKET}},3908:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0});const n=r(3087),i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===Object.prototype.toString.call(Blob),a="function"==typeof ArrayBuffer,s=(e,t)=>{const r=new FileReader;return r.onload=function(){const e=r.result.split(",")[1];t("b"+e)},r.readAsDataURL(e)};t.default=({type:e,data:t},r,o)=>{return i&&t instanceof Blob?r?o(t):s(t,o):a&&(t instanceof ArrayBuffer||(c=t,"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer))?r?o(t):s(new Blob([t]),o):o(n.PACKET_TYPES[e]+(t||""));var c}},1373:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.decodePayload=t.decodePacket=t.encodePayload=t.encodePacket=t.protocol=void 0;const n=r(3908);t.encodePacket=n.default;const i=r(7572);t.decodePacket=i.default;const a=String.fromCharCode(30);t.encodePayload=(e,t)=>{const r=e.length,i=new Array(r);let s=0;e.forEach(((e,o)=>{(0,n.default)(e,!1,(e=>{i[o]=e,++s===r&&t(i.join(a))}))}))},t.decodePayload=(e,t)=>{const r=e.split(a),n=[];for(let e=0;e<r.length;e++){const a=(0,i.default)(r[e],t);if(n.push(a),"error"===a.type)break}return n},t.protocol=4},5159:(e,t)=>{"use strict";function r(e){e=e||{},this.ms=e.min||100,this.max=e.max||1e4,this.factor=e.factor||2,this.jitter=e.jitter>0&&e.jitter<=1?e.jitter:0,this.attempts=0}Object.defineProperty(t,"__esModule",{value:!0}),t.Backoff=void 0,t.Backoff=r,r.prototype.duration=function(){var e=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var t=Math.random(),r=Math.floor(t*this.jitter*e);e=0==(1&Math.floor(10*t))?e-r:e+r}return 0|Math.min(e,this.max)},r.prototype.reset=function(){this.attempts=0},r.prototype.setMin=function(e){this.ms=e},r.prototype.setMax=function(e){this.max=e},r.prototype.setJitter=function(e){this.jitter=e}},7046:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.default=t.connect=t.io=t.Socket=t.Manager=t.protocol=void 0;const i=r(3084),a=r(4168);Object.defineProperty(t,"Manager",{enumerable:!0,get:function(){return a.Manager}});const s=r(8312);Object.defineProperty(t,"Socket",{enumerable:!0,get:function(){return s.Socket}});const o=n(r(1227)).default("socket.io-client"),c={};function u(e,t){"object"==typeof e&&(t=e,e=void 0),t=t||{};const r=i.url(e,t.path||"/socket.io"),n=r.source,s=r.id,u=r.path,f=c[s]&&u in c[s].nsps;let h;return t.forceNew||t["force new connection"]||!1===t.multiplex||f?(o("ignoring socket cache for %s",n),h=new a.Manager(n,t)):(c[s]||(o("new io instance for %s",n),c[s]=new a.Manager(n,t)),h=c[s]),r.query&&!t.query&&(t.query=r.queryKey),h.socket(r.path,t)}t.io=u,t.connect=u,t.default=u,Object.assign(u,{Manager:a.Manager,Socket:s.Socket,io:u,connect:u});var f=r(4514);Object.defineProperty(t,"protocol",{enumerable:!0,get:function(){return f.protocol}}),e.exports=u},4168:function(e,t,r){"use strict";var n=this&&this.__createBinding||(Object.create?function(e,t,r,n){void 0===n&&(n=r),Object.defineProperty(e,n,{enumerable:!0,get:function(){return t[r]}})}:function(e,t,r,n){void 0===n&&(n=r),e[n]=t[r]}),i=this&&this.__setModuleDefault||(Object.create?function(e,t){Object.defineProperty(e,"default",{enumerable:!0,value:t})}:function(e,t){e.default=t}),a=this&&this.__importStar||function(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var r in e)"default"!==r&&Object.prototype.hasOwnProperty.call(e,r)&&n(t,e,r);return i(t,e),t},s=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Manager=void 0;const o=r(4679),c=r(8312),u=a(r(4514)),f=r(7149),h=r(5159),l=r(5260),d=s(r(1227)).default("socket.io-client:manager");class p extends l.Emitter{constructor(e,t){var r;super(),this.nsps={},this.subs=[],e&&"object"==typeof e&&(t=e,e=void 0),(t=t||{}).path=t.path||"/socket.io",this.opts=t,o.installTimerFunctions(this,t),this.reconnection(!1!==t.reconnection),this.reconnectionAttempts(t.reconnectionAttempts||1/0),this.reconnectionDelay(t.reconnectionDelay||1e3),this.reconnectionDelayMax(t.reconnectionDelayMax||5e3),this.randomizationFactor(null!==(r=t.randomizationFactor)&&void 0!==r?r:.5),this.backoff=new h.Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(null==t.timeout?2e4:t.timeout),this._readyState="closed",this.uri=e;const n=t.parser||u;this.encoder=new n.Encoder,this.decoder=new n.Decoder,this._autoConnect=!1!==t.autoConnect,this._autoConnect&&this.open()}reconnection(e){return arguments.length?(this._reconnection=!!e,this):this._reconnection}reconnectionAttempts(e){return void 0===e?this._reconnectionAttempts:(this._reconnectionAttempts=e,this)}reconnectionDelay(e){var t;return void 0===e?this._reconnectionDelay:(this._reconnectionDelay=e,null===(t=this.backoff)||void 0===t||t.setMin(e),this)}randomizationFactor(e){var t;return void 0===e?this._randomizationFactor:(this._randomizationFactor=e,null===(t=this.backoff)||void 0===t||t.setJitter(e),this)}reconnectionDelayMax(e){var t;return void 0===e?this._reconnectionDelayMax:(this._reconnectionDelayMax=e,null===(t=this.backoff)||void 0===t||t.setMax(e),this)}timeout(e){return arguments.length?(this._timeout=e,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&0===this.backoff.attempts&&this.reconnect()}open(e){if(d("readyState %s",this._readyState),~this._readyState.indexOf("open"))return this;d("opening %s",this.uri),this.engine=new o.Socket(this.uri,this.opts);const t=this.engine,r=this;this._readyState="opening",this.skipReconnect=!1;const n=f.on(t,"open",(function(){r.onopen(),e&&e()})),i=f.on(t,"error",(t=>{d("error"),r.cleanup(),r._readyState="closed",this.emitReserved("error",t),e?e(t):r.maybeReconnectOnOpen()}));if(!1!==this._timeout){const e=this._timeout;d("connect attempt will timeout after %d",e),0===e&&n();const r=this.setTimeoutFn((()=>{d("connect attempt timed out after %d",e),n(),t.close(),t.emit("error",new Error("timeout"))}),e);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}return this.subs.push(n),this.subs.push(i),this}connect(e){return this.open(e)}onopen(){d("open"),this.cleanup(),this._readyState="open",this.emitReserved("open");const e=this.engine;this.subs.push(f.on(e,"ping",this.onping.bind(this)),f.on(e,"data",this.ondata.bind(this)),f.on(e,"error",this.onerror.bind(this)),f.on(e,"close",this.onclose.bind(this)),f.on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(e){try{this.decoder.add(e)}catch(e){this.onclose("parse error",e)}}ondecoded(e){o.nextTick((()=>{this.emitReserved("packet",e)}),this.setTimeoutFn)}onerror(e){d("error",e),this.emitReserved("error",e)}socket(e,t){let r=this.nsps[e];return r||(r=new c.Socket(this,e,t),this.nsps[e]=r),r}_destroy(e){const t=Object.keys(this.nsps);for(const e of t)if(this.nsps[e].active)return void d("socket %s is still active, skipping close",e);this._close()}_packet(e){d("writing packet %j",e);const t=this.encoder.encode(e);for(let r=0;r<t.length;r++)this.engine.write(t[r],e.options)}cleanup(){d("cleanup"),this.subs.forEach((e=>e())),this.subs.length=0,this.decoder.destroy()}_close(){d("disconnect"),this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(e,t){d("closed due to %s",e),this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",e,t),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const e=this;if(this.backoff.attempts>=this._reconnectionAttempts)d("reconnect failed"),this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const t=this.backoff.duration();d("will wait %dms before reconnect attempt",t),this._reconnecting=!0;const r=this.setTimeoutFn((()=>{e.skipReconnect||(d("attempting reconnect"),this.emitReserved("reconnect_attempt",e.backoff.attempts),e.skipReconnect||e.open((t=>{t?(d("reconnect attempt error"),e._reconnecting=!1,e.reconnect(),this.emitReserved("reconnect_error",t)):(d("reconnect success"),e.onreconnect())})))}),t);this.opts.autoUnref&&r.unref(),this.subs.push((function(){clearTimeout(r)}))}}onreconnect(){const e=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",e)}}t.Manager=p},7149:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.on=void 0,t.on=function(e,t,r){return e.on(t,r),function(){e.off(t,r)}}},8312:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.Socket=void 0;const i=r(4514),a=r(7149),s=r(5260),o=n(r(1227)).default("socket.io-client:socket"),c=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class u extends s.Emitter{constructor(e,t,r){super(),this.connected=!1,this.receiveBuffer=[],this.sendBuffer=[],this.ids=0,this.acks={},this.flags={},this.io=e,this.nsp=t,r&&r.auth&&(this.auth=r.auth),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const e=this.io;this.subs=[a.on(e,"open",this.onopen.bind(this)),a.on(e,"packet",this.onpacket.bind(this)),a.on(e,"error",this.onerror.bind(this)),a.on(e,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected||(this.subEvents(),this.io._reconnecting||this.io.open(),"open"===this.io._readyState&&this.onopen()),this}open(){return this.connect()}send(...e){return e.unshift("message"),this.emit.apply(this,e),this}emit(e,...t){if(c.hasOwnProperty(e))throw new Error('"'+e.toString()+'" is a reserved event name');t.unshift(e);const r={type:i.PacketType.EVENT,data:t,options:{}};if(r.options.compress=!1!==this.flags.compress,"function"==typeof t[t.length-1]){const e=this.ids++;o("emitting packet with ack id %d",e);const n=t.pop();this._registerAckCallback(e,n),r.id=e}const n=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return!this.flags.volatile||n&&this.connected?this.connected?(this.notifyOutgoingListeners(r),this.packet(r)):this.sendBuffer.push(r):o("discard packet as the transport is not currently writable"),this.flags={},this}_registerAckCallback(e,t){const r=this.flags.timeout;if(void 0===r)return void(this.acks[e]=t);const n=this.io.setTimeoutFn((()=>{delete this.acks[e];for(let t=0;t<this.sendBuffer.length;t++)this.sendBuffer[t].id===e&&(o("removing packet with ack id %d from the buffer",e),this.sendBuffer.splice(t,1));o("event with ack id %d has timed out after %d ms",e,r),t.call(this,new Error("operation has timed out"))}),r);this.acks[e]=(...e)=>{this.io.clearTimeoutFn(n),t.apply(this,[null,...e])}}packet(e){e.nsp=this.nsp,this.io._packet(e)}onopen(){o("transport is open - connecting"),"function"==typeof this.auth?this.auth((e=>{this.packet({type:i.PacketType.CONNECT,data:e})})):this.packet({type:i.PacketType.CONNECT,data:this.auth})}onerror(e){this.connected||this.emitReserved("connect_error",e)}onclose(e,t){o("close (%s)",e),this.connected=!1,delete this.id,this.emitReserved("disconnect",e,t)}onpacket(e){if(e.nsp===this.nsp)switch(e.type){case i.PacketType.CONNECT:if(e.data&&e.data.sid){const t=e.data.sid;this.onconnect(t)}else this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case i.PacketType.EVENT:case i.PacketType.BINARY_EVENT:this.onevent(e);break;case i.PacketType.ACK:case i.PacketType.BINARY_ACK:this.onack(e);break;case i.PacketType.DISCONNECT:this.ondisconnect();break;case i.PacketType.CONNECT_ERROR:this.destroy();const t=new Error(e.data.message);t.data=e.data.data,this.emitReserved("connect_error",t)}}onevent(e){const t=e.data||[];o("emitting event %j",t),null!=e.id&&(o("attaching ack callback to event"),t.push(this.ack(e.id))),this.connected?this.emitEvent(t):this.receiveBuffer.push(Object.freeze(t))}emitEvent(e){if(this._anyListeners&&this._anyListeners.length){const t=this._anyListeners.slice();for(const r of t)r.apply(this,e)}super.emit.apply(this,e)}ack(e){const t=this;let r=!1;return function(...n){r||(r=!0,o("sending ack %j",n),t.packet({type:i.PacketType.ACK,id:e,data:n}))}}onack(e){const t=this.acks[e.id];"function"==typeof t?(o("calling ack %s with %j",e.id,e.data),t.apply(this,e.data),delete this.acks[e.id]):o("bad ack %s",e.id)}onconnect(e){o("socket connected with id %s",e),this.id=e,this.connected=!0,this.emitBuffered(),this.emitReserved("connect")}emitBuffered(){this.receiveBuffer.forEach((e=>this.emitEvent(e))),this.receiveBuffer=[],this.sendBuffer.forEach((e=>{this.notifyOutgoingListeners(e),this.packet(e)})),this.sendBuffer=[]}ondisconnect(){o("server disconnect (%s)",this.nsp),this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach((e=>e())),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&(o("performing disconnect (%s)",this.nsp),this.packet({type:i.PacketType.DISCONNECT})),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(e){return this.flags.compress=e,this}get volatile(){return this.flags.volatile=!0,this}timeout(e){return this.flags.timeout=e,this}onAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(e),this}prependAny(e){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(e),this}offAny(e){if(!this._anyListeners)return this;if(e){const t=this._anyListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(e),this}prependAnyOutgoing(e){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(e),this}offAnyOutgoing(e){if(!this._anyOutgoingListeners)return this;if(e){const t=this._anyOutgoingListeners;for(let r=0;r<t.length;r++)if(e===t[r])return t.splice(r,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(e){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const t=this._anyOutgoingListeners.slice();for(const r of t)r.apply(this,e.data)}}}t.Socket=u},3084:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:!0}),t.url=void 0;const i=r(4679),a=n(r(1227)).default("socket.io-client:url");t.url=function(e,t="",r){let n=e;r=r||"undefined"!=typeof location&&location,null==e&&(e=r.protocol+"//"+r.host),"string"==typeof e&&("/"===e.charAt(0)&&(e="/"===e.charAt(1)?r.protocol+e:r.host+e),/^(https?|wss?):\/\//.test(e)||(a("protocol-less url %s",e),e=void 0!==r?r.protocol+"//"+e:"https://"+e),a("parse %s",e),n=i.parse(e)),n.port||(/^(http|ws)$/.test(n.protocol)?n.port="80":/^(http|ws)s$/.test(n.protocol)&&(n.port="443")),n.path=n.path||"/";const s=-1!==n.host.indexOf(":")?"["+n.host+"]":n.host;return n.id=n.protocol+"://"+s+":"+n.port+t,n.href=n.protocol+"://"+s+(r&&r.port===n.port?"":":"+n.port),n}},4880:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.reconstructPacket=t.deconstructPacket=void 0;const n=r(665);function i(e,t){if(!e)return e;if(n.isBinary(e)){const r={_placeholder:!0,num:t.length};return t.push(e),r}if(Array.isArray(e)){const r=new Array(e.length);for(let n=0;n<e.length;n++)r[n]=i(e[n],t);return r}if("object"==typeof e&&!(e instanceof Date)){const r={};for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&(r[n]=i(e[n],t));return r}return e}function a(e,t){if(!e)return e;if(e&&!0===e._placeholder){if("number"==typeof e.num&&e.num>=0&&e.num<t.length)return t[e.num];throw new Error("illegal attachments")}if(Array.isArray(e))for(let r=0;r<e.length;r++)e[r]=a(e[r],t);else if("object"==typeof e)for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&(e[r]=a(e[r],t));return e}t.deconstructPacket=function(e){const t=[],r=e.data,n=e;return n.data=i(r,t),n.attachments=t.length,{packet:n,buffers:t}},t.reconstructPacket=function(e,t){return e.data=a(e.data,t),e.attachments=void 0,e}},4514:(e,t,r)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.Decoder=t.Encoder=t.PacketType=t.protocol=void 0;const n=r(5260),i=r(4880),a=r(665),s=r(1227).default("socket.io-parser");var o;t.protocol=5,function(e){e[e.CONNECT=0]="CONNECT",e[e.DISCONNECT=1]="DISCONNECT",e[e.EVENT=2]="EVENT",e[e.ACK=3]="ACK",e[e.CONNECT_ERROR=4]="CONNECT_ERROR",e[e.BINARY_EVENT=5]="BINARY_EVENT",e[e.BINARY_ACK=6]="BINARY_ACK"}(o=t.PacketType||(t.PacketType={})),t.Encoder=class{constructor(e){this.replacer=e}encode(e){return s("encoding packet %j",e),e.type!==o.EVENT&&e.type!==o.ACK||!a.hasBinary(e)?[this.encodeAsString(e)]:(e.type=e.type===o.EVENT?o.BINARY_EVENT:o.BINARY_ACK,this.encodeAsBinary(e))}encodeAsString(e){let t=""+e.type;return e.type!==o.BINARY_EVENT&&e.type!==o.BINARY_ACK||(t+=e.attachments+"-"),e.nsp&&"/"!==e.nsp&&(t+=e.nsp+","),null!=e.id&&(t+=e.id),null!=e.data&&(t+=JSON.stringify(e.data,this.replacer)),s("encoded %j as %s",e,t),t}encodeAsBinary(e){const t=i.deconstructPacket(e),r=this.encodeAsString(t.packet),n=t.buffers;return n.unshift(r),n}};class c extends n.Emitter{constructor(e){super(),this.reviver=e}add(e){let t;if("string"==typeof e){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");t=this.decodeString(e),t.type===o.BINARY_EVENT||t.type===o.BINARY_ACK?(this.reconstructor=new u(t),0===t.attachments&&super.emitReserved("decoded",t)):super.emitReserved("decoded",t)}else{if(!a.isBinary(e)&&!e.base64)throw new Error("Unknown type: "+e);if(!this.reconstructor)throw new Error("got binary data when not reconstructing a packet");t=this.reconstructor.takeBinaryData(e),t&&(this.reconstructor=null,super.emitReserved("decoded",t))}}decodeString(e){let t=0;const r={type:Number(e.charAt(0))};if(void 0===o[r.type])throw new Error("unknown packet type "+r.type);if(r.type===o.BINARY_EVENT||r.type===o.BINARY_ACK){const n=t+1;for(;"-"!==e.charAt(++t)&&t!=e.length;);const i=e.substring(n,t);if(i!=Number(i)||"-"!==e.charAt(t))throw new Error("Illegal attachments");r.attachments=Number(i)}if("/"===e.charAt(t+1)){const n=t+1;for(;++t&&","!==e.charAt(t)&&t!==e.length;);r.nsp=e.substring(n,t)}else r.nsp="/";const n=e.charAt(t+1);if(""!==n&&Number(n)==n){const n=t+1;for(;++t;){const r=e.charAt(t);if(null==r||Number(r)!=r){--t;break}if(t===e.length)break}r.id=Number(e.substring(n,t+1))}if(e.charAt(++t)){const n=this.tryParse(e.substr(t));if(!c.isPayloadValid(r.type,n))throw new Error("invalid payload");r.data=n}return s("decoded %s as %j",e,r),r}tryParse(e){try{return JSON.parse(e,this.reviver)}catch(e){return!1}}static isPayloadValid(e,t){switch(e){case o.CONNECT:return"object"==typeof t;case o.DISCONNECT:return void 0===t;case o.CONNECT_ERROR:return"string"==typeof t||"object"==typeof t;case o.EVENT:case o.BINARY_EVENT:return Array.isArray(t)&&t.length>0;case o.ACK:case o.BINARY_ACK:return Array.isArray(t)}}destroy(){this.reconstructor&&this.reconstructor.finishedReconstruction()}}t.Decoder=c;class u{constructor(e){this.packet=e,this.buffers=[],this.reconPack=e}takeBinaryData(e){if(this.buffers.push(e),this.buffers.length===this.reconPack.attachments){const e=i.reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),e}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}},665:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:!0}),t.hasBinary=t.isBinary=void 0;const r="function"==typeof ArrayBuffer,n=Object.prototype.toString,i="function"==typeof Blob||"undefined"!=typeof Blob&&"[object BlobConstructor]"===n.call(Blob),a="function"==typeof File||"undefined"!=typeof File&&"[object FileConstructor]"===n.call(File);function s(e){return r&&(e instanceof ArrayBuffer||(e=>"function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(e):e.buffer instanceof ArrayBuffer)(e))||i&&e instanceof Blob||a&&e instanceof File}t.isBinary=s,t.hasBinary=function e(t,r){if(!t||"object"!=typeof t)return!1;if(Array.isArray(t)){for(let r=0,n=t.length;r<n;r++)if(e(t[r]))return!0;return!1}if(s(t))return!0;if(t.toJSON&&"function"==typeof t.toJSON&&1===arguments.length)return e(t.toJSON(),!0);for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return!0;return!1}},5260:(e,t,r)=>{"use strict";function n(e){if(e)return function(e){for(var t in n.prototype)e[t]=n.prototype[t];return e}(e)}r.r(t),r.d(t,{Emitter:()=>n}),n.prototype.on=n.prototype.addEventListener=function(e,t){return this._callbacks=this._callbacks||{},(this._callbacks["$"+e]=this._callbacks["$"+e]||[]).push(t),this},n.prototype.once=function(e,t){function r(){this.off(e,r),t.apply(this,arguments)}return r.fn=t,this.on(e,r),this},n.prototype.off=n.prototype.removeListener=n.prototype.removeAllListeners=n.prototype.removeEventListener=function(e,t){if(this._callbacks=this._callbacks||{},0==arguments.length)return this._callbacks={},this;var r,n=this._callbacks["$"+e];if(!n)return this;if(1==arguments.length)return delete this._callbacks["$"+e],this;for(var i=0;i<n.length;i++)if((r=n[i])===t||r.fn===t){n.splice(i,1);break}return 0===n.length&&delete this._callbacks["$"+e],this},n.prototype.emit=function(e){this._callbacks=this._callbacks||{};for(var t=new Array(arguments.length-1),r=this._callbacks["$"+e],n=1;n<arguments.length;n++)t[n-1]=arguments[n];if(r){n=0;for(var i=(r=r.slice(0)).length;n<i;++n)r[n].apply(this,t)}return this},n.prototype.emitReserved=n.prototype.emit,n.prototype.listeners=function(e){return this._callbacks=this._callbacks||{},this._callbacks["$"+e]||[]},n.prototype.hasListeners=function(e){return!!this.listeners(e).length}},9650:(e,t,r)=>{"use strict";r.r(t),r.d(t,{AEADEncryptedDataPacket:()=>Qs,CleartextMessage:()=>ac,CompressedDataPacket:()=>qs,LiteralDataPacket:()=>Is,MarkerPacket:()=>so,Message:()=>Qo,OnePassSignaturePacket:()=>zs,PacketList:()=>Fs,PrivateKey:()=>No,PublicKey:()=>qo,PublicKeyEncryptedSessionKeyPacket:()=>eo,PublicKeyPacket:()=>no,PublicSubkeyPacket:()=>oo,SecretKeyPacket:()=>uo,SecretSubkeyPacket:()=>po,Signature:()=>go,SignaturePacket:()=>Ks,Subkey:()=>Ko,SymEncryptedIntegrityProtectedDataPacket:()=>Xs,SymEncryptedSessionKeyPacket:()=>ro,SymmetricallyEncryptedDataPacket:()=>ao,TrustPacket:()=>yo,UnparseablePacket:()=>kn,UserAttributePacket:()=>co,UserIDPacket:()=>lo,armor:()=>ye,config:()=>se,createCleartextMessage:()=>oc,createMessage:()=>nc,decrypt:()=>pc,decryptKey:()=>hc,decryptSessionKeys:()=>vc,encrypt:()=>dc,encryptKey:()=>lc,encryptSessionKey:()=>mc,enums:()=>ae,generateKey:()=>cc,generateSessionKey:()=>gc,readCleartextMessage:()=>sc,readKey:()=>$o,readKeys:()=>Go,readMessage:()=>rc,readPrivateKey:()=>Vo,readPrivateKeys:()=>Yo,readSignature:()=>mo,reformatKey:()=>uc,revokeKey:()=>fc,sign:()=>yc,unarmor:()=>pe,verify:()=>bc});const n="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{},i=Symbol("doneWritingPromise"),a=Symbol("doneWritingResolve"),s=Symbol("doneWritingReject"),o=Symbol("readingIndex");class c extends Array{constructor(){super(),this[i]=new Promise(((e,t)=>{this[a]=e,this[s]=t})),this[i].catch((()=>{}))}}function u(e){return e&&e.getReader&&Array.isArray(e)}function f(e){if(!u(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}c.prototype.getReader=function(){return void 0===this[o]&&(this[o]=0),{read:async()=>(await this[i],this[o]===this.length?{value:void 0,done:!0}:{value:this[this[o]++],done:!1})}},c.prototype.readToEnd=async function(e){await this[i];const t=e(this.slice(this[o]));return this.length=0,t},c.prototype.clone=function(){const e=new c;return e[i]=this[i].then((()=>{e.push(...this)})),e},f.prototype.write=async function(e){this.stream.push(e)},f.prototype.close=async function(){this.stream[a]()},f.prototype.abort=async function(e){return this.stream[s](e),e},f.prototype.releaseLock=function(){};const h="object"==typeof n.process&&"object"==typeof n.process.versions,l=h&&void 0;function d(e){return u(e)?"array":n.ReadableStream&&n.ReadableStream.prototype.isPrototypeOf(e)?"web":E&&E.prototype.isPrototypeOf(e)?"ponyfill":l&&l.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function p(e){return Uint8Array.prototype.isPrototypeOf(e)}function y(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!p(e[r]))throw Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}const b=h&&void 0,g=h&&void 0;let m,v;if(g){m=function(e){let t=!1;return new E({start(r){e.pause(),e.on("data",(n=>{t||(b.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause())})),e.on("end",(()=>{t||r.close()})),e.on("error",(e=>r.error(e)))},pull(){e.resume()},cancel(r){t=!0,e.destroy(r)}})};class e extends g{constructor(e,t){super(t),this._reader=I(e)}async _read(e){try{for(;;){const{done:e,value:t}=await this._reader.read();if(e){this.push(null);break}if(!this.push(t)||this._cancelling){this._reading=!1;break}}}catch(e){this.emit("error",e)}}_destroy(e){this._reader.cancel(e)}}v=function(t,r){return new e(t,r)}}const w=new WeakSet,_=Symbol("externalBuffer");function k(e){if(this.stream=e,e[_]&&(this[_]=e[_].slice()),u(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=d(e);if("node"===t&&(e=m(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||w.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{w.add(e)}catch(e){}}}k.prototype.read=async function(){return this[_]&&this[_].length?{done:!1,value:this[_].shift()}:this._read()},k.prototype.releaseLock=function(){this[_]&&(this.stream[_]=this[_]),this._releaseLock()},k.prototype.cancel=function(e){return this._cancel(e)},k.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?U(t):void 0;const i=n.indexOf("\n")+1;i&&(e=U(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},k.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(W(t,1)),r},k.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?U(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=U(t);return this.unshift(W(r,e)),W(r,0,e)}}},k.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},k.prototype.unshift=function(...e){this[_]||(this[_]=[]),1===e.length&&p(e[0])&&this[_].length&&e[0].length&&this[_][0].byteOffset>=e[0].length?this[_][0]=new Uint8Array(this[_][0].buffer,this[_][0].byteOffset-e[0].length,this[_][0].byteLength+e[0].length):this[_].unshift(...e.filter((e=>e&&e.length)))},k.prototype.readToEnd=async function(e=U){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let A,S,{ReadableStream:E,WritableStream:x,TransformStream:P}=n;async function C(){if(P)return;const[e,t]=await Promise.all([Promise.resolve().then((function(){return cl})),Promise.resolve().then((function(){return Ml}))]);({ReadableStream:E,WritableStream:x,TransformStream:P}=e);const{createReadableStreamWrapper:r}=t;n.ReadableStream&&E!==n.ReadableStream&&(A=r(E),S=r(n.ReadableStream))}const M=h&&void 0;function B(e){let t=d(e);return"node"===t?m(e):"web"===t&&A?A(e):t?e:new E({start(t){t.enqueue(e),t.close()}})}function R(e){if(d(e))return e;const t=new c;return(async()=>{const r=T(t);await r.write(e),await r.close()})(),t}function U(e){return e.some((e=>d(e)&&!u(e)))?function(e){e=e.map(B);const t=O((async function(e){await Promise.all(n.map((t=>$(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>j(n,((n,a)=>(r=r.then((()=>D(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>u(e)))?function(e){const t=new c;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>D(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):M&&M.isBuffer(e[0])?M.concat(e):y(e)}function I(e){return new k(e)}function T(e){return new f(e)}async function D(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(d(e)&&!u(e)){e=B(e);try{if(e[_]){const r=T(t);for(let t=0;t<e[_].length;t++)await r.ready,await r.write(e[_][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const a=I(e=R(e)),s=T(t);try{for(;;){await s.ready;const{done:e,value:t}=await a.read();if(e){r||await s.close();break}await s.write(t)}}catch(e){n||await s.abort(e)}finally{a.releaseLock(),s.releaseLock()}}function K(e,t){const r=new P(t);return D(e,r.writable),r.readable}function O(e){let t,r,n=!1;return{readable:new E({start(e){r=e},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new x({write:async function(e){r.enqueue(e),n?n=!1:(await new Promise((e=>{t=e})),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function z(e,t=(()=>{}),r=(()=>{})){if(u(e)){const n=new c;return(async()=>{const i=T(n);try{const n=await H(e),a=t(n),s=r();let o;o=void 0!==a&&void 0!==s?U([a,s]):void 0!==a?a:s,await i.write(o),await i.close()}catch(e){await i.abort(e)}})(),n}if(d(e))return K(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?U([n,i]):void 0!==n?n:i}function j(e,t){if(d(e)&&!u(e)){let r;const n=new P({start(e){r=e}}),i=D(e,n.writable),a=O((async function(e){r.error(e),await i,await new Promise(setTimeout)}));return t(n.readable,a.writable),a.readable}e=R(e);const r=new c;return t(e,r),r}function F(e,t){let r;const n=j(e,((e,i)=>{const a=I(e);a.remainder=()=>(a.releaseLock(),D(e,i),n),r=t(a)}));return r}function L(e){if(u(e))return e.clone();if(d(e)){const t=function(e){if(u(e))throw Error("ArrayStream cannot be tee()d, use clone() instead");if(d(e)){const t=B(e).tee();return t[0][_]=t[1][_]=e[_],t}return[W(e),W(e)]}(e);return N(e,t[0]),t[1]}return W(e)}function q(e){return u(e)?L(e):d(e)?new E({start(t){const r=j(e,(async(e,r)=>{const n=I(e),i=T(r);try{for(;;){await i.ready;const{done:r,value:a}=await n.read();if(r){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(a)}catch(e){}await i.write(a)}}catch(e){t.error(e),await i.abort(e)}}));N(e,r)}}):W(e)}function N(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function W(e,t=0,r=1/0){if(u(e))throw Error("Not implemented");if(d(e)){if(t>=0&&r>=0){let n=0;return K(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(W(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return z(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>W(U(n),t,r)))}if(0===t&&r<0){let n;return z(e,(e=>{const i=n?U([n,e]):e;if(i.length>=-r)return n=W(i,r),W(i,t,r);n=i}))}return console.warn(`stream.slice(input, ${t}, ${r}) not implemented efficiently.`),V((async()=>W(await H(e),t,r)))}return e[_]&&(e=U(e[_].concat([e]))),!p(e)||M&&M.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function H(e,t=U){return u(e)?e.readToEnd(t):d(e)?I(e).readToEnd(t):e}async function $(e,t){if(d(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function V(e){const t=new c;return(async()=>{const r=T(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}class G{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");if(e instanceof Uint8Array){const t=e,r=Array(t.length);for(let e=0;e<t.length;e++){const n=t[e].toString(16);r[e]=t[e]<=15?"0"+n:n}this.value=BigInt("0x0"+r.join(""))}else this.value=BigInt(e)}clone(){return new G(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new G(0);if(e.isNegative())throw Error("Unsopported negative exponent");let r=e.value,n=this.value;n%=t.value;let i=BigInt(1);for(;r>BigInt(0);){const e=r&BigInt(1);r>>=BigInt(1);const a=i*n%t.value;i=e?a:i,n=n*n%t.value}return new G(i)}modInv(e){const{gcd:t,x:r}=this._egcd(e);if(!t.isOne())throw Error("Inverse does not exist");return r.add(e).mod(e)}_egcd(e){let t=BigInt(0),r=BigInt(1),n=BigInt(1),i=BigInt(0),a=this.value;for(e=e.value;e!==BigInt(0);){const s=a/e;let o=t;t=n-s*t,n=o,o=r,r=i-s*r,i=o,o=e,e=a%e,a=o}return{x:new G(n),y:new G(i),gcd:new G(a)}}gcd(e){let t=this.value;for(e=e.value;e!==BigInt(0);){const r=e;e=t%e,t=r}return new G(t)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new G(0),t=new G(1),r=new G(-1),n=this.isNegative()?r:e;let i=1;const a=this.clone();for(;!a.irightShift(t).equal(n);)i++;return i}byteLength(){const e=new G(0),t=new G(-1),r=this.isNegative()?t:e,n=new G(8);let i=1;const a=this.clone();for(;!a.irightShift(n).equal(r);)i++;return i}toUint8Array(e="be",t){let r=this.value.toString(16);r.length%2==1&&(r="0"+r);const n=r.length/2,i=new Uint8Array(t||n),a=t?t-n:0;let s=0;for(;s<n;)i[s+a]=parseInt(r.slice(2*s,2*s+2),16),s++;return"be"!==e&&i.reverse(),i}}const Y=(()=>{try{return!1}catch(e){}return!1})(),Z={isString:function(e){return"string"==typeof e||String.prototype.isPrototypeOf(e)},isArray:function(e){return Array.prototype.isPrototypeOf(e)},isUint8Array:p,isStream:d,readNumber:function(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber:function(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:function(e){const t=Z.readNumber(e);return new Date(1e3*t)},writeDate:function(e){const t=Math.floor(e.getTime()/1e3);return Z.writeNumber(t,4)},normalizeDate:function(e=Date.now()){return null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3))},readMPI:function(e){const t=7+(e[0]<<8|e[1])>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t),n=t-e.length;return r.set(e,n),r},uint8ArrayToMPI:function(e){const t=Z.uint8ArrayBitLength(e);if(0===t)throw Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return Z.concatUint8Array([n,r])},uint8ArrayBitLength:function(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+Z.nbits(r[0])},hexToUint8Array:function(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex:function(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:function(e){return z(e,(e=>{if(!Z.isString(e))throw Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}))},uint8ArrayToString:function(e){const t=[],r=16384,n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=r)t.push(String.fromCharCode.apply(String,e.subarray(i,i+r<n?i+r:n)));return t.join("")},encodeUTF8:function(e){const t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return z(e,r,(()=>r("",!0)))},decodeUTF8:function(e){const t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return z(e,r,(()=>r(new Uint8Array,!0)))},concat:U,concatUint8Array:y,equalsUint8Array:function(e,t){if(!Z.isUint8Array(e)||!Z.isUint8Array(t))throw Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum:function(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return Z.writeNumber(t,2)},printDebug:function(e){Y&&console.log("[OpenPGP.js debug]",e)},printDebugError:function(e){Y&&console.error("[OpenPGP.js debug]",e)},nbits:function(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double:function(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight:function(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:function(){return void 0!==n&&n.crypto&&n.crypto.subtle},detectBigInt:()=>"undefined"!=typeof BigInt,getBigInteger:async function(){if(Z.detectBigInt())return G;{const{default:e}=await Promise.resolve().then((function(){return Tl}));return e}},getNodeCrypto:function(){},getNodeZlib:function(){},getNodeBuffer:function(){return{}.Buffer},getHardwareConcurrency:function(){return"undefined"!=typeof navigator?navigator.hardwareConcurrency||1:(void 0).cpus().length},isEmailAddress:function(e){return!!Z.isString(e)&&/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL:function(e){let t=!1;return z(e,(e=>{let r;t&&(e=Z.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const n=[];for(let t=0;r=e.indexOf(10,t)+1,r;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;const i=new Uint8Array(e.length+n.length);let a=0;for(let t=0;t<n.length;t++){const r=e.subarray(n[t-1]||0,n[t]);i.set(r,a),a+=r.length,i[a-1]=13,i[a]=10,a++}return i.set(e.subarray(n[n.length-1]||0),a),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL:function(e){let t=!1;return z(e,(e=>{let r;13===(e=t&&10!==e[0]?Z.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){r=e.indexOf(13,t)+1,r||(r=e.length);const i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:function(e){return e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)})).join("\n")},wrapError:function(e,t){if(!t)return Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets:function(e){const t={};return e.forEach((e=>{if(!e.tag)throw Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:function(e){return new Promise((async(t,r)=>{let n;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){n=e}}))),r(n)}))},selectUint8Array:function(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let a=0;for(let n=0;n<i.length;n++)i[n]=t[n]&256-e|r[n]&255+e,a+=e&n<t.length|1-e&n<r.length;return i.subarray(0,a)},selectUint8:function(e,t,r){return t&256-e|r&255+e}},X=Z.getNodeBuffer();let J,Q;function ee(e){let t=new Uint8Array;return z(e,(e=>{t=Z.concatUint8Array([t,e]);const r=[],n=Math.floor(t.length/45),i=45*n,a=J(t.subarray(0,i));for(let e=0;e<n;e++)r.push(a.substr(60*e,60)),r.push("\n");return t=t.subarray(i),r.join("")}),(()=>t.length?J(t)+"\n":""))}function te(e){let t="";return z(e,(e=>{t+=e;let r=0;const n=[" ","\t","\r","\n"];for(let e=0;e<n.length;e++){const i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let i=t.length;for(;i>0&&(i-r)%4!=0;i--)n.includes(t[i])&&r--;const a=Q(t.substr(0,i));return t=t.substr(i),a}),(()=>Q(t)))}function re(e){return te(e.replace(/-/g,"+").replace(/_/g,"/"))}function ne(e,t){let r=ee(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}X?(J=e=>X.from(e).toString("base64"),Q=e=>{const t=X.from(e,"base64");return new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}):(J=e=>btoa(Z.uint8ArrayToString(e)),Q=e=>Z.stringToUint8Array(atob(e)));const ie=Symbol("byValue");var ae={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:98,text:116,utf8:117,mime:109},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write:function(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw Error("Invalid enum value.")},read:function(e,t){if(e[ie]||(e[ie]=[],Object.entries(e).forEach((([t,r])=>{e[ie][r]=t}))),void 0!==e[ie][t])return e[ie][t];throw Error("Invalid enum value.")}},se={preferredHashAlgorithm:ae.hash.sha256,preferredSymmetricAlgorithm:ae.symmetric.aes256,preferredCompressionAlgorithm:ae.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:ae.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([ae.symmetric.aes128,ae.symmetric.aes192,ae.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.5.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([ae.hash.md5,ae.hash.ripemd]),rejectMessageHashAlgorithms:new Set([ae.hash.md5,ae.hash.ripemd,ae.hash.sha1]),rejectPublicKeyAlgorithms:new Set([ae.publicKey.elgamal,ae.publicKey.dsa]),rejectCurves:new Set([ae.curve.brainpoolP256r1,ae.curve.brainpoolP384r1,ae.curve.brainpoolP512r1,ae.curve.secp256k1])};function oe(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?ae.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?ae.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?ae.armor.signed:/MESSAGE/.test(t[1])?ae.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?ae.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?ae.armor.privateKey:/SIGNATURE/.test(t[1])?ae.armor.signature:void 0}function ce(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n",r}function ue(e){return ee(function(e){let t=13501623;return z(e,(e=>{const r=he?Math.floor(e.length/4):0,n=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=n[e],t=fe[0][t>>24&255]^fe[1][t>>16&255]^fe[2][t>>8&255]^fe[3][t>>0&255];for(let n=4*r;n<e.length;n++)t=t>>8^fe[0][255&t^e[n]]}),(()=>new Uint8Array([t,t>>8,t>>16])))}(e))}const fe=[Array(255),Array(255),Array(255),Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(0!=(8388608&t)?8801531:0);fe[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)fe[1][e]=fe[0][e]>>8^fe[0][255&fe[0][e]];for(let e=0;e<=255;e++)fe[2][e]=fe[1][e]>>8^fe[0][255&fe[1][e]];for(let e=0;e<=255;e++)fe[3][e]=fe[2][e]>>8^fe[0][255&fe[2][e]];const he=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function le(e){for(let t=0;t<e.length;t++)/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t])||Z.printDebugError(Error("Improperly formatted armor header: "+e[t])),/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])||Z.printDebugError(Error("Unknown header: "+e[t]))}function de(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function pe(e,t=se){return new Promise((async(r,n)=>{try{const i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let s;const o=[];let c,u,f,h=o,l=[],d=te(j(e,(async(e,t)=>{const p=I(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw Error("Misformed armored text");if(e=Z.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),s)if(c)u||2!==s||(i.test(e)?(l=l.join("\r\n"),u=!0,le(h),h=[],c=!1):l.push(e.replace(/^- /,"")));else if(i.test(e)&&n(Error("Mandatory blank line missing between armor headers and armor data")),a.test(e)){if(le(h),c=!0,u||2!==s){r({text:l,data:d,headers:o,type:s});break}}else h.push(e);else i.test(e)&&(s=oe(e))}}catch(e){return void n(e)}const y=T(t);try{for(;;){await y.ready;const{done:e,value:t}=await p.read();if(e)throw Error("Misformed armored text");const r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=Z.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(i);if(1===t.length)throw Error("Misformed armored text");const n=de(t[0].slice(0,-1));f=n.checksum,await y.write(n.body);break}await y.write(r)}await y.ready,await y.close()}catch(e){await y.abort(e)}})));d=j(d,(async(e,r)=>{const n=H(ue(q(e)));n.catch((()=>{})),await D(e,r,{preventClose:!0});const i=T(r);try{const e=(await n).replace("\n","");if(f!==e&&(f||t.checksumRequired))throw Error("Ascii armor integrity check failed");await i.ready,await i.close()}catch(e){await i.abort(e)}}))}catch(e){n(e)}})).then((async e=>(u(e.data)&&(e.data=await H(e.data)),e)))}function ye(e,t,r,n,i,a=se){let s,o;e===ae.armor.signed&&(s=t.text,o=t.hash,t=t.data);const c=q(t),u=[];switch(e){case ae.armor.multipartSection:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case ae.armor.multipartLast:u.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case ae.armor.signed:u.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),u.push("Hash: "+o+"\n\n"),u.push(s.replace(/^-/gm,"- -")),u.push("\n-----BEGIN PGP SIGNATURE-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP SIGNATURE-----\n");break;case ae.armor.message:u.push("-----BEGIN PGP MESSAGE-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP MESSAGE-----\n");break;case ae.armor.publicKey:u.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case ae.armor.privateKey:u.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case ae.armor.signature:u.push("-----BEGIN PGP SIGNATURE-----\n"),u.push(ce(i,a)),u.push(ee(t)),u.push("=",ue(c)),u.push("-----END PGP SIGNATURE-----\n")}return Z.concat(u)}class be{constructor(){this.bytes=""}read(e){this.bytes=Z.uint8ArrayToString(e.subarray(0,8))}write(){return Z.stringToUint8Array(this.bytes)}toHex(){return Z.uint8ArrayToHex(Z.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new be;return t.read(Z.hexToUint8Array(e)),t}static wildcard(){const e=new be;return e.read(new Uint8Array(8)),e}}var ge=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,s,o,c=!1;function u(){function u(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return 99^a}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var f=0;f<256;f++){var h=u(f);i[f]=h,a[h]=f,s[0][f]=n(2,h)<<24|h<<16|h<<8|n(3,h),o[0][h]=n(14,f)<<24|n(9,f)<<16|n(13,f)<<8|n(11,f);for(var l=1;l<4;l++)s[l][f]=s[l-1][f]>>>8|s[l-1][f]<<24,o[l][h]=o[l-1][h]>>>8|o[l-1][h]<<24}c=!0}var f=function(e,t){c||u();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(s[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var f=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,f=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0,w=0,_=0,k=0,A=0;var S=new e.Uint32Array(r),E=new e.Uint8Array(r);function x(e,t,r,o,c,u,f,h){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;f=f|0;h=h|0;var l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0;l=r|0x400,d=r|0x800,p=r|0xc00;c=c^S[(e|0)>>2],u=u^S[(e|4)>>2],f=f^S[(e|8)>>2],h=h^S[(e|12)>>2];for(v=16;(v|0)<=o<<4;v=v+16|0){y=S[(r|c>>22&1020)>>2]^S[(l|u>>14&1020)>>2]^S[(d|f>>6&1020)>>2]^S[(p|h<<2&1020)>>2]^S[(e|v|0)>>2],b=S[(r|u>>22&1020)>>2]^S[(l|f>>14&1020)>>2]^S[(d|h>>6&1020)>>2]^S[(p|c<<2&1020)>>2]^S[(e|v|4)>>2],g=S[(r|f>>22&1020)>>2]^S[(l|h>>14&1020)>>2]^S[(d|c>>6&1020)>>2]^S[(p|u<<2&1020)>>2]^S[(e|v|8)>>2],m=S[(r|h>>22&1020)>>2]^S[(l|c>>14&1020)>>2]^S[(d|u>>6&1020)>>2]^S[(p|f<<2&1020)>>2]^S[(e|v|12)>>2];c=y,u=b,f=g,h=m}n=S[(t|c>>22&1020)>>2]<<24^S[(t|u>>14&1020)>>2]<<16^S[(t|f>>6&1020)>>2]<<8^S[(t|h<<2&1020)>>2]^S[(e|v|0)>>2],i=S[(t|u>>22&1020)>>2]<<24^S[(t|f>>14&1020)>>2]<<16^S[(t|h>>6&1020)>>2]<<8^S[(t|c<<2&1020)>>2]^S[(e|v|4)>>2],a=S[(t|f>>22&1020)>>2]<<24^S[(t|h>>14&1020)>>2]<<16^S[(t|c>>6&1020)>>2]<<8^S[(t|u<<2&1020)>>2]^S[(e|v|8)>>2],s=S[(t|h>>22&1020)>>2]<<24^S[(t|c>>14&1020)>>2]<<16^S[(t|u>>6&1020)>>2]<<8^S[(t|f<<2&1020)>>2]^S[(e|v|12)>>2]}function P(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;x(0x0000,0x0800,0x1000,A,e,t,r,n)}function C(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;x(0x0400,0x0c00,0x2000,A,e,n,r,t);a=i,i=s,s=a}function M(e,t,r,h){e=e|0;t=t|0;r=r|0;h=h|0;x(0x0000,0x0800,0x1000,A,o^e,c^t,u^r,f^h);o=n,c=i,u=a,f=s}function B(e,t,r,h){e=e|0;t=t|0;r=r|0;h=h|0;var l=0;x(0x0400,0x0c00,0x2000,A,e,h,r,t);l=i,i=s,s=l;n=n^o,i=i^c,a=a^u,s=s^f;o=e,c=t,u=r,f=h}function R(e,t,r,h){e=e|0;t=t|0;r=r|0;h=h|0;x(0x0000,0x0800,0x1000,A,o,c,u,f);o=n=n^e,c=i=i^t,u=a=a^r,f=s=s^h}function U(e,t,r,h){e=e|0;t=t|0;r=r|0;h=h|0;x(0x0000,0x0800,0x1000,A,o,c,u,f);n=n^e,i=i^t,a=a^r,s=s^h;o=e,c=t,u=r,f=h}function I(e,t,r,h){e=e|0;t=t|0;r=r|0;h=h|0;x(0x0000,0x0800,0x1000,A,o,c,u,f);o=n,c=i,u=a,f=s;n=n^e,i=i^t,a=a^r,s=s^h}function T(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;x(0x0000,0x0800,0x1000,A,h,l,d,p);p=~m&p|m&p+1;d=~g&d|g&d+((p|0)==0);l=~b&l|b&l+((d|0)==0);h=~y&h|y&h+((l|0)==0);n=n^e;i=i^t;a=a^r;s=s^o}function D(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,s=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0;e=e^o,t=t^c,r=r^u,n=n^f;i=v|0,a=w|0,s=_|0,h=k|0;for(;(b|0)<128;b=b+1|0){if(i>>>31){l=l^e,d=d^t,p=p^r,y=y^n}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|h>>>31,h=h<<1;g=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(g)e=e^0xe1000000}o=l,c=d,u=p,f=y}function K(e){e=e|0;A=e}function O(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,a=r,s=o}function z(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,u=r,f=n}function j(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;h=e,l=t,d=r,p=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;y=e,b=t,g=r,m=n}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~m&p|m&n,d=~g&d|g&r,l=~b&l|b&t,h=~y&h|y&e}function q(e){e=e|0;if(e&15)return-1;E[e|0]=n>>>24,E[e|1]=n>>>16&255,E[e|2]=n>>>8&255,E[e|3]=n&255,E[e|4]=i>>>24,E[e|5]=i>>>16&255,E[e|6]=i>>>8&255,E[e|7]=i&255,E[e|8]=a>>>24,E[e|9]=a>>>16&255,E[e|10]=a>>>8&255,E[e|11]=a&255,E[e|12]=s>>>24,E[e|13]=s>>>16&255,E[e|14]=s>>>8&255,E[e|15]=s&255;return 16}function N(e){e=e|0;if(e&15)return-1;E[e|0]=o>>>24,E[e|1]=o>>>16&255,E[e|2]=o>>>8&255,E[e|3]=o&255,E[e|4]=c>>>24,E[e|5]=c>>>16&255,E[e|6]=c>>>8&255,E[e|7]=c&255,E[e|8]=u>>>24,E[e|9]=u>>>16&255,E[e|10]=u>>>8&255,E[e|11]=u&255,E[e|12]=f>>>24,E[e|13]=f>>>16&255,E[e|14]=f>>>8&255,E[e|15]=f&255;return 16}function W(){P(0,0,0,0);v=n,w=i,_=a,k=s}function H(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){V[e&7](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);E[t|0]=n>>>24,E[t|1]=n>>>16&255,E[t|2]=n>>>8&255,E[t|3]=n&255,E[t|4]=i>>>24,E[t|5]=i>>>16&255,E[t|6]=i>>>8&255,E[t|7]=i&255,E[t|8]=a>>>24,E[t|9]=a>>>16&255,E[t|10]=a>>>8&255,E[t|11]=a&255,E[t|12]=s>>>24,E[t|13]=s>>>16&255,E[t|14]=s>>>8&255,E[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function $(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){G[e&1](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var V=[P,C,M,B,R,U,I,T];var G=[M,D];return{set_rounds:K,set_state:O,set_iv:z,set_nonce:j,set_mask:F,set_counter:L,get_state:q,get_iv:N,gcm_init:W,cipher:H,mac:$}}({Uint8Array,Uint32Array},0,t);return f.set_key=function(e,t,n,a,s,c,u,h,l){var d=r.subarray(0,60),p=r.subarray(256,316);d.set([t,n,a,s,c,u,h,l]);for(var y=e,b=1;y<4*e+28;y++){var g=d[y-1];(y%e==0||8===e&&y%e==4)&&(g=i[g>>>24]<<24^i[g>>>16&255]<<16^i[g>>>8&255]<<8^i[255&g]),y%e==0&&(g=g<<8^g>>>24^b<<24,b=b<<1^(128&b?27:0)),d[y]=d[y-e]^g}for(var m=0;m<y;m+=4)for(var v=0;v<4;v++)g=d[y-(4+m)+(4-v)%4],p[m+v]=m<4||m>=y-4?g:o[0][i[g>>>24]]^o[1][i[g>>>16&255]]^o[2][i[g>>>8&255]]^o[3][i[255&g]];f.set_rounds(e+5)},f};return f.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},f.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},f.MAC={CBC:0,GCM:1},f.HEAP_DATA=16384,f}();function me(e){return e instanceof Uint8Array}function ve(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw Error("heap size must be a positive integer and a multiple of 4096");return e||new Uint8Array(new ArrayBuffer(r))}function we(e,t,r,n,i){const a=e.length-t,s=a<i?a:i;return e.set(r.subarray(n,n+s),t),s}function _e(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class ke extends Error{constructor(...e){super(...e)}}class Ae extends Error{constructor(...e){super(...e)}}class Se extends Error{constructor(...e){super(...e)}}const Ee=[],xe=[];class Pe{constructor(e,t,r=!0,n,i,a){this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(i,a)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||Ee.pop()||ve().subarray(ge.HEAP_DATA),this.asm=t||xe.pop()||new ge(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ee.push(this.heap),xe.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){const{asm:r}=this.acquire_asm(),n=e.length;if(16!==n&&24!==n&&32!==n)throw new Ae("illegal key size");const i=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(n>>2,i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12),n>16?i.getUint32(16):0,n>16?i.getUint32(20):0,n>24?i.getUint32(24):0,n>24?i.getUint32(28):0),void 0!==t){if(16!==t.length)throw new Ae("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!me(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=ge.ENC[this.mode],i=ge.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,f=0,h=new Uint8Array(s+c&-16);for(;c>0;)f=we(t,a+s,e,o,c),s+=f,o+=f,c-=f,f=r.cipher(n,i+a,s),f&&h.set(t.subarray(a,a+f),u),u+=f,f<s?(a+=f,s-=f):(a=0,s=0);return this.pos=a,this.len=s,h}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ge.ENC[this.mode],n=ge.HEAP_DATA,i=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[i+a+t]=s;a+=s,o=a}else if(a%16)throw new Ae("data length must be a multiple of the block size")}else a+=s;const c=new Uint8Array(o);return a&&t.cipher(r,n+i,a),o&&c.set(e.subarray(i,i+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!me(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=ge.DEC[this.mode],i=ge.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,f=s+c&-16,h=0,l=0;this.padding&&(h=s+c-f||16,f-=h);const d=new Uint8Array(f);for(;c>0;)l=we(t,a+s,e,o,c),s+=l,o+=l,c-=l,l=r.cipher(n,i+a,s-(c?0:h)),l&&d.set(t.subarray(a,a+l),u),u+=l,l<s?(a+=l,s-=l):(a=0,s=0);return this.pos=a,this.len=s,d}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=ge.DEC[this.mode],n=ge.HEAP_DATA,i=this.pos,a=this.len,s=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new Ae("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,n+i,a),this.hasOwnProperty("padding")&&this.padding){let t=e[i+s-1];if(t<1||t>16||t>s)throw new Se("bad padding");let r=0;for(let n=t;n>1;n--)r|=t^e[i+s-n];if(r)throw new Se("bad padding");s-=t}}const o=new Uint8Array(s);return s>0&&o.set(e.subarray(i,i+s)),this.pos=0,this.len=0,this.release_asm(),o}}class Ce{static encrypt(e,t,r=!1){return new Ce(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new Ce(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new Pe(e,void 0,t,"ECB")}encrypt(e){return _e(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return _e(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function Me(e){const t=function(e){const t=new Ce(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function Be(e,t,r,n,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],f=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],h=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],l=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],d=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p,y,b,g,m,v,w,_,k,A,S,E,x,P,C=0,M=t.length;const B=32===e.length?3:9;_=3===B?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(M=(t=function(e,t){const r=8-e.length%8;let n;if(2===t&&r<8)n=32;else if(1===t)n=r;else{if(t||!(r<8)){if(8===r)return e;throw Error("des: invalid padding")}n=0}const i=new Uint8Array(e.length+r);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<r;t++)i[e.length+t]=n;return i}(t,a)).length);let R=new Uint8Array(M),U=0;for(1===n&&(k=i[C++]<<24|i[C++]<<16|i[C++]<<8|i[C++],S=i[C++]<<24|i[C++]<<16|i[C++]<<8|i[C++],C=0);C<M;){for(v=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],w=t[C++]<<24|t[C++]<<16|t[C++]<<8|t[C++],1===n&&(r?(v^=k,w^=S):(A=k,E=S,k=v,S=w)),b=252645135&(v>>>4^w),w^=b,v^=b<<4,b=65535&(v>>>16^w),w^=b,v^=b<<16,b=858993459&(w>>>2^v),v^=b,w^=b<<2,b=16711935&(w>>>8^v),v^=b,w^=b<<8,b=1431655765&(v>>>1^w),w^=b,v^=b<<1,v=v<<1|v>>>31,w=w<<1|w>>>31,y=0;y<B;y+=3){for(x=_[y+1],P=_[y+2],p=_[y];p!==x;p+=P)g=w^e[p],m=(w>>>4|w<<28)^e[p+1],b=v,v=w,w=b^(o[g>>>24&63]|u[g>>>16&63]|h[g>>>8&63]|d[63&g]|s[m>>>24&63]|c[m>>>16&63]|f[m>>>8&63]|l[63&m]);b=v,v=w,w=b}v=v>>>1|v<<31,w=w>>>1|w<<31,b=1431655765&(v>>>1^w),w^=b,v^=b<<1,b=16711935&(w>>>8^v),v^=b,w^=b<<8,b=858993459&(w>>>2^v),v^=b,w^=b<<2,b=65535&(v>>>16^w),w^=b,v^=b<<16,b=252645135&(v>>>4^w),w^=b,v^=b<<4,1===n&&(r?(k=v,S=w):(v^=A,w^=E)),R[U++]=v>>>24,R[U++]=v>>>16&255,R[U++]=v>>>8&255,R[U++]=255&v,R[U++]=w>>>24,R[U++]=w>>>16&255,R[U++]=w>>>8&255,R[U++]=255&w}return r||(R=function(e,t){let r,n=null;if(2===t)r=32;else if(1===t)n=e[e.length-1];else{if(t)throw Error("des: invalid padding");r=0}if(!n){for(n=1;e[e.length-n]===r;)n++;n--}return e.subarray(0,e.length-n)}(R,a)),R}function Re(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],f=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],h=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],l=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],d=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length>8?3:1,b=Array(32*y),g=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let m,v,w,_=0,k=0;for(let A=0;A<y;A++){let y=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++],A=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++];w=252645135&(y>>>4^A),A^=w,y^=w<<4,w=65535&(A>>>-16^y),y^=w,A^=w<<-16,w=858993459&(y>>>2^A),A^=w,y^=w<<2,w=65535&(A>>>-16^y),y^=w,A^=w<<-16,w=1431655765&(y>>>1^A),A^=w,y^=w<<1,w=16711935&(A>>>8^y),y^=w,A^=w<<8,w=1431655765&(y>>>1^A),A^=w,y^=w<<1,w=y<<8|A>>>20&240,y=A<<24|A<<8&16711680|A>>>8&65280|A>>>24&240,A=w;for(let e=0;e<16;e++)g[e]?(y=y<<2|y>>>26,A=A<<2|A>>>26):(y=y<<1|y>>>27,A=A<<1|A>>>27),y&=-15,A&=-15,m=t[y>>>28]|r[y>>>24&15]|n[y>>>20&15]|i[y>>>16&15]|a[y>>>12&15]|s[y>>>8&15]|o[y>>>4&15],v=c[A>>>28]|u[A>>>24&15]|f[A>>>20&15]|h[A>>>16&15]|l[A>>>12&15]|d[A>>>8&15]|p[A>>>4&15],w=65535&(v>>>16^m),b[k++]=m^w,b[k++]=v^w<<16}return b}function Ue(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return Be(Re(this.key[2]),Be(Re(this.key[1]),Be(Re(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function Ie(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=Array(16),this.rotate=Array(16),this.reset(),e.length!==this.KeySize)throw Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>>16&255,t[a+6]=o>>>8&255,t[a+7]=255&o}return t},this.decrypt=function(e){const t=Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>16&255,t[a+6]=o>>8&255,t[a+7]=255&o}return t};const e=[,,,,];e[0]=[,,,,],e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=[,,,,],e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=[,,,,],e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=[,,,,],e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=[,,,,];function r(e,t,r){const n=t+e,i=n<<r|n>>>32-r;return(a[0][i>>>24]^a[1][i>>>16&255])-a[2][i>>>8&255]+a[3][255&i]}function n(e,t,r){const n=t^e,i=n<<r|n>>>32-r;return a[0][i>>>24]-a[1][i>>>16&255]+a[2][i>>>8&255]^a[3][255&i]}function i(e,t,r){const n=t-e,i=n<<r|n>>>32-r;return(a[0][i>>>24]+a[1][i>>>16&255]^a[2][i>>>8&255])-a[3][255&i]}t[0]=[,,,,],t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=[,,,,],t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=[,,,,],t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=[,,,,],t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){const n=[,,,,,,,,],i=Array(32);let s;for(let e=0;e<4;e++)s=4*e,n[e]=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3];const o=[6,7,4,5];let c,u=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(s=0;s<4;s++){const t=e[r][s];c=n[t[1]],c^=a[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=a[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=a[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=a[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=a[o[s]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(s=0;s<4;s++){const e=t[r][s];c=a[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=a[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=a[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=a[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=a[4+s][n[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const a=[,,,,,,,,];a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function Te(e){this.cast5=new Ie,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}Ue.keySize=Ue.prototype.keySize=24,Ue.blockSize=Ue.prototype.blockSize=8,Te.blockSize=Te.prototype.blockSize=8,Te.keySize=Te.prototype.keySize=16;const De=4294967295;function Ke(e,t){return(e<<t|e>>>32-t)&De}function Oe(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function ze(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function je(e,t){return e>>>8*t&255}function Fe(e){this.tf=function(){let e=null,t=null,r=-1,n=[],i=[[],[],[],[]];function a(e){return i[0][je(e,0)]^i[1][je(e,1)]^i[2][je(e,2)]^i[3][je(e,3)]}function s(e){return i[0][je(e,3)]^i[1][je(e,0)]^i[2][je(e,1)]^i[3][je(e,2)]}function o(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Ke(t[2]^r+i+n[4*e+8]&De,31),t[3]=Ke(t[3],1)^r+2*i+n[4*e+9]&De,r=a(t[2]),i=s(t[3]),t[0]=Ke(t[0]^r+i+n[4*e+10]&De,31),t[1]=Ke(t[1],1)^r+2*i+n[4*e+11]&De}function c(e,t){let r=a(t[0]),i=s(t[1]);t[2]=Ke(t[2],1)^r+i+n[4*e+10]&De,t[3]=Ke(t[3]^r+2*i+n[4*e+11]&De,31),r=a(t[2]),i=s(t[3]),t[0]=Ke(t[0],1)^r+i+n[4*e+8]&De,t[1]=Ke(t[1]^r+2*i+n[4*e+9]&De,31)}return{name:"twofish",blocksize:16,open:function(t){let r,a,s,o,c;e=t;const u=[],f=[],h=[];let l;const d=[];let p,y,b;const g=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],m=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],v=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],w=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],_=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],A=[[],[]],S=[[],[],[],[]];function E(e){return e^e>>2^[0,90,180,238][3&e]}function x(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function P(e,t){let r,n,i;for(r=0;r<8;r++)n=t>>>24,t=t<<8&De|e>>>24,e=e<<8&De,i=n<<1,128&n&&(i^=333),t^=n^i<<16,i^=n>>>1,1&n&&(i^=166),t^=i<<24|i<<8;return t}function C(e,t){const r=t>>4,n=15&t,i=g[e][r^n],a=m[e][_[n]^k[r]];return w[e][_[a]^k[i]]<<4|v[e][i^a]}function M(e,t){let r=je(e,0),n=je(e,1),i=je(e,2),a=je(e,3);switch(l){case 4:r=A[1][r]^je(t[3],0),n=A[0][n]^je(t[3],1),i=A[0][i]^je(t[3],2),a=A[1][a]^je(t[3],3);case 3:r=A[1][r]^je(t[2],0),n=A[1][n]^je(t[2],1),i=A[0][i]^je(t[2],2),a=A[0][a]^je(t[2],3);case 2:r=A[0][A[0][r]^je(t[1],0)]^je(t[0],0),n=A[0][A[1][n]^je(t[1],1)]^je(t[0],1),i=A[1][A[0][i]^je(t[1],2)]^je(t[0],2),a=A[1][A[1][a]^je(t[1],3)]^je(t[0],3)}return S[0][r]^S[1][n]^S[2][i]^S[3][a]}for(e=e.slice(0,32),r=e.length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)h[r>>2]=Oe(e,r);for(r=0;r<256;r++)A[0][r]=C(0,r),A[1][r]=C(1,r);for(r=0;r<256;r++)p=A[1][r],y=E(p),b=x(p),S[0][r]=p+(y<<8)+(b<<16)+(b<<24),S[2][r]=y+(b<<8)+(p<<16)+(b<<24),p=A[0][r],y=E(p),b=x(p),S[1][r]=b+(b<<8)+(y<<16)+(p<<24),S[3][r]=y+(p<<8)+(b<<16)+(y<<24);for(l=h.length/2,r=0;r<l;r++)a=h[r+r],u[r]=a,s=h[r+r+1],f[r]=s,d[l-r-1]=P(a,s);for(r=0;r<40;r+=2)a=16843009*r,s=a+16843009,a=M(a,u),s=Ke(M(s,f),8),n[r]=a+s&De,n[r+1]=Ke(a+2*s,9);for(r=0;r<256;r++)switch(a=s=o=c=r,l){case 4:a=A[1][a]^je(d[3],0),s=A[0][s]^je(d[3],1),o=A[0][o]^je(d[3],2),c=A[1][c]^je(d[3],3);case 3:a=A[1][a]^je(d[2],0),s=A[1][s]^je(d[2],1),o=A[0][o]^je(d[2],2),c=A[0][c]^je(d[2],3);case 2:i[0][r]=S[0][A[0][A[0][a]^je(d[1],0)]^je(d[0],0)],i[1][r]=S[1][A[0][A[1][s]^je(d[1],1)]^je(d[0],1)],i[2][r]=S[2][A[1][A[0][o]^je(d[1],2)]^je(d[0],2)],i[3][r]=S[3][A[1][A[1][c]^je(d[1],3)]^je(d[0],3)]}},close:function(){n=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,r=i;const a=[Oe(t,r)^n[0],Oe(t,r+4)^n[1],Oe(t,r+8)^n[2],Oe(t,r+12)^n[3]];for(let e=0;e<8;e++)o(e,a);return ze(t,r,a[2]^n[4]),ze(t,r+4,a[3]^n[5]),ze(t,r+8,a[0]^n[6]),ze(t,r+12,a[1]^n[7]),r+=16,t},decrypt:function(e,i){t=e,r=i;const a=[Oe(t,r)^n[4],Oe(t,r+4)^n[5],Oe(t,r+8)^n[6],Oe(t,r+12)^n[7]];for(let e=7;e>=0;e--)c(e,a);ze(t,r,a[2]^n[0]),ze(t,r+4,a[3]^n[1]),ze(t,r+8,a[0]^n[2]),ze(t,r+12,a[1]^n[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Le(){}function qe(e){this.bf=new Le,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}Fe.keySize=Fe.prototype.keySize=32,Fe.blockSize=Fe.prototype.blockSize=16,Le.prototype.BLOCKSIZE=8,Le.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Le.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Le.prototype.NN=16,Le.prototype._clean=function(e){return e<0&&(e=2147483648+(2147483647&e)),e},Le.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),a=255&(e>>>=8);return t=this.sboxes[0][a]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},Le.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},Le.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},Le.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},Le.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let n=0;for(let t=0;t<4;++t)n=n<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^n}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},qe.keySize=qe.prototype.keySize=16,qe.blockSize=qe.prototype.blockSize=8;const Ne=Me(128),We=Me(192),He=Me(256);var $e=Object.freeze({__proto__:null,aes128:Ne,aes192:We,aes256:He,des:function(e){this.key=e,this.encrypt=function(e,t){return Be(Re(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return Be(Re(this.key),e,!1,0,null,t)}},tripledes:Ue,cast5:Te,twofish:Fe,blowfish:qe,idea:function(){throw Error("IDEA symmetric-key algorithm not implemented")}}),Ve=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0;var f=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0;var w=new e.Uint8Array(r);function _(e,t,r,c,u,f,h,l,d,p,y,b,g,m,v,w){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;f=f|0;h=h|0;l=l|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;v=v|0;w=w|0;var _=0,k=0,A=0,S=0,E=0,x=0,P=0,C=0,M=0,B=0,R=0,U=0,I=0,T=0,D=0,K=0,O=0,z=0,j=0,F=0,L=0,q=0,N=0,W=0,H=0,$=0,V=0,G=0,Y=0,Z=0,X=0,J=0,Q=0,ee=0,te=0,re=0,ne=0,ie=0,ae=0,se=0,oe=0,ce=0,ue=0,fe=0,he=0,le=0,de=0,pe=0,ye=0,be=0,ge=0,me=0,ve=0,we=0,_e=0,ke=0,Ae=0,Se=0,Ee=0,xe=0,Pe=0,Ce=0,Me=0,Be=0,Re=0,Ue=0,Ie=0,Te=0,De=0,Ke=0,Oe=0;_=n;k=i;A=a;S=s;E=o;P=e+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=t+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=r+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=c+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=u+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=f+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=h+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=l+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=d+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=p+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=y+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=b+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=g+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=m+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=v+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;P=w+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=m^d^r^e;C=x<<1|x>>>31;P=C+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=v^p^c^t;M=x<<1|x>>>31;P=M+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=w^y^u^r;B=x<<1|x>>>31;P=B+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=C^b^f^c;R=x<<1|x>>>31;P=R+(_<<5|_>>>27)+E+(k&A|~k&S)+0x5a827999|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=M^g^h^u;U=x<<1|x>>>31;P=U+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=B^m^l^f;I=x<<1|x>>>31;P=I+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=R^v^d^h;T=x<<1|x>>>31;P=T+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=U^w^p^l;D=x<<1|x>>>31;P=D+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=I^C^y^d;K=x<<1|x>>>31;P=K+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=T^M^b^p;O=x<<1|x>>>31;P=O+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=D^B^g^y;z=x<<1|x>>>31;P=z+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=K^R^m^b;j=x<<1|x>>>31;P=j+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=O^U^v^g;F=x<<1|x>>>31;P=F+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=z^I^w^m;L=x<<1|x>>>31;P=L+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=j^T^C^v;q=x<<1|x>>>31;P=q+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=F^D^M^w;N=x<<1|x>>>31;P=N+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=L^K^B^C;W=x<<1|x>>>31;P=W+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=q^O^R^M;H=x<<1|x>>>31;P=H+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=N^z^U^B;$=x<<1|x>>>31;P=$+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=W^j^I^R;V=x<<1|x>>>31;P=V+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=H^F^T^U;G=x<<1|x>>>31;P=G+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=$^L^D^I;Y=x<<1|x>>>31;P=Y+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=V^q^K^T;Z=x<<1|x>>>31;P=Z+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=G^N^O^D;X=x<<1|x>>>31;P=X+(_<<5|_>>>27)+E+(k^A^S)+0x6ed9eba1|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Y^W^z^K;J=x<<1|x>>>31;P=J+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Z^H^j^O;Q=x<<1|x>>>31;P=Q+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=X^$^F^z;ee=x<<1|x>>>31;P=ee+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=J^V^L^j;te=x<<1|x>>>31;P=te+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Q^G^q^F;re=x<<1|x>>>31;P=re+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ee^Y^N^L;ne=x<<1|x>>>31;P=ne+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=te^Z^W^q;ie=x<<1|x>>>31;P=ie+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=re^X^H^N;ae=x<<1|x>>>31;P=ae+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ne^J^$^W;se=x<<1|x>>>31;P=se+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ie^Q^V^H;oe=x<<1|x>>>31;P=oe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ae^ee^G^$;ce=x<<1|x>>>31;P=ce+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=se^te^Y^V;ue=x<<1|x>>>31;P=ue+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=oe^re^Z^G;fe=x<<1|x>>>31;P=fe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ce^ne^X^Y;he=x<<1|x>>>31;P=he+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ue^ie^J^Z;le=x<<1|x>>>31;P=le+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=fe^ae^Q^X;de=x<<1|x>>>31;P=de+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=he^se^ee^J;pe=x<<1|x>>>31;P=pe+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=le^oe^te^Q;ye=x<<1|x>>>31;P=ye+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=de^ce^re^ee;be=x<<1|x>>>31;P=be+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=pe^ue^ne^te;ge=x<<1|x>>>31;P=ge+(_<<5|_>>>27)+E+(k&A|k&S|A&S)-0x70e44324|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ye^fe^ie^re;me=x<<1|x>>>31;P=me+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=be^he^ae^ne;ve=x<<1|x>>>31;P=ve+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ge^le^se^ie;we=x<<1|x>>>31;P=we+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=me^de^oe^ae;_e=x<<1|x>>>31;P=_e+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ve^pe^ce^se;ke=x<<1|x>>>31;P=ke+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=we^ye^ue^oe;Ae=x<<1|x>>>31;P=Ae+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=_e^be^fe^ce;Se=x<<1|x>>>31;P=Se+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=ke^ge^he^ue;Ee=x<<1|x>>>31;P=Ee+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ae^me^le^fe;xe=x<<1|x>>>31;P=xe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Se^ve^de^he;Pe=x<<1|x>>>31;P=Pe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ee^we^pe^le;Ce=x<<1|x>>>31;P=Ce+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=xe^_e^ye^de;Me=x<<1|x>>>31;P=Me+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Pe^ke^be^pe;Be=x<<1|x>>>31;P=Be+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ce^Ae^ge^ye;Re=x<<1|x>>>31;P=Re+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Me^Se^me^be;Ue=x<<1|x>>>31;P=Ue+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Be^Ee^ve^ge;Ie=x<<1|x>>>31;P=Ie+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Re^xe^we^me;Te=x<<1|x>>>31;P=Te+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ue^Pe^_e^ve;De=x<<1|x>>>31;P=De+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Ie^Ce^ke^we;Ke=x<<1|x>>>31;P=Ke+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;x=Te^Me^Ae^_e;Oe=x<<1|x>>>31;P=Oe+(_<<5|_>>>27)+E+(k^A^S)-0x359d3e2a|0;E=S;S=A;A=k<<30|k>>>2;k=_;_=P;n=n+_|0;i=i+k|0;a=a+A|0;s=s+S|0;o=o+E|0}function k(e){e=e|0;_(w[e|0]<<24|w[e|1]<<16|w[e|2]<<8|w[e|3],w[e|4]<<24|w[e|5]<<16|w[e|6]<<8|w[e|7],w[e|8]<<24|w[e|9]<<16|w[e|10]<<8|w[e|11],w[e|12]<<24|w[e|13]<<16|w[e|14]<<8|w[e|15],w[e|16]<<24|w[e|17]<<16|w[e|18]<<8|w[e|19],w[e|20]<<24|w[e|21]<<16|w[e|22]<<8|w[e|23],w[e|24]<<24|w[e|25]<<16|w[e|26]<<8|w[e|27],w[e|28]<<24|w[e|29]<<16|w[e|30]<<8|w[e|31],w[e|32]<<24|w[e|33]<<16|w[e|34]<<8|w[e|35],w[e|36]<<24|w[e|37]<<16|w[e|38]<<8|w[e|39],w[e|40]<<24|w[e|41]<<16|w[e|42]<<8|w[e|43],w[e|44]<<24|w[e|45]<<16|w[e|46]<<8|w[e|47],w[e|48]<<24|w[e|49]<<16|w[e|50]<<8|w[e|51],w[e|52]<<24|w[e|53]<<16|w[e|54]<<8|w[e|55],w[e|56]<<24|w[e|57]<<16|w[e|58]<<8|w[e|59],w[e|60]<<24|w[e|61]<<16|w[e|62]<<8|w[e|63])}function A(e){e=e|0;w[e|0]=n>>>24;w[e|1]=n>>>16&255;w[e|2]=n>>>8&255;w[e|3]=n&255;w[e|4]=i>>>24;w[e|5]=i>>>16&255;w[e|6]=i>>>8&255;w[e|7]=i&255;w[e|8]=a>>>24;w[e|9]=a>>>16&255;w[e|10]=a>>>8&255;w[e|11]=a&255;w[e|12]=s>>>24;w[e|13]=s>>>16&255;w[e|14]=s>>>8&255;w[e|15]=s&255;w[e|16]=o>>>24;w[e|17]=o>>>16&255;w[e|18]=o>>>8&255;w[e|19]=o&255}function S(){n=0x67452301;i=0xefcdab89;a=0x98badcfe;s=0x10325476;o=0xc3d2e1f0;c=u=0}function E(e,t,r,f,h,l,d){e=e|0;t=t|0;r=r|0;f=f|0;h=h|0;l=l|0;d=d|0;n=e;i=t;a=r;s=f;o=h;c=l;u=d}function x(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}c=c+r|0;if(c>>>0<r>>>0)u=u+1|0;return r|0}function P(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=x(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;c=c+t|0;if(c>>>0<t>>>0)u=u+1|0;w[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)w[e|i]=0x00;k(e);t=0;w[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)w[e|i]=0;w[e|56]=u>>>21&255;w[e|57]=u>>>13&255;w[e|58]=u>>>5&255;w[e|59]=u<<3&255|c>>>29;w[e|60]=c>>>21&255;w[e|61]=c>>>13&255;w[e|62]=c>>>5&255;w[e|63]=c<<3&255;k(e);if(~r)A(r);return n|0}function C(){n=f;i=h;a=l;s=d;o=p;c=64;u=0}function M(){n=y;i=b;a=g;s=m;o=v;c=64;u=0}function B(e,t,r,w,k,A,E,x,P,C,M,B,R,U,I,T){e=e|0;t=t|0;r=r|0;w=w|0;k=k|0;A=A|0;E=E|0;x=x|0;P=P|0;C=C|0;M=M|0;B=B|0;R=R|0;U=U|0;I=I|0;T=T|0;S();_(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,w^0x5c5c5c5c,k^0x5c5c5c5c,A^0x5c5c5c5c,E^0x5c5c5c5c,x^0x5c5c5c5c,P^0x5c5c5c5c,C^0x5c5c5c5c,M^0x5c5c5c5c,B^0x5c5c5c5c,R^0x5c5c5c5c,U^0x5c5c5c5c,I^0x5c5c5c5c,T^0x5c5c5c5c);y=n;b=i;g=a;m=s;v=o;S();_(e^0x36363636,t^0x36363636,r^0x36363636,w^0x36363636,k^0x36363636,A^0x36363636,E^0x36363636,x^0x36363636,P^0x36363636,C^0x36363636,M^0x36363636,B^0x36363636,R^0x36363636,U^0x36363636,I^0x36363636,T^0x36363636);f=n;h=i;l=a;d=s;p=o;c=64;u=0}function R(e,t,r){e=e|0;t=t|0;r=r|0;var c=0,u=0,f=0,h=0,l=0,d=0;if(e&63)return-1;if(~r)if(r&31)return-1;d=P(e,t,-1)|0;c=n,u=i,f=a,h=s,l=o;M();_(c,u,f,h,l,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)A(r);return d|0}function U(e,t,r,c,u){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;var f=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0;if(e&63)return-1;if(~u)if(u&31)return-1;w[e+t|0]=r>>>24;w[e+t+1|0]=r>>>16&255;w[e+t+2|0]=r>>>8&255;w[e+t+3|0]=r&255;R(e,t+4|0,-1)|0;f=y=n,h=b=i,l=g=a,d=m=s,p=v=o;c=c-1|0;while((c|0)>0){C();_(y,b,g,m,v,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,g=a,m=s,v=o;M();_(y,b,g,m,v,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,g=a,m=s,v=o;f=f^n;h=h^i;l=l^a;d=d^s;p=p^o;c=c-1|0}n=f;i=h;a=l;s=d;o=p;if(~u)A(u);return 0}return{reset:S,init:E,process:x,finish:P,hmac_reset:C,hmac_init:B,hmac_finish:R,pbkdf2_generate_block:U}};class Ge{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new ke("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();let n=this.pos,i=this.len,a=0,s=e.length,o=0;for(;s>0;)o=we(r,n+i,e,a,s),i+=o,a+=o,s-=o,o=t.process(n,i),n+=o,i-=o,i||(n=0);return this.pos=n,this.len=i,this}finish(){if(null!==this.result)throw new ke("state must be reset before processing new data");const{asm:e,heap:t}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const Ye=[],Ze=[];class Xe extends Ge{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Ye.pop()||ve(),this.asm=Ze.pop()||Ve({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Ye.push(this.heap),Ze.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Xe).process(e).finish().result}}Xe.NAME="sha1",Xe.heap_pool=[],Xe.asm_pool=[],Xe.asm_function=Ve;const Je=[],Qe=[];class et extends Ge{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Je.pop()||ve(),this.asm=Qe.pop()||function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,f=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0,w=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,C=0,M=new e.Uint8Array(r);function B(e,t,r,h,l,d,p,y,b,g,m,v,w,_,k,A){e=e|0;t=t|0;r=r|0;h=h|0;l=l|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;v=v|0;w=w|0;_=_|0;k=k|0;A=A|0;var S=0,E=0,x=0,P=0,C=0,M=0,B=0,R=0;S=n;E=i;x=a;P=s;C=o;M=c;B=u;R=f;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0x428a2f98|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;B=t+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0x71374491|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;M=r+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0xb5c0fbcf|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xe9b5dba5|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x3956c25b|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;x=d+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0x59f111f1|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;E=p+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x923f82a4|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;S=y+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0xab1c5ed5|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;R=b+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0xd807aa98|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;B=g+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0x12835b01|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;M=m+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0x243185be|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;C=v+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x550c7dc3|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;P=w+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x72be5d74|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;x=_+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0x80deb1fe|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;E=k+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x9bdc06a7|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;S=A+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0xc19bf174|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0xe49b69c1|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;B=t+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0xefbe4786|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;M=r+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0x0fc19dc6|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+h+w|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x240ca1cc|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x2de92c6f|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+d+k|0;x=d+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0x4a7484aa|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x5cb0a9dc|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0x76f988da|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;R=b+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0x983e5152|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;B=g+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0xa831c66d|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;m=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+h|0;M=m+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0xb00327c8|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;C=v+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xbf597fc7|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;P=w+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0xc6e00bf3|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+_+p|0;x=_+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0xd5a79147|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+k+y|0;E=k+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x06ca6351|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0x14292967|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0x27b70a85|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;B=t+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0x2e1b2138|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;M=r+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0x4d2c6dfc|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+h+w|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x53380d13|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x650a7354|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+d+k|0;x=d+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0x766a0abb|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x81c2c92e|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0x92722c85|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;R=b+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0xa2bfe8a1|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;B=g+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0xa81a664b|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;m=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+h|0;M=m+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0xc24b8b70|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;C=v+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0xc76c51a3|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;P=w+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0xd192e819|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+_+p|0;x=_+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0xd6990624|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+k+y|0;E=k+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0xf40e3585|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0x106aa070|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+g|0;R=e+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0x19a4c116|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(A>>>17^A>>>19^A>>>10^A<<15^A<<13)+t+m|0;B=t+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0x1e376c08|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;r=(h>>>7^h>>>18^h>>>3^h<<25^h<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+v|0;M=r+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0x2748774c|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;h=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+h+w|0;C=h+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x34b0bcb5|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+l+_|0;P=l+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x391c0cb3|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(h>>>17^h>>>19^h>>>10^h<<15^h<<13)+d+k|0;x=d+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0x4ed8aa4a|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+p+A|0;E=p+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0x5b9cca4f|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+y+e|0;S=y+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0x682e6ff3|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;R=b+R+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(B^C&(M^B))+0x748f82ee|0;P=P+R|0;R=R+(S&E^x&(S^E))+(S>>>2^S>>>13^S>>>22^S<<30^S<<19^S<<10)|0;g=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+g+r|0;B=g+B+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(C^M))+0x78a5636f|0;x=x+B|0;B=B+(R&S^E&(R^S))+(R>>>2^R>>>13^R>>>22^R<<30^R<<19^R<<10)|0;m=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+m+h|0;M=m+M+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(P^C))+0x84c87814|0;E=E+M|0;M=M+(B&R^S&(B^R))+(B>>>2^B>>>13^B>>>22^B<<30^B<<19^B<<10)|0;v=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;C=v+C+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(P^E&(x^P))+0x8cc70208|0;S=S+C|0;C=C+(M&B^R&(M^B))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;w=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;P=w+P+(S>>>6^S>>>11^S>>>25^S<<26^S<<21^S<<7)+(x^S&(E^x))+0x90befffa|0;R=R+P|0;P=P+(C&M^B&(C^M))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+_+p|0;x=_+x+(R>>>6^R>>>11^R>>>25^R<<26^R<<21^R<<7)+(E^R&(S^E))+0xa4506ceb|0;B=B+x|0;x=x+(P&C^M&(P^C))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;k=(A>>>7^A>>>18^A>>>3^A<<25^A<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+k+y|0;E=k+E+(B>>>6^B>>>11^B>>>25^B<<26^B<<21^B<<7)+(S^B&(R^S))+0xbef9a3f7|0;M=M+E|0;E=E+(x&P^C&(x^P))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;A=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+A+b|0;S=A+S+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(R^M&(B^R))+0xc67178f2|0;C=C+S|0;S=S+(E&x^P&(E^x))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;n=n+S|0;i=i+E|0;a=a+x|0;s=s+P|0;o=o+C|0;c=c+M|0;u=u+B|0;f=f+R|0}function R(e){e=e|0;B(M[e|0]<<24|M[e|1]<<16|M[e|2]<<8|M[e|3],M[e|4]<<24|M[e|5]<<16|M[e|6]<<8|M[e|7],M[e|8]<<24|M[e|9]<<16|M[e|10]<<8|M[e|11],M[e|12]<<24|M[e|13]<<16|M[e|14]<<8|M[e|15],M[e|16]<<24|M[e|17]<<16|M[e|18]<<8|M[e|19],M[e|20]<<24|M[e|21]<<16|M[e|22]<<8|M[e|23],M[e|24]<<24|M[e|25]<<16|M[e|26]<<8|M[e|27],M[e|28]<<24|M[e|29]<<16|M[e|30]<<8|M[e|31],M[e|32]<<24|M[e|33]<<16|M[e|34]<<8|M[e|35],M[e|36]<<24|M[e|37]<<16|M[e|38]<<8|M[e|39],M[e|40]<<24|M[e|41]<<16|M[e|42]<<8|M[e|43],M[e|44]<<24|M[e|45]<<16|M[e|46]<<8|M[e|47],M[e|48]<<24|M[e|49]<<16|M[e|50]<<8|M[e|51],M[e|52]<<24|M[e|53]<<16|M[e|54]<<8|M[e|55],M[e|56]<<24|M[e|57]<<16|M[e|58]<<8|M[e|59],M[e|60]<<24|M[e|61]<<16|M[e|62]<<8|M[e|63])}function U(e){e=e|0;M[e|0]=n>>>24;M[e|1]=n>>>16&255;M[e|2]=n>>>8&255;M[e|3]=n&255;M[e|4]=i>>>24;M[e|5]=i>>>16&255;M[e|6]=i>>>8&255;M[e|7]=i&255;M[e|8]=a>>>24;M[e|9]=a>>>16&255;M[e|10]=a>>>8&255;M[e|11]=a&255;M[e|12]=s>>>24;M[e|13]=s>>>16&255;M[e|14]=s>>>8&255;M[e|15]=s&255;M[e|16]=o>>>24;M[e|17]=o>>>16&255;M[e|18]=o>>>8&255;M[e|19]=o&255;M[e|20]=c>>>24;M[e|21]=c>>>16&255;M[e|22]=c>>>8&255;M[e|23]=c&255;M[e|24]=u>>>24;M[e|25]=u>>>16&255;M[e|26]=u>>>8&255;M[e|27]=u&255;M[e|28]=f>>>24;M[e|29]=f>>>16&255;M[e|30]=f>>>8&255;M[e|31]=f&255}function I(){n=0x6a09e667;i=0xbb67ae85;a=0x3c6ef372;s=0xa54ff53a;o=0x510e527f;c=0x9b05688c;u=0x1f83d9ab;f=0x5be0cd19;h=l=0}function T(e,t,r,d,p,y,b,g,m,v){e=e|0;t=t|0;r=r|0;d=d|0;p=p|0;y=y|0;b=b|0;g=g|0;m=m|0;v=v|0;n=e;i=t;a=r;s=d;o=p;c=y;u=b;f=g;h=m;l=v}function D(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){R(e);e=e+64|0;t=t-64|0;r=r+64|0}h=h+r|0;if(h>>>0<r>>>0)l=l+1|0;return r|0}function K(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=D(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;h=h+t|0;if(h>>>0<t>>>0)l=l+1|0;M[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)M[e|i]=0x00;R(e);t=0;M[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)M[e|i]=0;M[e|56]=l>>>21&255;M[e|57]=l>>>13&255;M[e|58]=l>>>5&255;M[e|59]=l<<3&255|h>>>29;M[e|60]=h>>>21&255;M[e|61]=h>>>13&255;M[e|62]=h>>>5&255;M[e|63]=h<<3&255;R(e);if(~r)U(r);return n|0}function O(){n=d;i=p;a=y;s=b;o=g;c=m;u=v;f=w;h=64;l=0}function z(){n=_;i=k;a=A;s=S;o=E;c=x;u=P;f=C;h=64;l=0}function j(e,t,r,M,R,U,T,D,K,O,z,j,F,L,q,N){e=e|0;t=t|0;r=r|0;M=M|0;R=R|0;U=U|0;T=T|0;D=D|0;K=K|0;O=O|0;z=z|0;j=j|0;F=F|0;L=L|0;q=q|0;N=N|0;I();B(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,M^0x5c5c5c5c,R^0x5c5c5c5c,U^0x5c5c5c5c,T^0x5c5c5c5c,D^0x5c5c5c5c,K^0x5c5c5c5c,O^0x5c5c5c5c,z^0x5c5c5c5c,j^0x5c5c5c5c,F^0x5c5c5c5c,L^0x5c5c5c5c,q^0x5c5c5c5c,N^0x5c5c5c5c);_=n;k=i;A=a;S=s;E=o;x=c;P=u;C=f;I();B(e^0x36363636,t^0x36363636,r^0x36363636,M^0x36363636,R^0x36363636,U^0x36363636,T^0x36363636,D^0x36363636,K^0x36363636,O^0x36363636,z^0x36363636,j^0x36363636,F^0x36363636,L^0x36363636,q^0x36363636,N^0x36363636);d=n;p=i;y=a;b=s;g=o;m=c;v=u;w=f;h=64;l=0}function F(e,t,r){e=e|0;t=t|0;r=r|0;var h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0;if(e&63)return-1;if(~r)if(r&31)return-1;v=K(e,t,-1)|0;h=n,l=i,d=a,p=s,y=o,b=c,g=u,m=f;z();B(h,l,d,p,y,b,g,m,0x80000000,0,0,0,0,0,0,768);if(~r)U(r);return v|0}function L(e,t,r,h,l){e=e|0;t=t|0;r=r|0;h=h|0;l=l|0;var d=0,p=0,y=0,b=0,g=0,m=0,v=0,w=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,C=0;if(e&63)return-1;if(~l)if(l&31)return-1;M[e+t|0]=r>>>24;M[e+t+1|0]=r>>>16&255;M[e+t+2|0]=r>>>8&255;M[e+t+3|0]=r&255;F(e,t+4|0,-1)|0;d=_=n,p=k=i,y=A=a,b=S=s,g=E=o,m=x=c,v=P=u,w=C=f;h=h-1|0;while((h|0)>0){O();B(_,k,A,S,E,x,P,C,0x80000000,0,0,0,0,0,0,768);_=n,k=i,A=a,S=s,E=o,x=c,P=u,C=f;z();B(_,k,A,S,E,x,P,C,0x80000000,0,0,0,0,0,0,768);_=n,k=i,A=a,S=s,E=o,x=c,P=u,C=f;d=d^n;p=p^i;y=y^a;b=b^s;g=g^o;m=m^c;v=v^u;w=w^f;h=h-1|0}n=d;i=p;a=y;s=b;o=g;c=m;u=v;f=w;if(~l)U(l);return 0}return{reset:I,init:T,process:D,finish:K,hmac_reset:O,hmac_init:j,hmac_finish:F,pbkdf2_generate_block:L}}({Uint8Array},0,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Je.push(this.heap),Qe.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new et).process(e).finish().result}}et.NAME="sha256";var tt=rt;function rt(e,t){if(!e)throw Error(t||"Assertion failed")}rt.equal=function(e,t,r){if(e!=t)throw Error(r||"Assertion failed: "+e+" != "+t)};var nt=void 0!==n?n:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function it(e,t){return e(t={exports:{}},t.exports),t.exports}var at=it((function(e){e.exports="function"==typeof Object.create?function(e,t){e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}})}:function(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}));function st(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}function ot(e){return 1===e.length?"0"+e:e}function ct(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var ut={inherits:at,toArray:function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(var n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}else for(n=0;n<e.length;n++)r[n]=0|e[n];return r},toHex:function(e){for(var t="",r=0;r<e.length;r++)t+=ot(e[r].toString(16));return t},htonl:st,toHex32:function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=st(i)),r+=ct(i.toString(16))}return r},zero2:ot,zero8:ct,join32:function(e,t,r,n){var i=r-t;tt(i%4==0);for(var a=Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a},split32:function(e,t){for(var r=Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r},rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,a,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+a>>>0)<a?1:0,e+r+i+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},sum64_5_hi:function(e,t,r,n,i,a,s,o,c,u){var f=0,h=t;return f+=(h=h+n>>>0)<t?1:0,f+=(h=h+a>>>0)<a?1:0,f+=(h=h+o>>>0)<o?1:0,e+r+i+s+c+(f+=(h=h+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,a,s,o,c,u){return t+n+a+o+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function ft(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var ht=ft;ft.prototype.update=function(e,t){if(e=ut.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=ut.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},ft.prototype.digest=function(e){return this.update(this._pad()),tt(null===this.pending),this._digest(e)},ft.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var lt={BlockHash:ht},dt=ut.rotr32;function pt(e,t,r){return e&t^~e&r}function yt(e,t,r){return e&t^e&r^t&r}var bt=pt,gt=yt,mt=ut.sum32,vt=ut.sum32_4,wt=ut.sum32_5,_t=bt,kt=gt,At=function(e){return dt(e,2)^dt(e,13)^dt(e,22)},St=function(e){return dt(e,6)^dt(e,11)^dt(e,25)},Et=function(e){return dt(e,7)^dt(e,18)^e>>>3},xt=function(e){return dt(e,17)^dt(e,19)^e>>>10},Pt=lt.BlockHash,Ct=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function Mt(){if(!(this instanceof Mt))return new Mt;Pt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=Ct,this.W=Array(64)}ut.inherits(Mt,Pt);var Bt=Mt;function Rt(){if(!(this instanceof Rt))return new Rt;Bt.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}Mt.blockSize=512,Mt.outSize=256,Mt.hmacStrength=192,Mt.padLength=64,Mt.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=vt(xt(r[n-2]),r[n-7],Et(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],f=this.h[6],h=this.h[7];for(tt(this.k.length===r.length),n=0;n<r.length;n++){var l=wt(h,St(c),_t(c,u,f),this.k[n],r[n]),d=mt(At(i),kt(i,a,s));h=f,f=u,u=c,c=mt(o,l),o=s,s=a,a=i,i=mt(l,d)}this.h[0]=mt(this.h[0],i),this.h[1]=mt(this.h[1],a),this.h[2]=mt(this.h[2],s),this.h[3]=mt(this.h[3],o),this.h[4]=mt(this.h[4],c),this.h[5]=mt(this.h[5],u),this.h[6]=mt(this.h[6],f),this.h[7]=mt(this.h[7],h)},Mt.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")},ut.inherits(Rt,Bt);var Ut=Rt;Rt.blockSize=512,Rt.outSize=224,Rt.hmacStrength=192,Rt.padLength=64,Rt.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h.slice(0,7),"big"):ut.split32(this.h.slice(0,7),"big")};var It=ut.rotr64_hi,Tt=ut.rotr64_lo,Dt=ut.shr64_hi,Kt=ut.shr64_lo,Ot=ut.sum64,zt=ut.sum64_hi,jt=ut.sum64_lo,Ft=ut.sum64_4_hi,Lt=ut.sum64_4_lo,qt=ut.sum64_5_hi,Nt=ut.sum64_5_lo,Wt=lt.BlockHash,Ht=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function $t(){if(!(this instanceof $t))return new $t;Wt.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ht,this.W=Array(160)}ut.inherits($t,Wt);var Vt=$t;function Gt(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Yt(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function Zt(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function Xt(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function Jt(e,t){var r=It(e,t,28)^It(t,e,2)^It(t,e,7);return r<0&&(r+=4294967296),r}function Qt(e,t){var r=Tt(e,t,28)^Tt(t,e,2)^Tt(t,e,7);return r<0&&(r+=4294967296),r}function er(e,t){var r=It(e,t,14)^It(e,t,18)^It(t,e,9);return r<0&&(r+=4294967296),r}function tr(e,t){var r=Tt(e,t,14)^Tt(e,t,18)^Tt(t,e,9);return r<0&&(r+=4294967296),r}function rr(e,t){var r=It(e,t,1)^It(e,t,8)^Dt(e,t,7);return r<0&&(r+=4294967296),r}function nr(e,t){var r=Tt(e,t,1)^Tt(e,t,8)^Kt(e,t,7);return r<0&&(r+=4294967296),r}function ir(e,t){var r=It(e,t,19)^It(t,e,29)^Dt(e,t,6);return r<0&&(r+=4294967296),r}function ar(e,t){var r=Tt(e,t,19)^Tt(t,e,29)^Kt(e,t,6);return r<0&&(r+=4294967296),r}function sr(){if(!(this instanceof sr))return new sr;Vt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}$t.blockSize=1024,$t.outSize=512,$t.hmacStrength=192,$t.padLength=128,$t.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=ir(r[n-4],r[n-3]),a=ar(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=rr(r[n-30],r[n-29]),u=nr(r[n-30],r[n-29]),f=r[n-32],h=r[n-31];r[n]=Ft(i,a,s,o,c,u,f,h),r[n+1]=Lt(i,a,s,o,c,u,f,h)}},$t.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],f=this.h[7],h=this.h[8],l=this.h[9],d=this.h[10],p=this.h[11],y=this.h[12],b=this.h[13],g=this.h[14],m=this.h[15];tt(this.k.length===r.length);for(var v=0;v<r.length;v+=2){var w=g,_=m,k=er(h,l),A=tr(h,l),S=Gt(h,0,d,0,y),E=Yt(0,l,0,p,0,b),x=this.k[v],P=this.k[v+1],C=r[v],M=r[v+1],B=qt(w,_,k,A,S,E,x,P,C,M),R=Nt(w,_,k,A,S,E,x,P,C,M);w=Jt(n,i),_=Qt(n,i),k=Zt(n,0,a,0,o),A=Xt(0,i,0,s,0,c);var U=zt(w,_,k,A),I=jt(w,_,k,A);g=y,m=b,y=d,b=p,d=h,p=l,h=zt(u,f,B,R),l=jt(f,f,B,R),u=o,f=c,o=a,c=s,a=n,s=i,n=zt(B,R,U,I),i=jt(B,R,U,I)}Ot(this.h,0,n,i),Ot(this.h,2,a,s),Ot(this.h,4,o,c),Ot(this.h,6,u,f),Ot(this.h,8,h,l),Ot(this.h,10,d,p),Ot(this.h,12,y,b),Ot(this.h,14,g,m)},$t.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")},ut.inherits(sr,Vt);var or=sr;sr.blockSize=1024,sr.outSize=384,sr.hmacStrength=192,sr.padLength=128,sr.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h.slice(0,12),"big"):ut.split32(this.h.slice(0,12),"big")};var cr=ut.rotl32,ur=ut.sum32,fr=ut.sum32_3,hr=ut.sum32_4,lr=lt.BlockHash;function dr(){if(!(this instanceof dr))return new dr;lr.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}ut.inherits(dr,lr);var pr=dr;function yr(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function br(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function gr(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}dr.blockSize=512,dr.outSize=160,dr.hmacStrength=192,dr.padLength=64,dr.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,c=n,u=i,f=a,h=s,l=0;l<80;l++){var d=ur(cr(hr(r,yr(l,n,i,a),e[mr[l]+t],br(l)),wr[l]),s);r=s,s=a,a=cr(i,10),i=n,n=d,d=ur(cr(hr(o,yr(79-l,c,u,f),e[vr[l]+t],gr(l)),_r[l]),h),o=h,h=f,f=cr(u,10),u=c,c=d}d=fr(this.h[1],i,f),this.h[1]=fr(this.h[2],a,h),this.h[2]=fr(this.h[3],s,o),this.h[3]=fr(this.h[4],r,c),this.h[4]=fr(this.h[0],n,u),this.h[0]=d},dr.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h,"little"):ut.split32(this.h,"little")};var mr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],vr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],wr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],_r=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],kr={ripemd160:pr};function Ar(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=Er(r,n,i,a,t[0],7,-680876936),a=Er(a,r,n,i,t[1],12,-389564586),i=Er(i,a,r,n,t[2],17,606105819),n=Er(n,i,a,r,t[3],22,-1044525330),r=Er(r,n,i,a,t[4],7,-176418897),a=Er(a,r,n,i,t[5],12,1200080426),i=Er(i,a,r,n,t[6],17,-1473231341),n=Er(n,i,a,r,t[7],22,-45705983),r=Er(r,n,i,a,t[8],7,1770035416),a=Er(a,r,n,i,t[9],12,-1958414417),i=Er(i,a,r,n,t[10],17,-42063),n=Er(n,i,a,r,t[11],22,-1990404162),r=Er(r,n,i,a,t[12],7,1804603682),a=Er(a,r,n,i,t[13],12,-40341101),i=Er(i,a,r,n,t[14],17,-1502002290),n=Er(n,i,a,r,t[15],22,1236535329),r=xr(r,n,i,a,t[1],5,-165796510),a=xr(a,r,n,i,t[6],9,-1069501632),i=xr(i,a,r,n,t[11],14,643717713),n=xr(n,i,a,r,t[0],20,-373897302),r=xr(r,n,i,a,t[5],5,-701558691),a=xr(a,r,n,i,t[10],9,38016083),i=xr(i,a,r,n,t[15],14,-660478335),n=xr(n,i,a,r,t[4],20,-405537848),r=xr(r,n,i,a,t[9],5,568446438),a=xr(a,r,n,i,t[14],9,-1019803690),i=xr(i,a,r,n,t[3],14,-187363961),n=xr(n,i,a,r,t[8],20,1163531501),r=xr(r,n,i,a,t[13],5,-1444681467),a=xr(a,r,n,i,t[2],9,-51403784),i=xr(i,a,r,n,t[7],14,1735328473),n=xr(n,i,a,r,t[12],20,-1926607734),r=Pr(r,n,i,a,t[5],4,-378558),a=Pr(a,r,n,i,t[8],11,-2022574463),i=Pr(i,a,r,n,t[11],16,1839030562),n=Pr(n,i,a,r,t[14],23,-35309556),r=Pr(r,n,i,a,t[1],4,-1530992060),a=Pr(a,r,n,i,t[4],11,1272893353),i=Pr(i,a,r,n,t[7],16,-155497632),n=Pr(n,i,a,r,t[10],23,-1094730640),r=Pr(r,n,i,a,t[13],4,681279174),a=Pr(a,r,n,i,t[0],11,-358537222),i=Pr(i,a,r,n,t[3],16,-722521979),n=Pr(n,i,a,r,t[6],23,76029189),r=Pr(r,n,i,a,t[9],4,-640364487),a=Pr(a,r,n,i,t[12],11,-421815835),i=Pr(i,a,r,n,t[15],16,530742520),n=Pr(n,i,a,r,t[2],23,-995338651),r=Cr(r,n,i,a,t[0],6,-198630844),a=Cr(a,r,n,i,t[7],10,1126891415),i=Cr(i,a,r,n,t[14],15,-1416354905),n=Cr(n,i,a,r,t[5],21,-57434055),r=Cr(r,n,i,a,t[12],6,1700485571),a=Cr(a,r,n,i,t[3],10,-1894986606),i=Cr(i,a,r,n,t[10],15,-1051523),n=Cr(n,i,a,r,t[1],21,-2054922799),r=Cr(r,n,i,a,t[8],6,1873313359),a=Cr(a,r,n,i,t[15],10,-30611744),i=Cr(i,a,r,n,t[6],15,-1560198380),n=Cr(n,i,a,r,t[13],21,1309151649),r=Cr(r,n,i,a,t[4],6,-145523070),a=Cr(a,r,n,i,t[11],10,-1120210379),i=Cr(i,a,r,n,t[2],15,718787259),n=Cr(n,i,a,r,t[9],21,-343485551),e[0]=Ur(r,e[0]),e[1]=Ur(n,e[1]),e[2]=Ur(i,e[2]),e[3]=Ur(a,e[3])}function Sr(e,t,r,n,i,a){return t=Ur(Ur(t,e),Ur(n,a)),Ur(t<<i|t>>>32-i,r)}function Er(e,t,r,n,i,a,s){return Sr(t&r|~t&n,e,t,i,a,s)}function xr(e,t,r,n,i,a,s){return Sr(t&n|r&~n,e,t,i,a,s)}function Pr(e,t,r,n,i,a,s){return Sr(t^r^n,e,t,i,a,s)}function Cr(e,t,r,n,i,a,s){return Sr(r^(t|~n),e,t,i,a,s)}function Mr(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const Br="0123456789abcdef".split("");function Rr(e){let t="",r=0;for(;r<4;r++)t+=Br[e>>8*r+4&15]+Br[e>>8*r&15];return t}function Ur(e,t){return e+t&4294967295}const Ir=Z.getWebCrypto(),Tr=Z.getNodeCrypto(),Dr=Tr&&Tr.getHashes();function Kr(e){if(Tr&&Dr.includes(e))return async function(t){const r=Tr.createHash(e);return z(t,(e=>{r.update(e)}),(()=>new Uint8Array(r.digest())))}}function Or(e,t){return async function(r,n=se){if(u(r)&&(r=await H(r)),!Z.isStream(r)&&Ir&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Ir.digest(t,r));const i=e();return z(r,(e=>{i.update(e)}),(()=>new Uint8Array(i.digest())))}}function zr(e,t){return async function(r,n=se){if(u(r)&&(r=await H(r)),Z.isStream(r)){const t=new e;return z(r,(e=>{t.process(e)}),(()=>t.finish().result))}return Ir&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Ir.digest(t,r)):e.bytes(r)}}const jr={md5:Kr("md5")||async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)Ar(r,Mr(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(Ar(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,Ar(r,i),r}(Z.uint8ArrayToString(e));return Z.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=Rr(e[t]);return e.join("")}(t))},sha1:Kr("sha1")||zr(Xe,"SHA-1"),sha224:Kr("sha224")||Or(Ut),sha256:Kr("sha256")||zr(et,"SHA-256"),sha384:Kr("sha384")||Or(or,"SHA-384"),sha512:Kr("sha512")||Or(Vt,"SHA-512"),ripemd:Kr("ripemd160")||Or(pr)};var Fr={md5:jr.md5,sha1:jr.sha1,sha224:jr.sha224,sha256:jr.sha256,sha384:jr.sha384,sha512:jr.sha512,ripemd:jr.ripemd,digest:function(e,t){switch(e){case ae.hash.md5:return this.md5(t);case ae.hash.sha1:return this.sha1(t);case ae.hash.ripemd:return this.ripemd(t);case ae.hash.sha256:return this.sha256(t);case ae.hash.sha384:return this.sha384(t);case ae.hash.sha512:return this.sha512(t);case ae.hash.sha224:return this.sha224(t);default:throw Error("Invalid hash function.")}},getHashByteLength:function(e){switch(e){case ae.hash.md5:return 16;case ae.hash.sha1:case ae.hash.ripemd:return 20;case ae.hash.sha256:return 32;case ae.hash.sha384:return 48;case ae.hash.sha512:return 64;case ae.hash.sha224:return 28;default:throw Error("Invalid hash algorithm.")}}};class Lr{static encrypt(e,t,r){return new Lr(t,r).encrypt(e)}static decrypt(e,t,r){return new Lr(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new Pe(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return _e(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return _e(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}var qr=it((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw Error("no PRNG")},n=new Uint8Array(32);n[0]=9;var i=t(),a=t([1]),s=t([56129,1]),o=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),f=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),h=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function l(e,t,r,n){return function(e,t,r,n,i){var a,s=0;for(a=0;a<32;a++)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}(e,t,r,n)}function d(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function p(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function y(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function b(e,r){var n,i,a,s=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(p(o),p(o),p(o),i=0;i<2;i++){for(s[0]=o[0]-65517,n=1;n<15;n++)s[n]=o[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,y(o,s,1-a)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function g(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return b(r,e),b(n,t),l(r,0,n,0)}function m(e){var t=new Uint8Array(32);return b(t,e),1&t[0]}function v(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function w(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function k(e,t,r){var n,i,a=0,s=0,o=0,c=0,u=0,f=0,h=0,l=0,d=0,p=0,y=0,b=0,g=0,m=0,v=0,w=0,_=0,k=0,A=0,S=0,E=0,x=0,P=0,C=0,M=0,B=0,R=0,U=0,I=0,T=0,D=0,K=r[0],O=r[1],z=r[2],j=r[3],F=r[4],L=r[5],q=r[6],N=r[7],W=r[8],H=r[9],$=r[10],V=r[11],G=r[12],Y=r[13],Z=r[14],X=r[15];a+=(n=t[0])*K,s+=n*O,o+=n*z,c+=n*j,u+=n*F,f+=n*L,h+=n*q,l+=n*N,d+=n*W,p+=n*H,y+=n*$,b+=n*V,g+=n*G,m+=n*Y,v+=n*Z,w+=n*X,s+=(n=t[1])*K,o+=n*O,c+=n*z,u+=n*j,f+=n*F,h+=n*L,l+=n*q,d+=n*N,p+=n*W,y+=n*H,b+=n*$,g+=n*V,m+=n*G,v+=n*Y,w+=n*Z,_+=n*X,o+=(n=t[2])*K,c+=n*O,u+=n*z,f+=n*j,h+=n*F,l+=n*L,d+=n*q,p+=n*N,y+=n*W,b+=n*H,g+=n*$,m+=n*V,v+=n*G,w+=n*Y,_+=n*Z,k+=n*X,c+=(n=t[3])*K,u+=n*O,f+=n*z,h+=n*j,l+=n*F,d+=n*L,p+=n*q,y+=n*N,b+=n*W,g+=n*H,m+=n*$,v+=n*V,w+=n*G,_+=n*Y,k+=n*Z,A+=n*X,u+=(n=t[4])*K,f+=n*O,h+=n*z,l+=n*j,d+=n*F,p+=n*L,y+=n*q,b+=n*N,g+=n*W,m+=n*H,v+=n*$,w+=n*V,_+=n*G,k+=n*Y,A+=n*Z,S+=n*X,f+=(n=t[5])*K,h+=n*O,l+=n*z,d+=n*j,p+=n*F,y+=n*L,b+=n*q,g+=n*N,m+=n*W,v+=n*H,w+=n*$,_+=n*V,k+=n*G,A+=n*Y,S+=n*Z,E+=n*X,h+=(n=t[6])*K,l+=n*O,d+=n*z,p+=n*j,y+=n*F,b+=n*L,g+=n*q,m+=n*N,v+=n*W,w+=n*H,_+=n*$,k+=n*V,A+=n*G,S+=n*Y,E+=n*Z,x+=n*X,l+=(n=t[7])*K,d+=n*O,p+=n*z,y+=n*j,b+=n*F,g+=n*L,m+=n*q,v+=n*N,w+=n*W,_+=n*H,k+=n*$,A+=n*V,S+=n*G,E+=n*Y,x+=n*Z,P+=n*X,d+=(n=t[8])*K,p+=n*O,y+=n*z,b+=n*j,g+=n*F,m+=n*L,v+=n*q,w+=n*N,_+=n*W,k+=n*H,A+=n*$,S+=n*V,E+=n*G,x+=n*Y,P+=n*Z,C+=n*X,p+=(n=t[9])*K,y+=n*O,b+=n*z,g+=n*j,m+=n*F,v+=n*L,w+=n*q,_+=n*N,k+=n*W,A+=n*H,S+=n*$,E+=n*V,x+=n*G,P+=n*Y,C+=n*Z,M+=n*X,y+=(n=t[10])*K,b+=n*O,g+=n*z,m+=n*j,v+=n*F,w+=n*L,_+=n*q,k+=n*N,A+=n*W,S+=n*H,E+=n*$,x+=n*V,P+=n*G,C+=n*Y,M+=n*Z,B+=n*X,b+=(n=t[11])*K,g+=n*O,m+=n*z,v+=n*j,w+=n*F,_+=n*L,k+=n*q,A+=n*N,S+=n*W,E+=n*H,x+=n*$,P+=n*V,C+=n*G,M+=n*Y,B+=n*Z,R+=n*X,g+=(n=t[12])*K,m+=n*O,v+=n*z,w+=n*j,_+=n*F,k+=n*L,A+=n*q,S+=n*N,E+=n*W,x+=n*H,P+=n*$,C+=n*V,M+=n*G,B+=n*Y,R+=n*Z,U+=n*X,m+=(n=t[13])*K,v+=n*O,w+=n*z,_+=n*j,k+=n*F,A+=n*L,S+=n*q,E+=n*N,x+=n*W,P+=n*H,C+=n*$,M+=n*V,B+=n*G,R+=n*Y,U+=n*Z,I+=n*X,v+=(n=t[14])*K,w+=n*O,_+=n*z,k+=n*j,A+=n*F,S+=n*L,E+=n*q,x+=n*N,P+=n*W,C+=n*H,M+=n*$,B+=n*V,R+=n*G,U+=n*Y,I+=n*Z,T+=n*X,w+=(n=t[15])*K,s+=38*(k+=n*z),o+=38*(A+=n*j),c+=38*(S+=n*F),u+=38*(E+=n*L),f+=38*(x+=n*q),h+=38*(P+=n*N),l+=38*(C+=n*W),d+=38*(M+=n*H),p+=38*(B+=n*$),y+=38*(R+=n*V),b+=38*(U+=n*G),g+=38*(I+=n*Y),m+=38*(T+=n*Z),v+=38*(D+=n*X),a=(n=(a+=38*(_+=n*O))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=f,e[6]=h,e[7]=l,e[8]=d,e[9]=p,e[10]=y,e[11]=b,e[12]=g,e[13]=m,e[14]=v,e[15]=w}function A(e,t){k(e,t,t)}function S(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)A(i,i),2!==n&&4!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function E(e,r,n){var i,a,o=new Uint8Array(32),c=new Float64Array(80),u=t(),f=t(),h=t(),l=t(),d=t(),p=t();for(a=0;a<31;a++)o[a]=r[a];for(o[31]=127&r[31]|64,o[0]&=248,v(c,n),a=0;a<16;a++)f[a]=c[a],l[a]=u[a]=h[a]=0;for(u[0]=l[0]=1,a=254;a>=0;--a)y(u,f,i=o[a>>>3]>>>(7&a)&1),y(h,l,i),w(d,u,h),_(u,u,h),w(h,f,l),_(f,f,l),A(l,d),A(p,u),k(u,h,u),k(h,f,d),w(d,u,h),_(u,u,h),A(f,u),_(h,l,p),k(u,h,s),w(u,u,l),k(h,h,u),k(u,l,p),k(l,f,c),A(f,d),y(u,f,i),y(h,l,i);for(a=0;a<16;a++)c[a+16]=u[a],c[a+32]=h[a],c[a+48]=f[a],c[a+64]=l[a];var g=c.subarray(32),m=c.subarray(16);return S(g,g),k(m,m,g),b(e,m),0}function x(e,t){return E(e,t,n)}function P(e,r){var n=t(),i=t(),a=t(),s=t(),o=t(),u=t(),f=t(),h=t(),l=t();_(n,e[1],e[0]),_(l,r[1],r[0]),k(n,n,l),w(i,e[0],e[1]),w(l,r[0],r[1]),k(i,i,l),k(a,e[3],r[3]),k(a,a,c),k(s,e[2],r[2]),w(s,s,s),_(o,i,n),_(u,s,a),w(f,s,a),w(h,i,n),k(e[0],o,u),k(e[1],h,f),k(e[2],f,u),k(e[3],o,h)}function C(e,t,r){var n;for(n=0;n<4;n++)y(e[n],t[n],r)}function M(e,r){var n=t(),i=t(),a=t();S(a,r[2]),k(n,r[0],a),k(i,r[1],a),b(e,i),e[31]^=m(n)<<7}function B(e,t,r){var n,s;for(d(e[0],i),d(e[1],a),d(e[2],a),d(e[3],i),s=255;s>=0;--s)C(e,t,n=r[s/8|0]>>(7&s)&1),P(t,e),P(e,e),C(e,t,n)}function R(e,r){var n=[t(),t(),t(),t()];d(n[0],u),d(n[1],f),d(n[2],a),k(n[3],u,f),B(e,n,r)}function U(n,i,a){var s,o,c=[t(),t(),t(),t()];for(a||r(i,32),(s=e.hash(i.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64,R(c,s),M(n,c),o=0;o<32;o++)i[o+32]=n[o];return 0}var I=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function T(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*I[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*I[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*I[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function D(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;T(e,r)}function K(e,r){var n=t(),s=t(),c=t(),u=t(),f=t(),l=t(),p=t();return d(e[2],a),v(e[1],r),A(c,e[1]),k(u,c,o),_(c,c,e[2]),w(u,e[2],u),A(f,u),A(l,f),k(p,l,f),k(n,p,c),k(n,n,u),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)A(i,i),1!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),k(n,n,c),k(n,n,u),k(n,n,u),k(e[0],n,u),A(s,e[0]),k(s,s,u),g(s,c)&&k(e[0],e[0],h),A(s,e[0]),k(s,s,u),g(s,c)?-1:(m(e[0])===r[31]>>7&&_(e[0],i,e[0]),k(e[3],e[0],e[1]),0)}var O=64;function z(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function j(e){for(var t=0;t<e.length;t++)e[t]=0}e.scalarMult=function(e,t){if(z(e,t),32!==e.length)throw Error("bad n size");if(32!==t.length)throw Error("bad p size");var r=new Uint8Array(32);return E(r,e,t),r},e.box={},e.box.keyPair=function(){var e,t,n=new Uint8Array(32),i=new Uint8Array(32);return e=n,r(t=i,32),x(e,t),{publicKey:n,secretKey:i}},e.box.keyPair.fromSecretKey=function(e){if(z(e),32!==e.length)throw Error("bad secret key size");var t=new Uint8Array(32);return x(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.sign=function(r,n){if(z(r,n),64!==n.length)throw Error("bad secret key size");var i=new Uint8Array(O+r.length);return function(r,n,i,a){var s,o,c,u,f,h=new Float64Array(64),l=[t(),t(),t(),t()];(s=e.hash(a.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64;var d=i+64;for(u=0;u<i;u++)r[64+u]=n[u];for(u=0;u<32;u++)r[32+u]=s[32+u];for(D(c=e.hash(r.subarray(32,d))),R(l,c),M(r,l),u=32;u<64;u++)r[u]=a[u];for(D(o=e.hash(r.subarray(0,d))),u=0;u<64;u++)h[u]=0;for(u=0;u<32;u++)h[u]=c[u];for(u=0;u<32;u++)for(f=0;f<32;f++)h[u+f]+=o[u]*s[f];T(r.subarray(32),h)}(i,r,r.length,n),i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(O),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached.verify=function(r,n,i){if(z(r,n,i),n.length!==O)throw Error("bad signature size");if(32!==i.length)throw Error("bad public key size");var a,s=new Uint8Array(O+r.length),o=new Uint8Array(O+r.length);for(a=0;a<O;a++)s[a]=n[a];for(a=0;a<r.length;a++)s[a+O]=r[a];return function(r,n,i,a){var s,o,c=new Uint8Array(32),u=[t(),t(),t(),t()],f=[t(),t(),t(),t()];if(i<64)return-1;if(K(f,a))return-1;for(s=0;s<i;s++)r[s]=n[s];for(s=0;s<32;s++)r[s+32]=a[s];if(D(o=e.hash(r.subarray(0,i))),B(u,f,o),R(f,n.subarray(32)),P(u,f),M(c,u),i-=64,l(n,0,c,0)){for(s=0;s<i;s++)r[s]=0;return-1}for(s=0;s<i;s++)r[s]=n[s+64];return i}(o,s,s.length,i)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return U(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(z(e),64!==e.length)throw Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(z(e),32!==e.length)throw Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return U(t,r,!0),{publicKey:t,secretKey:r}},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;t&&t.getRandomValues?e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];j(i)})):(t=void 0)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];j(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}));const Nr=Z.getNodeCrypto();async function Wr(e){const t=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(t);else if(Nr){const e=Nr.randomBytes(t.length);t.set(e)}else{if(!$r.buffer)throw Error("No secure random number generator available.");await $r.get(t)}return t}async function Hr(e,t){const r=await Z.getBigInteger();if(t.lt(e))throw Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await Wr(i+8)).mod(n).add(e)}const $r=new class{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t}set(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");const t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let t=0;t<e.length;t++)e[t]=this.buffer[--this.size],this.buffer[this.size]=0}};var Vr=Object.freeze({__proto__:null,getRandomBytes:Wr,getRandomBigInteger:Hr,randomBuffer:$r});async function Gr(e,t,r){const n=await Z.getBigInteger(),i=new n(1),a=i.leftShift(new n(e-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await Hr(a,a.leftShift(i));let u=c.mod(s).toNumber();do{c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(a.leftShift(i)).iadd(a),u=c.mod(s).toNumber())}while(!await Yr(c,t,r));return c}async function Yr(e,t,r){return!(t&&!e.dec().gcd(t).isOne()||!await async function(e){const t=await Z.getBigInteger();return Zr.every((r=>0!==e.mod(new t(r))))}(e)||!await async function(e,t){const r=await Z.getBigInteger();return(t=t||new r(2)).modExp(e.dec(),e).isOne()}(e)||!await async function(e,t,r){const n=await Z.getBigInteger(),i=e.bitLength();t||(t=Math.max(1,i/48|0));const a=e.dec();let s=0;for(;!a.getBit(s);)s++;const o=e.rightShift(new n(s));for(;t>0;t--){let t,r=(await Hr(new n(2),a)).modExp(o,e);if(!r.isOne()&&!r.equal(a)){for(t=1;t<s;t++){if(r=r.mul(r).mod(e),r.isOne())return!1;if(r.equal(a))break}if(t===s)return!1}}return!0}(e,r))}const Zr=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999],Xr=[];async function Jr(e,t){const r=e.length;if(r>t-11)throw Error("Message too long");const n=await async function(e){const t=new Uint8Array(e);let r=0;for(;r<e;){const n=await Wr(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function Qr(e,t){let r=2,n=1;for(let t=r;t<e.length;t++)n&=0!==e[t],r+=n;const i=r-2,a=e.subarray(r+1),s=0===e[0]&2===e[1]&i>=8&!n;if(t)return Z.selectUint8Array(s,a,t);if(s)return a;throw Error("Decryption error")}async function en(e,t,r){let n;if(t.length!==Fr.getHashByteLength(e))throw Error("Invalid hash length");const i=new Uint8Array(Xr[e].length);for(n=0;n<Xr[e].length;n++)i[n]=Xr[e][n];const a=i.length+t.length;if(r<a+11)throw Error("Intended encoded message length too short");const s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(t,r-t.length),o}Xr[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Xr[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Xr[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Xr[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Xr[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Xr[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Xr[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var tn=Object.freeze({__proto__:null,emeEncode:Jr,emeDecode:Qr,emsaEncode:en});const rn=Z.getWebCrypto(),nn=Z.getNodeCrypto(),an=void 0,sn=nn?an.define("RSAPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("modulus").int(),this.key("publicExponent").int(),this.key("privateExponent").int(),this.key("prime1").int(),this.key("prime2").int(),this.key("exponent1").int(),this.key("exponent2").int(),this.key("coefficient").int())})):void 0,on=nn?an.define("RSAPubliceKey",(function(){this.seq().obj(this.key("modulus").int(),this.key("publicExponent").int())})):void 0;var cn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a,s,o,c){if(t&&!Z.isStream(t))if(Z.getWebCrypto())try{return await async function(e,t,r,n,i,a,s,o){const c=await async function(e,t,r,n,i,a){const s=await Z.getBigInteger(),o=new s(n),c=new s(i),u=new s(r);let f=u.mod(c.dec()),h=u.mod(o.dec());return h=h.toUint8Array(),f=f.toUint8Array(),{kty:"RSA",n:ne(e,!0),e:ne(t,!0),d:ne(r,!0),p:ne(i,!0),q:ne(n,!0),dp:ne(f,!0),dq:ne(h,!0),qi:ne(a,!0),ext:!0}}(r,n,i,a,s,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},f=await rn.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await rn.sign("RSASSA-PKCS1-v1_5",f,t))}(ae.read(ae.webHash,e),t,r,n,i,a,s,o)}catch(e){Z.printDebugError(e)}else if(Z.getNodeCrypto())return async function(e,t,r,n,i,a,s,o){const{default:c}=await Promise.resolve().then((function(){return Rl})),u=new c(a),f=new c(s),h=new c(i),l=h.mod(f.subn(1)),d=h.mod(u.subn(1)),p=nn.createSign(ae.read(ae.hash,e));p.write(t),p.end();const y={version:0,modulus:new c(r),publicExponent:new c(n),privateExponent:new c(i),prime1:new c(s),prime2:new c(a),exponent1:l,exponent2:d,coefficient:new c(o)};if(void 0!==nn.createPrivateKey){const e=sn.encode(y,"der");return new Uint8Array(p.sign({key:e,format:"der",type:"pkcs1"}))}const b=sn.encode(y,"pem",{label:"RSA PRIVATE KEY"});return new Uint8Array(p.sign(b))}(e,t,r,n,i,a,s,o);return async function(e,t,r,n){const i=await Z.getBigInteger();t=new i(t);const a=new i(await en(e,n,t.byteLength()));if(r=new i(r),a.gte(t))throw Error("Message size cannot exceed modulus size");return a.modExp(r,t).toUint8Array("be",t.byteLength())}(e,r,i,c)},verify:async function(e,t,r,n,i,a){if(t&&!Z.isStream(t))if(Z.getWebCrypto())try{return await async function(e,t,r,n,i){const a=function(e,t){return{kty:"RSA",n:ne(e,!0),e:ne(t,!0),ext:!0}}(n,i),s=await rn.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return rn.verify("RSASSA-PKCS1-v1_5",s,r,t)}(ae.read(ae.webHash,e),t,r,n,i)}catch(e){Z.printDebugError(e)}else if(Z.getNodeCrypto())return async function(e,t,r,n,i){const{default:a}=await Promise.resolve().then((function(){return Rl})),s=nn.createVerify(ae.read(ae.hash,e));s.write(t),s.end();const o={modulus:new a(n),publicExponent:new a(i)};let c;c=void 0!==nn.createPrivateKey?{key:on.encode(o,"der"),format:"der",type:"pkcs1"}:on.encode(o,"pem",{label:"RSA PUBLIC KEY"});try{return await s.verify(c,r)}catch(e){return!1}}(e,t,r,n,i);return async function(e,t,r,n,i){const a=await Z.getBigInteger();if(r=new a(r),t=new a(t),n=new a(n),t.gte(r))throw Error("Signature size cannot exceed modulus size");const s=t.modExp(n,r).toUint8Array("be",r.byteLength()),o=await en(e,i,r.byteLength());return Z.equalsUint8Array(s,o)}(e,r,n,i,a)},encrypt:async function(e,t,r){return Z.getNodeCrypto()?async function(e,t,r){const{default:n}=await Promise.resolve().then((function(){return Rl})),i={modulus:new n(t),publicExponent:new n(r)};let a;return a=void 0!==nn.createPrivateKey?{key:on.encode(i,"der"),format:"der",type:"pkcs1",padding:nn.constants.RSA_PKCS1_PADDING}:{key:on.encode(i,"pem",{label:"RSA PUBLIC KEY"}),padding:nn.constants.RSA_PKCS1_PADDING},new Uint8Array(nn.publicEncrypt(a,e))}(e,t,r):async function(e,t,r){const n=await Z.getBigInteger();if(t=new n(t),e=new n(await Jr(e,t.byteLength())),r=new n(r),e.gte(t))throw Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,a,s,o){return Z.getNodeCrypto()?async function(e,t,r,n,i,a,s,o){const{default:c}=await Promise.resolve().then((function(){return Rl})),u=new c(i),f=new c(a),h=new c(n),l=h.mod(f.subn(1)),d=h.mod(u.subn(1)),p={version:0,modulus:new c(t),publicExponent:new c(r),privateExponent:new c(n),prime1:new c(a),prime2:new c(i),exponent1:l,exponent2:d,coefficient:new c(s)};let y;y=void 0!==nn.createPrivateKey?{key:sn.encode(p,"der"),format:"der",type:"pkcs1",padding:nn.constants.RSA_PKCS1_PADDING}:{key:sn.encode(p,"pem",{label:"RSA PRIVATE KEY"}),padding:nn.constants.RSA_PKCS1_PADDING};try{return new Uint8Array(nn.privateDecrypt(y,e))}catch(e){if(o)return o;throw Error("Decryption error")}}(e,t,r,n,i,a,s,o):async function(e,t,r,n,i,a,s,o){const c=await Z.getBigInteger();if(e=new c(e),t=new c(t),r=new c(r),n=new c(n),i=new c(i),a=new c(a),s=new c(s),e.gte(t))throw Error("Data too large.");const u=n.mod(a.dec()),f=n.mod(i.dec()),h=(await Hr(new c(2),t)).mod(t),l=h.modInv(t).modExp(r,t),d=(e=e.mul(l).mod(t)).modExp(f,i),p=e.modExp(u,a);let y=s.mul(p.sub(d)).mod(a).mul(i).add(d);return y=y.mul(h).mod(t),Qr(y.toUint8Array("be",t.byteLength()),o)}(e,t,r,n,i,a,s,o)},generate:async function(e,t){if(t=new(await Z.getBigInteger())(t),Z.getWebCrypto()){const r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},n=await rn.generateKey(r,!0,["sign","verify"]),i=await rn.exportKey("jwk",n.privateKey);return{n:re(i.n),e:t.toUint8Array(),d:re(i.d),p:re(i.q),q:re(i.p),u:re(i.qi)}}if(Z.getNodeCrypto()&&nn.generateKeyPair&&sn){const r={modulusLength:e,publicExponent:t.toNumber(),publicKeyEncoding:{type:"pkcs1",format:"der"},privateKeyEncoding:{type:"pkcs1",format:"der"}},n=await new Promise(((e,t)=>nn.generateKeyPair("rsa",r,((r,n,i)=>{r?t(r):e(sn.decode(i,"der"))}))));return{n:n.modulus.toArrayLike(Uint8Array),e:n.publicExponent.toArrayLike(Uint8Array),d:n.privateExponent.toArrayLike(Uint8Array),p:n.prime2.toArrayLike(Uint8Array),q:n.prime1.toArrayLike(Uint8Array),u:n.coefficient.toArrayLike(Uint8Array)}}let r,n,i;do{n=await Gr(e-(e>>1),t,40),r=await Gr(e>>1,t,40),i=r.mul(n)}while(i.bitLength()!==e);const a=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(a).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(e,t,r,n,i,a){const s=await Z.getBigInteger();if(e=new s(e),n=new s(n),i=new s(i),!n.mul(i).equal(e))return!1;const o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;t=new s(t),r=new s(r);const c=new s(Math.floor(e.bitLength()/3)),u=await Hr(o,o.leftShift(c)),f=u.mul(r).mul(t);return!(!f.mod(n.dec()).equal(u)||!f.mod(i.dec()).equal(u))}}),un=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await Z.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const a=new i(await Jr(e,t.byteLength())),s=await Hr(new i(1),t.dec());return{c1:r.modExp(s,t).toUint8Array(),c2:n.modExp(s,t).imul(a).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n,i){const a=await Z.getBigInteger();return e=new a(e),t=new a(t),r=new a(r),n=new a(n),Qr(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(e,t,r,n){const i=await Z.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const a=new i(1);if(t.lte(a)||t.gte(e))return!1;const s=new i(e.bitLength()),o=new i(1023);if(s.lt(o))return!1;if(!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),f=new i(2).leftShift(new i(17));for(;u.lt(f);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const h=new i(2),l=await Hr(h.leftShift(s.dec()),h.leftShift(s)),d=e.dec().imul(l).iadd(n);return!!r.equal(t.modExp(d,e))}});class fn{constructor(e){if(e instanceof fn)this.oid=e.oid;else if(Z.isArray(e)||Z.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw Error("Invalid oid")}write(){return Z.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return Z.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(ae.curve[e])return ae.write(ae.curve,e);throw Error("Unknown curve object identifier.")}}function hn(e,t){return e.keyPair({priv:t})}function ln(e,t){const r=e.keyPair({pub:t});if(!0!==r.validate().result)throw Error("Invalid elliptic public key");return r}async function dn(e){if(!se.useIndutnyElliptic)throw Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then((function(){return Yd}));return new t.ec(e)}function pn(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=Z.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function yn(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):Z.concatUint8Array([new Uint8Array([255]),Z.writeNumber(e,4)])}function bn(e){if(e<0||e>30)throw Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function gn(e){return new Uint8Array([192|e])}function mn(e,t){return Z.concatUint8Array([gn(e),yn(t)])}function vn(e){return[ae.packet.literalData,ae.packet.compressedData,ae.packet.symmetricallyEncryptedData,ae.packet.symEncryptedIntegrityProtectedData,ae.packet.aeadEncryptedData].includes(e)}async function wn(e,t){const r=I(e);let n,i;try{const a=await r.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const s=await r.readByte();let o,u,f=-1,h=-1;h=0,0!=(64&s)&&(h=1),h?f=63&s:(f=(63&s)>>2,u=3&s);const l=vn(f);let d,p=null;if(l){if("array"===Z.isStream(e)){const e=new c;n=T(e),p=e}else{const e=new P;n=T(e.writable),p=e.readable}i=t({tag:f,packet:p})}else p=[];do{if(h){const e=await r.readByte();if(d=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await r.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),d=!0,!l)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(u){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){n&&await n.ready;const{done:t,value:i}=await r.read();if(t){if(o===1/0)break;throw Error("Unexpected end of packet")}const a=o===1/0?i:i.subarray(0,o-e);if(n?await n.write(a):p.push(a),e+=i.length,e>=o){r.unshift(i.subarray(o-e+i.length));break}}}}while(d);const y=await r.peekBytes(l?1/0:2);return n?(await n.ready,await n.close()):(p=Z.concatUint8Array(p),await t({tag:f,packet:p})),!y||!y.length}catch(e){if(n)return await n.abort(e),!0;throw e}finally{n&&await i,r.releaseLock()}}class _n extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,_n),this.name="UnsupportedError"}}class kn{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}const An=Z.getWebCrypto(),Sn=Z.getNodeCrypto(),En={p256:"P-256",p384:"P-384",p521:"P-521"},xn=Sn?Sn.getCurves():[],Pn=Sn?{secp256k1:xn.includes("secp256k1")?"secp256k1":void 0,p256:xn.includes("prime256v1")?"prime256v1":void 0,p384:xn.includes("secp384r1")?"secp384r1":void 0,p521:xn.includes("secp521r1")?"secp521r1":void 0,ed25519:xn.includes("ED25519")?"ED25519":void 0,curve25519:xn.includes("X25519")?"X25519":void 0,brainpoolP256r1:xn.includes("brainpoolP256r1")?"brainpoolP256r1":void 0,brainpoolP384r1:xn.includes("brainpoolP384r1")?"brainpoolP384r1":void 0,brainpoolP512r1:xn.includes("brainpoolP512r1")?"brainpoolP512r1":void 0}:{},Cn={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha256,cipher:ae.symmetric.aes128,node:Pn.p256,web:En.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha384,cipher:ae.symmetric.aes192,node:Pn.p384,web:En.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha512,cipher:ae.symmetric.aes256,node:Pn.p521,web:En.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha256,cipher:ae.symmetric.aes128,node:Pn.secp256k1,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:ae.publicKey.eddsa,hash:ae.hash.sha512,node:!1,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:ae.publicKey.ecdh,hash:ae.hash.sha256,cipher:ae.symmetric.aes128,node:!1,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha256,cipher:ae.symmetric.aes128,node:Pn.brainpoolP256r1,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha384,cipher:ae.symmetric.aes192,node:Pn.brainpoolP384r1,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:ae.publicKey.ecdsa,hash:ae.hash.sha512,cipher:ae.symmetric.aes256,node:Pn.brainpoolP512r1,payloadSize:64}};class Mn{constructor(e,t){try{(Z.isArray(e)||Z.isUint8Array(e))&&(e=new fn(e)),e instanceof fn&&(e=e.getName()),this.name=ae.write(ae.curve,e)}catch(e){throw new _n("Unknown curve")}t=t||Cn[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.node=t.node&&Cn[this.name],this.web=t.web&&Cn[this.name],this.payloadSize=t.payloadSize,this.web&&Z.getWebCrypto()?this.type="web":this.node&&Z.getNodeCrypto()?this.type="node":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(e){const t=await An.generateKey({name:"ECDSA",namedCurve:En[e]},!0,["sign","verify"]),r=await An.exportKey("jwk",t.privateKey);return{publicKey:Rn(await An.exportKey("jwk",t.publicKey)),privateKey:re(r.d)}}(this.name)}catch(e){Z.printDebugError("Browser did not support generating ec key "+e.message);break}case"node":return async function(e){const t=Sn.createECDH(Pn[e]);return await t.generateKeys(),{publicKey:new Uint8Array(t.getPublicKey()),privateKey:new Uint8Array(t.getPrivateKey())}}(this.name);case"curve25519":{const t=await Wr(32);t[0]=127&t[0]|64,t[31]&=248;const r=t.slice().reverse();return e=qr.box.keyPair.fromSecretKey(r),{publicKey:Z.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}case"ed25519":{const e=await Wr(32),t=qr.sign.keyPair.fromSeed(e);return{publicKey:Z.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}}const t=await dn(this.name);return e=await t.genKeyPair({entropy:Z.uint8ArrayToString(await Wr(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function Bn(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===ae.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=t.getName();if(!i[a])return!1;if("curve25519"===a){n=n.slice().reverse();const{publicKey:e}=qr.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const t=new Uint8Array([64,...e]);return!!Z.equalsUint8Array(t,r)}const s=await dn(a);try{r=ln(s,r).getPublic()}catch(e){return!1}return!!hn(s,n).getPublic().eq(r)}function Rn(e){const t=re(e.x),r=re(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function Un(e,t,r){const n=e,i=r.slice(1,n+1),a=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:ne(i,!0),y:ne(a,!0),ext:!0}}function In(e,t,r,n){const i=Un(e,t,r);return i.d=ne(n,!0),i}const Tn=Z.getWebCrypto(),Dn=Z.getNodeCrypto();async function Kn(e,t,r,n,i,a){const s=new Mn(e);if(r&&!Z.isStream(r)){const a={publicKey:n,privateKey:i};switch(s.type){case"web":try{return await async function(e,t,r,n){const i=e.payloadSize,a=In(e.payloadSize,En[e.name],n.publicKey,n.privateKey),s=await Tn.importKey("jwk",a,{name:"ECDSA",namedCurve:En[e.name],hash:{name:ae.read(ae.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await Tn.sign({name:"ECDSA",namedCurve:En[e.name],hash:{name:ae.read(ae.webHash,t)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(s,t,r,a)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Z.printDebugError("Browser did not support signing: "+e.message)}break;case"node":{const e=await async function(e,t,r,n){const i=Dn.createSign(ae.read(ae.hash,t));i.write(r),i.end();const a=Fn.encode({version:1,parameters:e.oid,privateKey:Array.from(n.privateKey),publicKey:{unused:0,data:Array.from(n.publicKey)}},"pem",{label:"EC PRIVATE KEY"});return jn.decode(i.sign(a),"der")}(s,t,r,a);return{r:e.r.toArrayLike(Uint8Array),s:e.s.toArrayLike(Uint8Array)}}}}return async function(e,t,r){const n=hn(await dn(e.name),r).sign(t);return{r:n.r.toArrayLike(Uint8Array),s:n.s.toArrayLike(Uint8Array)}}(s,a,i)}async function On(e,t,r,n,i,a){const s=new Mn(e);if(n&&!Z.isStream(n))switch(s.type){case"web":try{return await async function(e,t,{r,s:n},i,a){const s=Un(e.payloadSize,En[e.name],a),o=await Tn.importKey("jwk",s,{name:"ECDSA",namedCurve:En[e.name],hash:{name:ae.read(ae.webHash,e.hash)}},!1,["verify"]),c=Z.concatUint8Array([r,n]).buffer;return Tn.verify({name:"ECDSA",namedCurve:En[e.name],hash:{name:ae.read(ae.webHash,t)}},o,c,i)}(s,t,r,n,i)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e;Z.printDebugError("Browser did not support verifying: "+e.message)}break;case"node":return async function(e,t,{r,s:n},i,a){const{default:s}=await Promise.resolve().then((function(){return Rl})),o=Dn.createVerify(ae.read(ae.hash,t));o.write(i),o.end();const c=qn.encode({algorithm:{algorithm:[1,2,840,10045,2,1],parameters:e.oid},subjectPublicKey:{unused:0,data:Array.from(a)}},"pem",{label:"PUBLIC KEY"}),u=jn.encode({r:new s(r),s:new s(n)},"der");try{return o.verify(c,u)}catch(e){return!1}}(s,t,r,n,i)}return async function(e,t,r,n){return ln(await dn(e.name),n).verify(r,t)}(s,r,void 0===t?n:a,i)}const zn=void 0,jn=Dn?zn.define("ECDSASignature",(function(){this.seq().obj(this.key("r").int(),this.key("s").int())})):void 0,Fn=Dn?zn.define("ECPrivateKey",(function(){this.seq().obj(this.key("version").int(),this.key("privateKey").octstr(),this.key("parameters").explicit(0).optional().any(),this.key("publicKey").explicit(1).optional().bitstr())})):void 0,Ln=Dn?zn.define("AlgorithmIdentifier",(function(){this.seq().obj(this.key("algorithm").objid(),this.key("parameters").optional().any())})):void 0,qn=Dn?zn.define("SubjectPublicKeyInfo",(function(){this.seq().obj(this.key("algorithm").use(Ln),this.key("subjectPublicKey").bitstr())})):void 0;var Nn=Object.freeze({__proto__:null,sign:Kn,verify:On,validateParams:async function(e,t,r){const n=new Mn(e);if(n.keyType!==ae.publicKey.ecdsa)return!1;switch(n.type){case"web":case"node":{const n=await Wr(8),i=ae.hash.sha256,a=await Fr.digest(i,n);try{const s=await Kn(e,i,n,t,r,a);return await On(e,i,s,n,t,a)}catch(e){return!1}}default:return Bn(ae.publicKey.ecdsa,e,t,r)}}});qr.hash=e=>new Uint8Array(Vt().update(e).digest());var Wn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){if(Fr.getHashByteLength(t)<Fr.getHashByteLength(ae.hash.sha256))throw Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const s=Z.concatUint8Array([i,n.subarray(1)]),o=qr.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r,s:n},i,a,s){const o=Z.concatUint8Array([r,n]);return qr.sign.detached.verify(s,o,a.subarray(1))},validateParams:async function(e,t,r){if("ed25519"!==e.getName())return!1;const{publicKey:n}=qr.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return Z.equalsUint8Array(t,i)}});function Hn(e,t){const r=new $e["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Vn(t);let a=n;const s=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<o;++t)c[1]=o*e+(1+t),u[0]=a[0],u[1]=a[1],u[2]=s[2*t],u[3]=s[2*t+1],u=Vn(r.encrypt(Gn(u))),a=u.subarray(0,2),a[0]^=c[0],a[1]^=c[1],s[2*t]=u[2],s[2*t+1]=u[3];return Gn(a,s)}function $n(e,t){const r=new $e["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=Vn(t);let a=i.subarray(0,2);const s=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),u[0]=a[0]^c[0],u[1]=a[1]^c[1],u[2]=s[2*t],u[3]=s[2*t+1],u=Vn(r.decrypt(Gn(u))),a=u.subarray(0,2),s[2*t]=u[2],s[2*t+1]=u[3];if(a[0]===n[0]&&a[1]===n[1])return Gn(s);throw Error("Key Data Integrity failed")}function Vn(e){const{length:t}=e,r=function(e){if(Z.isString(e)){const{length:t}=e,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let e=0;e<t/4;++e)i[e]=n.getUint32(4*e);return i}function Gn(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(n+4*t,arguments[e][t]);n+=4*arguments[e].length}return new Uint8Array(t)}var Yn=Object.freeze({__proto__:null,wrap:Hn,unwrap:$n});function Zn(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function Xn(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(Z.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw Error("Invalid padding")}var Jn=Object.freeze({__proto__:null,encode:Zn,decode:Xn});const Qn=Z.getWebCrypto(),ei=Z.getNodeCrypto();function ti(e,t,r,n){return Z.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),Z.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function ri(e,t,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await Fr.digest(e,Z.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function ni(e,t,r,n){if(n.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519":{const e=n.slice().reverse();return{secretKey:e,sharedKey:qr.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&Z.getWebCrypto())try{return await async function(e,t,r,n){const i=In(e.payloadSize,e.web.web,r,n);let a=Qn.importKey("jwk",i,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]);const s=Un(e.payloadSize,e.web.web,t);let o=Qn.importKey("jwk",s,{name:"ECDH",namedCurve:e.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=Qn.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},a,e.web.sharedSize),u=Qn.exportKey("jwk",a);[c,u]=await Promise.all([c,u]);const f=new Uint8Array(c);return{secretKey:re(u.d),sharedKey:f}}(e,t,r,n)}catch(e){Z.printDebugError(e)}break;case"node":return async function(e,t,r){const n=ei.createECDH(e.node.node);n.setPrivateKey(r);const i=new Uint8Array(n.computeSecret(t));return{secretKey:new Uint8Array(n.getPrivateKey()),sharedKey:i}}(e,t,n)}return async function(e,t,r){const n=await dn(e.name);t=ln(n,t),r=hn(n,r);const i=new Uint8Array(r.getPrivate()),a=r.derive(t.getPublic()),s=n.curve.p.byteLength();return{secretKey:i,sharedKey:a.toArrayLike(Uint8Array,"be",s)}}(e,t,n)}var ii=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return Bn(ae.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const a=Zn(r),s=new Mn(e),{publicKey:o,sharedKey:c}=await async function(e,t){switch(e.type){case"curve25519":{const r=await Wr(32),{secretKey:n,sharedKey:i}=await ni(e,t,null,r);let{publicKey:a}=qr.box.keyPair.fromSecretKey(n);return a=Z.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(e.web&&Z.getWebCrypto())try{return await async function(e,t){const r=Un(e.payloadSize,e.web.web,t);let n=Qn.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),i=Qn.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=Qn.deriveBits({name:"ECDH",namedCurve:e.web.web,public:i},n.privateKey,e.web.sharedSize),s=Qn.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);const o=new Uint8Array(a);return{publicKey:new Uint8Array(Rn(s)),sharedKey:o}}(e,t)}catch(e){Z.printDebugError(e)}break;case"node":return async function(e,t){const r=ei.createECDH(e.node.node);r.generateKeys();const n=new Uint8Array(r.computeSecret(t));return{publicKey:new Uint8Array(r.getPublicKey()),sharedKey:n}}(e,t)}return async function(e,t){const r=await dn(e.name),n=await e.genKeyPair();t=ln(r,t);const i=hn(r,n.privateKey),a=n.publicKey,s=i.derive(t.getPublic()),o=r.curve.p.byteLength();return{publicKey:a,sharedKey:s.toArrayLike(Uint8Array,"be",o)}}(e,t)}(s,n),u=ti(ae.publicKey.ecdh,e,t,i),{keySize:f}=ci(t.cipher);return{publicKey:o,wrappedKey:Hn(await ri(t.hash,c,f,u),a)}},decrypt:async function(e,t,r,n,i,a,s){const o=new Mn(e),{sharedKey:c}=await ni(o,r,i,a),u=ti(ae.publicKey.ecdh,e,t,s),{keySize:f}=ci(t.cipher);let h;for(let r=0;r<3;r++)try{return Xn($n(await ri(t.hash,c,f,u,1===r,2===r),n))}catch(e){h=e}throw h}}),ai={rsa:cn,elgamal:un,elliptic:Object.freeze({__proto__:null,Curve:Mn,ecdh:ii,ecdsa:Nn,eddsa:Wn,generate:async function(e){const t=await Z.getBigInteger();e=new Mn(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return Cn[ae.write(ae.curve,e.toHex())].hash}}),dsa:Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){const s=await Z.getBigInteger(),o=new s(1);let c,u,f,h;n=new s(n),i=new s(i),r=new s(r),a=new s(a),r=r.mod(n),a=a.mod(i);const l=new s(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await Hr(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const e=a.mul(u).imod(i);if(h=l.add(e).imod(i),f=c.modInv(i).imul(h).imod(i),!f.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:f.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,a,s,o){const c=await Z.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),a=new c(a),s=new c(s),i=new c(i),o=new c(o),t.lte(u)||t.gte(s)||r.lte(u)||r.gte(s))return Z.printDebug("invalid DSA Signature"),!1;const f=new c(n.subarray(0,s.byteLength())).imod(s),h=r.modInv(s);if(h.isZero())return Z.printDebug("invalid DSA Signature"),!1;i=i.mod(a),o=o.mod(a);const l=f.mul(h).imod(s),d=t.mul(h).imod(s),p=i.modExp(l,a),y=o.modExp(d,a);return p.mul(y).imod(a).imod(s).equal(t)},validateParams:async function(e,t,r,n,i){const a=await Z.getBigInteger();e=new a(e),t=new a(t),r=new a(r),n=new a(n);const s=new a(1);if(r.lte(s)||r.gte(e))return!1;if(!e.dec().mod(t).isZero())return!1;if(!r.modExp(t,e).isOne())return!1;const o=new a(t.bitLength()),c=new a(150);if(o.lt(c)||!await Yr(t,null,32))return!1;i=new a(i);const u=new a(2),f=await Hr(u.leftShift(o.dec()),u.leftShift(o)),h=t.mul(f).add(i);return!!n.equal(r.modExp(h,e))}}),nacl:qr};class si{constructor(e){e=void 0===e?new Uint8Array([]):Z.isString(e)?Z.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw Error("Invalid symmetric key")}write(){return Z.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class oi{constructor(e){if(e){const{hash:t,cipher:r}=e;this.hash=t,this.cipher=r}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function ci(e){const t=ae.read(ae.symmetric,e);return $e[t]}function ui(e){try{e.getName()}catch(e){throw new _n("Unknown curve OID")}}var fi=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n){switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:{const{n:e,e:n}=t;return{c:await ai.rsa.encrypt(r,e,n)}}case ae.publicKey.elgamal:{const{p:e,g:n,y:i}=t;return ai.elgamal.encrypt(r,e,n,i)}case ae.publicKey.ecdh:{const{oid:e,Q:i,kdfParams:a}=t,{publicKey:s,wrappedKey:o}=await ai.elliptic.ecdh.encrypt(e,a,r,i,n);return{V:s,C:new si(o)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i,a){switch(e){case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaEncrypt:{const{c:e}=n,{n:i,e:s}=t,{d:o,p:c,q:u,u:f}=r;return ai.rsa.decrypt(e,i,s,o,c,u,f,a)}case ae.publicKey.elgamal:{const{c1:e,c2:i}=n,s=t.p,o=r.x;return ai.elgamal.decrypt(e,i,s,o,a)}case ae.publicKey.ecdh:{const{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:u}=n;return ai.elliptic.ecdh.decrypt(e,s,c,u.data,a,o,i)}default:throw Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaSign:{const e=Z.readMPI(t.subarray(r));r+=e.length+2;const n=Z.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{n:e,e:n}}}case ae.publicKey.dsa:{const e=Z.readMPI(t.subarray(r));r+=e.length+2;const n=Z.readMPI(t.subarray(r));r+=n.length+2;const i=Z.readMPI(t.subarray(r));r+=i.length+2;const a=Z.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:e,q:n,g:i,y:a}}}case ae.publicKey.elgamal:{const e=Z.readMPI(t.subarray(r));r+=e.length+2;const n=Z.readMPI(t.subarray(r));r+=n.length+2;const i=Z.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{p:e,g:n,y:i}}}case ae.publicKey.ecdsa:{const e=new fn;r+=e.read(t),ui(e);const n=Z.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{oid:e,Q:n}}}case ae.publicKey.eddsa:{const e=new fn;r+=e.read(t),ui(e);let n=Z.readMPI(t.subarray(r));return r+=n.length+2,n=Z.leftPad(n,33),{read:r,publicParams:{oid:e,Q:n}}}case ae.publicKey.ecdh:{const e=new fn;r+=e.read(t),ui(e);const n=Z.readMPI(t.subarray(r));r+=n.length+2;const i=new oi;return r+=i.read(t.subarray(r)),{read:r,publicParams:{oid:e,Q:n,kdfParams:i}}}default:throw new _n("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaSign:{const e=Z.readMPI(t.subarray(n));n+=e.length+2;const r=Z.readMPI(t.subarray(n));n+=r.length+2;const i=Z.readMPI(t.subarray(n));n+=i.length+2;const a=Z.readMPI(t.subarray(n));return n+=a.length+2,{read:n,privateParams:{d:e,p:r,q:i,u:a}}}case ae.publicKey.dsa:case ae.publicKey.elgamal:{const e=Z.readMPI(t.subarray(n));return n+=e.length+2,{read:n,privateParams:{x:e}}}case ae.publicKey.ecdsa:case ae.publicKey.ecdh:{const e=new Mn(r.oid);let i=Z.readMPI(t.subarray(n));return n+=i.length+2,i=Z.leftPad(i,e.payloadSize),{read:n,privateParams:{d:i}}}case ae.publicKey.eddsa:{const e=new Mn(r.oid);let i=Z.readMPI(t.subarray(n));return n+=i.length+2,i=Z.leftPad(i,e.payloadSize),{read:n,privateParams:{seed:i}}}default:throw new _n("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:return{c:Z.readMPI(t.subarray(r))};case ae.publicKey.elgamal:{const e=Z.readMPI(t.subarray(r));return r+=e.length+2,{c1:e,c2:Z.readMPI(t.subarray(r))}}case ae.publicKey.ecdh:{const e=Z.readMPI(t.subarray(r));r+=e.length+2;const n=new si;return n.read(t.subarray(r)),{V:e,C:n}}default:throw new _n("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){const r=Object.keys(t).map((e=>{const r=t[e];return Z.isUint8Array(r)?Z.uint8ArrayToMPI(r):r.write()}));return Z.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaSign:return ai.rsa.generate(t,65537).then((({n:e,e:t,d:r,p:n,q:i,u:a})=>({privateParams:{d:r,p:n,q:i,u:a},publicParams:{n:e,e:t}})));case ae.publicKey.ecdsa:return ai.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new fn(e),Q:t}})));case ae.publicKey.eddsa:return ai.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new fn(e),Q:t}})));case ae.publicKey.ecdh:return ai.elliptic.generate(r).then((({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new fn(e),Q:t,kdfParams:new oi({hash:n,cipher:i})}})));case ae.publicKey.dsa:case ae.publicKey.elgamal:throw Error("Unsupported algorithm for key generation.");default:throw Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw Error("Missing key parameters");switch(e){case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaSign:{const{n:e,e:n}=t,{d:i,p:a,q:s,u:o}=r;return ai.rsa.validateParams(e,n,i,a,s,o)}case ae.publicKey.dsa:{const{p:e,q:n,g:i,y:a}=t,{x:s}=r;return ai.dsa.validateParams(e,n,i,a,s)}case ae.publicKey.elgamal:{const{p:e,g:n,y:i}=t,{x:a}=r;return ai.elgamal.validateParams(e,n,i,a)}case ae.publicKey.ecdsa:case ae.publicKey.ecdh:{const n=ai.elliptic[ae.read(ae.publicKey,e)],{oid:i,Q:a}=t,{d:s}=r;return n.validateParams(i,a,s)}case ae.publicKey.eddsa:{const{oid:e,Q:n}=t,{seed:i}=r;return ai.elliptic.eddsa.validateParams(e,n,i)}default:throw Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){const{blockSize:t}=ci(e),r=await Wr(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return Z.concat([r,n])},generateSessionKey:function(e){const{keySize:t}=ci(e);return Wr(t)},getAEADMode:function(e){const t=ae.read(ae.aead,e);return qi[t]},getCipher:ci});const hi=Z.getWebCrypto(),li=Z.getNodeCrypto(),di=li?li.getCiphers():[],pi={idea:di.includes("idea-cfb")?"idea-cfb":void 0,tripledes:di.includes("des-ede3-cfb")?"des-ede3-cfb":void 0,cast5:di.includes("cast5-cfb")?"cast5-cfb":void 0,blowfish:di.includes("bf-cfb")?"bf-cfb":void 0,aes128:di.includes("aes-128-cfb")?"aes-128-cfb":void 0,aes192:di.includes("aes-192-cfb")?"aes-192-cfb":void 0,aes256:di.includes("aes-256-cfb")?"aes-256-cfb":void 0};var yi=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){const a=ae.read(ae.symmetric,e);if(Z.getNodeCrypto()&&pi[a])return function(e,t,r,n){const i=ae.read(ae.symmetric,e),a=new li.createCipheriv(pi[i],t,n);return z(r,(e=>new Uint8Array(a.update(e))))}(e,t,r,n);if("aes"===a.substr(0,3))return function(e,t,r,n,i){if(Z.getWebCrypto()&&24!==t.length&&!Z.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return async function(e,t,r,n){const i="AES-CBC",a=await hi.importKey("raw",t,{name:i},!1,["encrypt"]),{blockSize:s}=ci(e),o=Z.concatUint8Array([new Uint8Array(s),r]),c=new Uint8Array(await hi.encrypt({name:i,iv:n},a,o)).subarray(0,r.length);return function(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r]}(c,r),c}(e,t,r,n);const a=new Lr(t,n);return z(r,(e=>a.aes.AES_Encrypt_process(e)),(()=>a.aes.AES_Encrypt_finish()))}(e,t,r,n,i);const s=new $e[a](t),o=s.blockSize,c=n.slice();let u=new Uint8Array;const f=e=>{e&&(u=Z.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=o:u.length;){const e=s.encrypt(c);for(r=0;r<o;r++)c[r]=u[r]^e[r],t[n++]=c[r];u=u.subarray(o)}return t.subarray(0,n)};return z(r,f,f)},decrypt:async function(e,t,r,n){const i=ae.read(ae.symmetric,e);if(Z.getNodeCrypto()&&pi[i])return function(e,t,r,n){const i=ae.read(ae.symmetric,e),a=new li.createDecipheriv(pi[i],t,n);return z(r,(e=>new Uint8Array(a.update(e))))}(e,t,r,n);if("aes"===i.substr(0,3))return function(e,t,r,n){if(Z.isStream(r)){const e=new Lr(t,n);return z(r,(t=>e.aes.AES_Decrypt_process(t)),(()=>e.aes.AES_Decrypt_finish()))}return Lr.decrypt(r,t,n)}(0,t,r,n);const a=new $e[i](t),s=a.blockSize;let o=n,c=new Uint8Array;const u=e=>{e&&(c=Z.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let r,n=0;for(;e?c.length>=s:c.length;){const e=a.encrypt(o);for(o=c,r=0;r<s;r++)t[n++]=o[r]^e[r];c=c.subarray(s)}return t.subarray(0,n)};return z(r,u,u)}});class bi{static encrypt(e,t,r){return new bi(t,r).encrypt(e)}static decrypt(e,t,r){return new bi(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new Pe(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return _e(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return _e(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:n}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new Ae("illegal counter size");let e=Math.pow(2,r)-1;n.set_mask(0,0,e/4294967296|0,0|e)}else r=48,n.set_mask(0,0,65535,4294967295);if(void 0===e)throw Error("nonce is required");{let t=e.length;if(!t||t>16)throw new Ae("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),n.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new Ae("illegal counter value");n.set_counter(0,0,t/4294967296|0,0|t)}}}class gi{static encrypt(e,t,r=!0,n){return new gi(t,n,r).encrypt(e)}static decrypt(e,t,r=!0,n){return new gi(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new Pe(e,t,r,"CBC")}encrypt(e){return _e(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return _e(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const mi=Z.getWebCrypto(),vi=Z.getNodeCrypto();function wi(e,t){const r=e.length-16;for(let n=0;n<16;n++)e[n+r]^=t[n];return e}const _i=new Uint8Array(16),ki=Z.getWebCrypto(),Ai=Z.getNodeCrypto(),Si=Z.getNodeBuffer(),Ei=new Uint8Array(16),xi=new Uint8Array(16);xi[15]=1;const Pi=new Uint8Array(16);async function Ci(e){const t=await async function(e){const t=await async function(e){return Z.getWebCrypto()&&24!==e.length?(e=await mi.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const r=await mi.encrypt({name:"AES-CBC",iv:_i,length:128},e,t);return new Uint8Array(r).subarray(0,r.byteLength-16)}):Z.getNodeCrypto()?async function(t){const r=new vi.createCipheriv("aes-"+8*e.length+"-cbc",e,_i).update(t);return new Uint8Array(r)}:async function(t){return gi.encrypt(t,e,!1,_i)}}(e),r=Z.double(await t(_i)),n=Z.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%16==0)return wi(e,t);const n=new Uint8Array(e.length+(16-e.length%16));return n.set(e),n[e.length]=128,wi(n,r)}(e,r,n))).subarray(-16)}}(e);return function(e,r){return t(Z.concatUint8Array([e,r]))}}async function Mi(e){return Z.getWebCrypto()&&24!==e.length?(e=await ki.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await ki.encrypt({name:"AES-CTR",counter:r,length:128},e,t);return new Uint8Array(n)}):Z.getNodeCrypto()?async function(t,r){const n=new Ai.createCipheriv("aes-"+8*e.length+"-ctr",e,r),i=Si.concat([n.update(t),n.final()]);return new Uint8Array(i)}:async function(t,r){return bi.encrypt(t,e,r)}}async function Bi(e,t){if(e!==ae.symmetric.aes128&&e!==ae.symmetric.aes192&&e!==ae.symmetric.aes256)throw Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([Ci(t),Mi(t)]);return{encrypt:async function(e,t,i){const[a,s]=await Promise.all([r(Ei,t),r(xi,i)]),o=await n(e,a),c=await r(Pi,o);for(let e=0;e<16;e++)c[e]^=s[e]^a[e];return Z.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<16)throw Error("Invalid EAX ciphertext");const a=e.subarray(0,-16),s=e.subarray(-16),[o,c,u]=await Promise.all([r(Ei,t),r(xi,i),r(Pi,a)]),f=u;for(let e=0;e<16;e++)f[e]^=c[e]^o[e];if(!Z.equalsUint8Array(s,f))throw Error("Authentication tag mismatch");return await n(a,o)}}}function Ri(e){let t=0;for(let r=1;0==(e&r);r<<=1)t++;return t}function Ui(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function Ii(e,t){return Ui(e.slice(),t)}Pi[15]=2,Bi.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},Bi.blockLength=16,Bi.ivLength=16,Bi.tagLength=16;const Ti=new Uint8Array(16),Di=new Uint8Array([1]);async function Ki(e,t){let r,n,i,a=0;function s(e,t,n,s){const o=t.length/16|0;!function(e,t){const r=Z.nbits(Math.max(e.length,t.length)/16|0)-1;for(let e=a+1;e<=r;e++)i[e]=Z.double(i[e-1]);a=r}(t,s);const c=Z.concatUint8Array([Ti.subarray(0,15-n.length),Di,n]),u=63&c[15];c[15]&=192;const f=r(c),h=Z.concatUint8Array([f,Ii(f.subarray(0,8),f.subarray(1,9))]),l=Z.shiftRight(h.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),d=new Uint8Array(16),p=new Uint8Array(t.length+16);let y,b=0;for(y=0;y<o;y++)Ui(l,i[Ri(y+1)]),p.set(Ui(e(Ii(l,t)),l),b),Ui(d,e===r?t:p.subarray(b)),t=t.subarray(16),b+=16;if(t.length){Ui(l,i.x);const n=r(l);p.set(Ii(t,n),b);const a=new Uint8Array(16);a.set(e===r?t:p.subarray(b,-16),0),a[t.length]=128,Ui(d,a),b+=t.length}const g=Ui(r(Ui(Ui(d,l),i.$)),function(e){if(!e.length)return Ti;const t=e.length/16|0,n=new Uint8Array(16),a=new Uint8Array(16);for(let s=0;s<t;s++)Ui(n,i[Ri(s+1)]),Ui(a,r(Ii(n,e))),e=e.subarray(16);if(e.length){Ui(n,i.x);const t=new Uint8Array(16);t.set(e,0),t[e.length]=128,Ui(t,n),Ui(a,r(t))}return a}(s));return p.set(g,b),p}return function(e,t){const a=ae.read(ae.symmetric,e),s=new $e[a](t);r=s.encrypt.bind(s),n=s.decrypt.bind(s);const o=r(Ti),c=Z.double(o);i=[],i[0]=Z.double(c),i.x=o,i.$=c}(e,t),{encrypt:async function(e,t,n){return s(r,e,t,n)},decrypt:async function(e,t,r){if(e.length<16)throw Error("Invalid OCB ciphertext");const i=e.subarray(-16);e=e.subarray(0,-16);const a=s(n,e,t,r);if(Z.equalsUint8Array(i,a.subarray(-16)))return a.subarray(0,-16);throw Error("Authentication tag mismatch")}}}Ki.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},Ki.blockLength=16,Ki.ivLength=15,Ki.tagLength=16;class Oi{constructor(e,t,r,n=16,i){this.tagSize=n,this.gamma0=0,this.counter=1,this.aes=i||new Pe(e,void 0,!1,"CTR");let{asm:a,heap:s}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new Ae("illegal tagSize value");const o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=o>>>29,s[12]=o>>>21&255,s[13]=o>>>13&255,s[14]=o>>>5&255,s[15]=o<<3&255,a.mac(ge.MAC.GCM,ge.HEAP_DATA,16),a.get_iv(ge.HEAP_DATA),a.set_iv(0,0,0,0),c.set(s.subarray(0,16))):(c.set(t),c[15]=1);const u=new DataView(c.buffer);if(this.gamma0=u.getUint32(12),a.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),a.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>68719476704)throw new Ae("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,n,i){return new Oi(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new Oi(t,r,n,i).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.aes.pos,o=this.aes.len,c=0,u=o+r&-16,f=0;if((a-1<<4)+o+r>68719476704)throw new RangeError("counter overflow");const h=new Uint8Array(u);for(;r>0;)f=we(i,s+o,e,t,r),o+=f,t+=f,r-=f,f=n.cipher(ge.ENC.CTR,ge.HEAP_DATA+s,o),f=n.mac(ge.MAC.GCM,ge.HEAP_DATA+s,f),f&&h.set(i.subarray(s,s+f),c),a+=f>>>4,c+=f,f<o?(s+=f,o-=f):(s=0,o=0);return this.counter=a,this.aes.pos=s,this.aes.len=o,h}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,n=this.tagSize,i=this.adata,a=this.aes.pos,s=this.aes.len;const o=new Uint8Array(s+n);e.cipher(ge.ENC.CTR,ge.HEAP_DATA+a,s+15&-16),s&&o.set(t.subarray(a,a+s));let c=s;for(;15&c;c++)t[a+c]=0;e.mac(ge.MAC.GCM,ge.HEAP_DATA+a,c);const u=void 0!==i?i.length:0,f=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=u>>>29,t[4]=u>>>21,t[5]=u>>>13&255,t[6]=u>>>5&255,t[7]=u<<3&255,t[8]=t[9]=t[10]=0,t[11]=f>>>29,t[12]=f>>>21&255,t[13]=f>>>13&255,t[14]=f>>>5&255,t[15]=f<<3&255,e.mac(ge.MAC.GCM,ge.HEAP_DATA,16),e.get_iv(ge.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ge.ENC.CTR,ge.HEAP_DATA,16),o.set(t.subarray(0,n),s),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.tagSize,o=this.aes.pos,c=this.aes.len,u=0,f=c+r>s?c+r-s&-16:0,h=c+r-f,l=0;if((a-1<<4)+c+r>68719476704)throw new RangeError("counter overflow");const d=new Uint8Array(f);for(;r>h;)l=we(i,o+c,e,t,r-h),c+=l,t+=l,r-=l,l=n.mac(ge.MAC.GCM,ge.HEAP_DATA+o,l),l=n.cipher(ge.DEC.CTR,ge.HEAP_DATA+o,l),l&&d.set(i.subarray(o,o+l),u),a+=l>>>4,u+=l,o=0,c=0;return r>0&&(c+=we(i,0,e,t,r)),this.counter=a,this.aes.pos=o,this.aes.len=c,d}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,n=this.adata,i=this.counter,a=this.aes.pos,s=this.aes.len,o=s-r;if(s<r)throw new ke("authentication tag not found");const c=new Uint8Array(o),u=new Uint8Array(t.subarray(a+o,a+s));let f=o;for(;15&f;f++)t[a+f]=0;e.mac(ge.MAC.GCM,ge.HEAP_DATA+a,f),e.cipher(ge.DEC.CTR,ge.HEAP_DATA+a,f),o&&c.set(t.subarray(a,a+o));const h=void 0!==n?n.length:0,l=(i-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=h>>>29,t[4]=h>>>21,t[5]=h>>>13&255,t[6]=h>>>5&255,t[7]=h<<3&255,t[8]=t[9]=t[10]=0,t[11]=l>>>29,t[12]=l>>>21&255,t[13]=l>>>13&255,t[14]=l>>>5&255,t[15]=l<<3&255,e.mac(ge.MAC.GCM,ge.HEAP_DATA,16),e.get_iv(ge.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(ge.ENC.CTR,ge.HEAP_DATA,16);let d=0;for(let e=0;e<r;++e)d|=u[e]^t[e];if(d)throw new Se("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),n=0,i=e.length||0,a=0;for(;i>0;){for(a=we(r,0,e,n,i),n+=a,i-=a;15&a;)r[a++]=0;t.mac(ge.MAC.GCM,ge.HEAP_DATA,a)}}}const zi=Z.getWebCrypto(),ji=Z.getNodeCrypto(),Fi=Z.getNodeBuffer();async function Li(e,t){if(e!==ae.symmetric.aes128&&e!==ae.symmetric.aes192&&e!==ae.symmetric.aes256)throw Error("GCM mode supports only AES cipher");if(Z.getWebCrypto()&&24!==t.length){const e=await zi.importKey("raw",t,{name:"AES-GCM"},!1,["encrypt","decrypt"]);return{encrypt:async function(r,n,i=new Uint8Array){if(!r.length)return Oi.encrypt(r,t,n,i);const a=await zi.encrypt({name:"AES-GCM",iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){if(16===r.length)return Oi.decrypt(r,t,n,i);const a=await zi.decrypt({name:"AES-GCM",iv:n,additionalData:i,tagLength:128},e,r);return new Uint8Array(a)}}}return Z.getNodeCrypto()?{encrypt:async function(e,r,n=new Uint8Array){const i=new ji.createCipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n);const a=Fi.concat([i.update(e),i.final(),i.getAuthTag()]);return new Uint8Array(a)},decrypt:async function(e,r,n=new Uint8Array){const i=new ji.createDecipheriv("aes-"+8*t.length+"-gcm",t,r);i.setAAD(n),i.setAuthTag(e.slice(e.length-16,e.length));const a=Fi.concat([i.update(e.slice(0,e.length-16)),i.final()]);return new Uint8Array(a)}}:{encrypt:async function(e,r,n){return Oi.encrypt(e,t,r,n)},decrypt:async function(e,r,n){return Oi.decrypt(e,t,r,n)}}}Li.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},Li.blockLength=16,Li.ivLength=12,Li.tagLength=16;var qi={cfb:yi,gcm:Li,experimentalGCM:Li,eax:Bi,ocb:Ki},Ni=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaSign:return{s:Z.readMPI(t.subarray(r))};case ae.publicKey.dsa:case ae.publicKey.ecdsa:{const e=Z.readMPI(t.subarray(r));return r+=e.length+2,{r:e,s:Z.readMPI(t.subarray(r))}}case ae.publicKey.eddsa:{let e=Z.readMPI(t.subarray(r));r+=e.length+2,e=Z.leftPad(e,32);let n=Z.readMPI(t.subarray(r));return n=Z.leftPad(n,32),{r:e,s:n}}default:throw new _n("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,a){switch(e){case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaSign:{const{n:e,e:s}=n,o=Z.leftPad(r.s,e.length);return ai.rsa.verify(t,i,o,e,s,a)}case ae.publicKey.dsa:{const{g:e,p:i,q:s,y:o}=n,{r:c,s:u}=r;return ai.dsa.verify(t,c,u,a,e,i,s,o)}case ae.publicKey.ecdsa:{const{oid:e,Q:s}=n,o=new ai.elliptic.Curve(e).payloadSize,c=Z.leftPad(r.r,o),u=Z.leftPad(r.s,o);return ai.elliptic.ecdsa.verify(e,t,{r:c,s:u},i,s,a)}case ae.publicKey.eddsa:{const{oid:e,Q:s}=n;return ai.elliptic.eddsa.verify(e,t,r,i,s,a)}default:throw Error("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,a){if(!r||!n)throw Error("Missing key parameters");switch(e){case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaEncrypt:case ae.publicKey.rsaSign:{const{n:e,e:s}=r,{d:o,p:c,q:u,u:f}=n;return{s:await ai.rsa.sign(t,i,e,s,o,c,u,f,a)}}case ae.publicKey.dsa:{const{g:e,p:i,q:s}=r,{x:o}=n;return ai.dsa.sign(t,a,e,i,s,o)}case ae.publicKey.elgamal:throw Error("Signing with Elgamal is not defined in the OpenPGP standard.");case ae.publicKey.ecdsa:{const{oid:e,Q:s}=r,{d:o}=n;return ai.elliptic.ecdsa.sign(e,t,i,s,o,a)}case ae.publicKey.eddsa:{const{oid:e,Q:s}=r,{seed:o}=n;return ai.elliptic.eddsa.sign(e,t,i,s,o,a)}default:throw Error("Unknown signature algorithm.")}}});const Wi={cipher:$e,hash:Fr,mode:qi,publicKey:ai,signature:Ni,random:Vr,pkcs1:tn,pkcs5:Jn,aesKW:Yn};Object.assign(Wi,fi);var Hi="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function $i(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const Vi={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){let t,r,n,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const s=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},Gi={arraySet:function(e,t,r,n,i){for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};let Yi=Hi?Uint8Array:Array,Zi=Hi?Uint16Array:Array,Xi=Hi?Int32Array:Array,Ji=Hi?Vi.flattenChunks:Gi.flattenChunks,Qi=Hi?Vi.arraySet:Gi.arraySet;function ea(e){let t=e.length;for(;--t>=0;)e[t]=0}const ta=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],ra=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],na=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ia=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],aa=Array(576);ea(aa);const sa=Array(60);ea(sa);const oa=Array(512);ea(oa);const ca=Array(256);ea(ca);const ua=Array(29);ea(ua);const fa=Array(30);function ha(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let la,da,pa;function ya(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function ba(e){return e<256?oa[e]:oa[256+(e>>>7)]}function ga(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function ma(e,t,r){e.bi_valid>16-r?(e.bi_buf|=t<<e.bi_valid&65535,ga(e,e.bi_buf),e.bi_buf=t>>16-e.bi_valid,e.bi_valid+=r-16):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function va(e,t,r){ma(e,r[2*t],r[2*t+1])}function wa(e,t){let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function _a(e,t,r){const n=Array(16);let i,a,s=0;for(i=1;i<=15;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=t;a++){const t=e[2*a+1];0!==t&&(e[2*a]=wa(n[t]++,t))}}function ka(e){let t;for(t=0;t<286;t++)e.dyn_ltree[2*t]=0;for(t=0;t<30;t++)e.dyn_dtree[2*t]=0;for(t=0;t<19;t++)e.bl_tree[2*t]=0;e.dyn_ltree[512]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Aa(e){e.bi_valid>8?ga(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Sa(e,t,r,n){const i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function Ea(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Sa(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Sa(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function xa(e,t,r){let n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?va(e,i,t):(a=ca[i],va(e,a+256+1,t),s=ta[a],0!==s&&(i-=ua[a],ma(e,i,s)),n--,a=ba(n),va(e,a,r),s=ra[a],0!==s&&(n-=fa[a],ma(e,n,s)))}while(o<e.last_lit);va(e,256,t)}function Pa(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c,u=-1;for(e.heap_len=0,e.heap_max=573,s=0;s<a;s++)0!==r[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)Ea(e,r,s);c=a;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ea(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[2*c]=r[2*s]+r[2*o],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[2*s+1]=r[2*o+1]=c,e.heap[1]=c++,Ea(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,f,h,l,d,p,y=0;for(l=0;l<=15;l++)e.bl_count[l]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<573;u++)f=e.heap[u],l=r[2*r[2*f+1]+1]+1,l>c&&(l=c,y++),r[2*f+1]=l,f>n||(e.bl_count[l]++,d=0,f>=o&&(d=s[f-o]),p=r[2*f],e.opt_len+=p*(l+d),a&&(e.static_len+=p*(i[2*f+1]+d)));if(0!==y){do{for(l=c-1;0===e.bl_count[l];)l--;e.bl_count[l]--,e.bl_count[l+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(l=c;0!==l;l--)for(f=e.bl_count[l];0!==f;)h=e.heap[--u],h>n||(r[2*h+1]!==l&&(e.opt_len+=(l-r[2*h+1])*r[2*h],r[2*h+1]=l),f--)}}(e,t),_a(r,u,e.bl_count)}function Ca(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<c&&i===s||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[32]++):o<=10?e.bl_tree[34]++:e.bl_tree[36]++,o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function Ma(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<c&&i===s)){if(o<u)do{va(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(va(e,i,e.bl_tree),o--),va(e,16,e.bl_tree),ma(e,o-3,2)):o<=10?(va(e,17,e.bl_tree),ma(e,o-3,3)):(va(e,18,e.bl_tree),ma(e,o-11,7));o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}ea(fa);let Ba=!1;function Ra(e,t,r,n){ma(e,0+(n?1:0),3),function(e,t,r,n){Aa(e),ga(e,r),ga(e,~r),Qi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r)}function Ua(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(ca[r]+256+1)]++,e.dyn_dtree[2*ba(t)]++),e.last_lit===e.lit_bufsize-1}function Ia(e,t,r,n){let i=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}const Ta=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Da(e,t,r,n){const i=Ta,a=n+r;e^=-1;for(let r=n;r<a;r++)e=e>>>8^i[255&(e^t[r])];return-1^e}var Ka={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};function Oa(e,t){return e.msg=Ka[t],t}function za(e){return(e<<1)-(e>4?9:0)}function ja(e){let t=e.length;for(;--t>=0;)e[t]=0}function Fa(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(Qi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function La(e,t){(function(e,t,r,n){let i,a,s=0;e.level>0?(2===e.strm.data_type&&(e.strm.data_type=function(e){let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return 0;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return 1;for(t=32;t<256;t++)if(0!==e.dyn_ltree[2*t])return 1;return 0}(e)),Pa(e,e.l_desc),Pa(e,e.d_desc),s=function(e){let t;for(Ca(e,e.dyn_ltree,e.l_desc.max_code),Ca(e,e.dyn_dtree,e.d_desc.max_code),Pa(e,e.bl_desc),t=18;t>=3&&0===e.bl_tree[2*ia[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?Ra(e,t,r,n):4===e.strategy||a===i?(ma(e,2+(n?1:0),3),xa(e,aa,sa)):(ma(e,4+(n?1:0),3),function(e,t,r,n){let i;for(ma(e,t-257,5),ma(e,r-1,5),ma(e,n-4,4),i=0;i<n;i++)ma(e,e.bl_tree[2*ia[i]+1],3);Ma(e,e.dyn_ltree,t-1),Ma(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),xa(e,e.dyn_ltree,e.dyn_dtree)),ka(e),n&&Aa(e)})(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,Fa(e.strm)}function qa(e,t){e.pending_buf[e.pending++]=t}function Na(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function Wa(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,Qi(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=Ia(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Da(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function Ha(e,t){let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-262?e.strstart-(e.w_size-262):0,u=e.window,f=e.w_mask,h=e.prev,l=e.strstart+258;let d=u[a+s-1],p=u[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,u[r+s]===p&&u[r+s-1]===d&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<l);if(n=258-(l-a),a=l-258,n>s){if(e.match_start=t,s=n,n>=o)break;d=u[a+s-1],p=u[a+s]}}}while((t=h[t&f])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function $a(e){const t=e.w_size;let r,n,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-262)){Qi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=Wa(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=3)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+3-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<3)););}while(e.lookahead<262&&0!==e.strm.avail_in)}function Va(e,t){let r,n;for(;;){if(e.lookahead<262){if($a(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-262&&(e.match_length=Ha(e,r)),e.match_length>=3)if(n=Ua(e,e.strstart-e.match_start,e.match_length-3),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=3){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=Ua(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(La(e,!1),0===e.strm.avail_out))return 1}return e.insert=e.strstart<2?e.strstart:2,4===t?(La(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(La(e,!1),0===e.strm.avail_out)?1:2}function Ga(e,t){let r,n,i;for(;;){if(e.lookahead<262){if($a(e),e.lookahead<262&&0===t)return 1;if(0===e.lookahead)break}if(r=0,e.lookahead>=3&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=2,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-262&&(e.match_length=Ha(e,r),e.match_length<=5&&(1===e.strategy||3===e.match_length&&e.strstart-e.match_start>4096)&&(e.match_length=2)),e.prev_length>=3&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-3,n=Ua(e,e.strstart-1-e.prev_match,e.prev_length-3),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+3-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=2,e.strstart++,n&&(La(e,!1),0===e.strm.avail_out))return 1}else if(e.match_available){if(n=Ua(e,0,e.window[e.strstart-1]),n&&La(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return 1}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=Ua(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<2?e.strstart:2,4===t?(La(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(La(e,!1),0===e.strm.avail_out)?1:2}class Ya{constructor(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}}const Za=[new Ya(0,0,0,0,(function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if($a(e),0===e.lookahead&&0===t)return 1;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,La(e,!1),0===e.strm.avail_out))return 1;if(e.strstart-e.block_start>=e.w_size-262&&(La(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(La(e,!0),0===e.strm.avail_out?3:4):(e.strstart>e.block_start&&(La(e,!1),e.strm.avail_out),1)})),new Ya(4,4,8,4,Va),new Ya(4,5,16,8,Va),new Ya(4,6,32,32,Va),new Ya(4,4,16,16,Ga),new Ya(8,16,32,32,Ga),new Ya(8,16,128,128,Ga),new Ya(8,32,128,256,Ga),new Ya(32,128,258,1024,Ga),new Ya(32,258,258,4096,Ga)];class Xa{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=8,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Zi(1146),this.dyn_dtree=new Zi(122),this.bl_tree=new Zi(78),ja(this.dyn_ltree),ja(this.dyn_dtree),ja(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Zi(16),this.heap=new Zi(573),ja(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Zi(573),ja(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function Ja(e,t){let r,n,i,a;if(!e||!e.state||t>5||t<0)return e?Oa(e,-2):-2;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||666===n.status&&4!==t)return Oa(e,0===e.avail_out?-5:-2);if(n.strm=e,r=n.last_flush,n.last_flush=t,42===n.status)if(2===n.wrap)e.adler=0,qa(n,31),qa(n,139),qa(n,8),n.gzhead?(qa(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),qa(n,255&n.gzhead.time),qa(n,n.gzhead.time>>8&255),qa(n,n.gzhead.time>>16&255),qa(n,n.gzhead.time>>24&255),qa(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),qa(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(qa(n,255&n.gzhead.extra.length),qa(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Da(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=69):(qa(n,0),qa(n,0),qa(n,0),qa(n,0),qa(n,0),qa(n,9===n.level?2:n.strategy>=2||n.level<2?4:0),qa(n,3),n.status=113);else{let t=8+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=2||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=32),t+=31-t%31,n.status=113,Na(n,t),0!==n.strstart&&(Na(n,e.adler>>>16),Na(n,65535&e.adler)),e.adler=1}if(69===n.status)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),Fa(e),i=n.pending,n.pending!==n.pending_buf_size));)qa(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=73)}else n.status=73;if(73===n.status)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),Fa(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,qa(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=91)}else n.status=91;if(91===n.status)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),Fa(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,qa(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Da(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=103)}else n.status=103;if(103===n.status&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&Fa(e),n.pending+2<=n.pending_buf_size&&(qa(n,255&e.adler),qa(n,e.adler>>8&255),e.adler=0,n.status=113)):n.status=113),0!==n.pending){if(Fa(e),0===e.avail_out)return n.last_flush=-1,0}else if(0===e.avail_in&&za(t)<=za(r)&&4!==t)return Oa(e,-5);if(666===n.status&&0!==e.avail_in)return Oa(e,-5);if(0!==e.avail_in||0!==n.lookahead||0!==t&&666!==n.status){var s=2===n.strategy?function(e,t){let r;for(;;){if(0===e.lookahead&&($a(e),0===e.lookahead)){if(0===t)return 1;break}if(e.match_length=0,r=Ua(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(La(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(La(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(La(e,!1),0===e.strm.avail_out)?1:2}(n,t):3===n.strategy?function(e,t){let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=258){if($a(e),e.lookahead<=258&&0===t)return 1;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=3&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+258;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=258-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=3?(r=Ua(e,1,e.match_length-3),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=Ua(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(La(e,!1),0===e.strm.avail_out))return 1}return e.insert=0,4===t?(La(e,!0),0===e.strm.avail_out?3:4):e.last_lit&&(La(e,!1),0===e.strm.avail_out)?1:2}(n,t):Za[n.level].func(n,t);if(3!==s&&4!==s||(n.status=666),1===s||3===s)return 0===e.avail_out&&(n.last_flush=-1),0;if(2===s&&(1===t?function(e){ma(e,2,3),va(e,256,aa),function(e){16===e.bi_valid?(ga(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}(n):5!==t&&(Ra(n,0,0,!1),3===t&&(ja(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),Fa(e),0===e.avail_out))return n.last_flush=-1,0}return 4!==t?0:n.wrap<=0?1:(2===n.wrap?(qa(n,255&e.adler),qa(n,e.adler>>8&255),qa(n,e.adler>>16&255),qa(n,e.adler>>24&255),qa(n,255&e.total_in),qa(n,e.total_in>>8&255),qa(n,e.total_in>>16&255),qa(n,e.total_in>>24&255)):(Na(n,e.adler>>>16),Na(n,65535&e.adler)),Fa(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?0:1)}try{String.fromCharCode.call(null,0)}catch(n){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(n){}const Qa=new Yi(256);for(let e=0;e<256;e++)Qa[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function es(e){let t,r,n,i,a=0;const s=e.length;for(n=0;n<s;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),a+=t<128?1:t<2048?2:t<65536?3:4;const o=new Yi(a);for(i=0,n=0;i<a;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}Qa[254]=Qa[254]=1;class ts{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class rs{constructor(e){this.options={level:-1,method:8,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ts,this.strm.avail_out=0;var r,n,i=function(e,t,r,n,i,a){if(!e)return-2;let s=1;if(-1===t&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>9||8!==r||n<8||n>15||t<0||t>9||a<0||a>4)return Oa(e,-2);8===n&&(n=9);const o=new Xa;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+3-1)/3),o.window=new Yi(2*o.w_size),o.head=new Zi(o.hash_size),o.prev=new Zi(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new Yi(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,function(e){const t=function(e){let t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=2,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?42:113,e.adler=2===t.wrap?0:1,t.last_flush=0,function(e){Ba||(function(){let e,t,r,n,i;const a=Array(16);for(r=0,n=0;n<28;n++)for(ua[n]=r,e=0;e<1<<ta[n];e++)ca[r++]=n;for(ca[r-1]=n,i=0,n=0;n<16;n++)for(fa[n]=i,e=0;e<1<<ra[n];e++)oa[i++]=n;for(i>>=7;n<30;n++)for(fa[n]=i<<7,e=0;e<1<<ra[n]-7;e++)oa[256+i++]=n;for(t=0;t<=15;t++)a[t]=0;for(e=0;e<=143;)aa[2*e+1]=8,e++,a[8]++;for(;e<=255;)aa[2*e+1]=9,e++,a[9]++;for(;e<=279;)aa[2*e+1]=7,e++,a[7]++;for(;e<=287;)aa[2*e+1]=8,e++,a[8]++;for(_a(aa,287,a),e=0;e<30;e++)sa[2*e+1]=5,sa[2*e]=wa(e,5);la=new ha(aa,ta,257,286,15),da=new ha(sa,ra,0,30,15),pa=new ha([],na,0,19,7)}(),Ba=!0),e.l_desc=new ya(e.dyn_ltree,la),e.d_desc=new ya(e.dyn_dtree,da),e.bl_desc=new ya(e.bl_tree,pa),e.bi_buf=0,e.bi_valid=0,ka(e)}(t),0):Oa(e,-2)}(e);return 0===t&&function(e){e.window_size=2*e.w_size,ja(e.head),e.max_lazy_match=Za[e.level].max_lazy,e.good_match=Za[e.level].good_length,e.nice_match=Za[e.level].nice_length,e.max_chain_length=Za[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=2,e.match_available=0,e.ins_h=0}(e.state),t}(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(0!==i)throw Error(Ka[i]);if(t.header&&(r=this.strm,n=t.header,r&&r.state&&(2!==r.state.wrap||(r.state.gzhead=n))),t.dictionary){let e;if(e="string"==typeof t.dictionary?es(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,0!==(i=function(e,t){let r,n,i,a,s,o,c,u,f=t.length;if(!e||!e.state)return-2;if(r=e.state,a=r.wrap,2===a||1===a&&42!==r.status||r.lookahead)return-2;for(1===a&&(e.adler=Ia(e.adler,t,f,0)),r.wrap=0,f>=r.w_size&&(0===a&&(ja(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new Yi(r.w_size),Qi(u,t,f-r.w_size,r.w_size,0),t=u,f=r.w_size),s=e.avail_in,o=e.next_in,c=e.input,e.avail_in=f,e.next_in=0,e.input=t,$a(r);r.lookahead>=3;){n=r.strstart,i=r.lookahead-2;do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+3-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=2,$a(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=2,r.match_available=0,e.next_in=o,e.input=c,e.avail_in=s,r.wrap=a,0}(this.strm,e)))throw Error(Ka[i]);this._dict_set=!0}}push(e,t){const{strm:r,options:{chunkSize:n}}=this;var i,a;if(this.ended)return!1;a=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=es(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new Yi(n),r.next_out=0,r.avail_out=n),1!==(i=Ja(r,a))&&0!==i)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||4!==a&&2!==a)||this.onData($i(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&1!==i);return 4===a?(i=function(e){let t;return e&&e.state?(t=e.state.status,42!==t&&69!==t&&73!==t&&91!==t&&103!==t&&113!==t&&666!==t?Oa(e,-2):(e.state=null,113===t?Oa(e,-3):0)):-2}(this.strm),this.onEnd(i),this.ended=!0,0===i):2!==a||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=Ji(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}function ns(e,t){let r,n,i,a,s,o,c,u,f,h;const l=e.state;r=e.next_in;const d=e.input,p=r+(e.avail_in-5);n=e.next_out;const y=e.output,b=n-(t-e.avail_out),g=n+(e.avail_out-257),m=l.dmax,v=l.wsize,w=l.whave,_=l.wnext,k=l.window;i=l.hold,a=l.bits;const A=l.lencode,S=l.distcode,E=(1<<l.lenbits)-1,x=(1<<l.distbits)-1;e:do{a<15&&(i+=d[r++]<<a,a+=8,i+=d[r++]<<a,a+=8),s=A[i&E];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,0===o)y[n++]=65535&s;else{if(!(16&o)){if(0==(64&o)){s=A[(65535&s)+(i&(1<<o)-1)];continue t}if(32&o){l.mode=12;break e}e.msg="invalid literal/length code",l.mode=30;break e}c=65535&s,o&=15,o&&(a<o&&(i+=d[r++]<<a,a+=8),c+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=d[r++]<<a,a+=8,i+=d[r++]<<a,a+=8),s=S[i&x];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,!(16&o)){if(0==(64&o)){s=S[(65535&s)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",l.mode=30;break e}if(u=65535&s,o&=15,a<o&&(i+=d[r++]<<a,a+=8,a<o&&(i+=d[r++]<<a,a+=8)),u+=i&(1<<o)-1,u>m){e.msg="invalid distance too far back",l.mode=30;break e}if(i>>>=o,a-=o,o=n-b,u>o){if(o=u-o,o>w&&l.sane){e.msg="invalid distance too far back",l.mode=30;break e}if(f=0,h=k,0===_){if(f+=v-o,o<c){c-=o;do{y[n++]=k[f++]}while(--o);f=n-u,h=y}}else if(_<o){if(f+=v+_-o,o-=_,o<c){c-=o;do{y[n++]=k[f++]}while(--o);if(f=0,_<c){o=_,c-=o;do{y[n++]=k[f++]}while(--o);f=n-u,h=y}}}else if(f+=_-o,o<c){c-=o;do{y[n++]=k[f++]}while(--o);f=n-u,h=y}for(;c>2;)y[n++]=h[f++],y[n++]=h[f++],y[n++]=h[f++],c-=3;c&&(y[n++]=h[f++],c>1&&(y[n++]=h[f++]))}else{f=n-u;do{y[n++]=y[f++],y[n++]=y[f++],y[n++]=y[f++],c-=3}while(c>2);c&&(y[n++]=y[f++],c>1&&(y[n++]=y[f++]))}break}}break}}while(r<p&&n<g);c=a>>3,r-=c,a-=c<<3,i&=(1<<a)-1,e.next_in=r,e.next_out=n,e.avail_in=r<p?p-r+5:5-(r-p),e.avail_out=n<g?g-n+257:257-(n-g),l.hold=i,l.bits=a}const is=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],as=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],ss=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],os=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function cs(e,t,r,n,i,a,s,o){const c=o.bits;let u,f,h,l,d,p=0,y=0,b=0,g=0,m=0,v=0,w=0,_=0,k=0,A=0,S=null,E=0;const x=new Zi(16),P=new Zi(16);let C,M,B,R=null,U=0;for(p=0;p<=15;p++)x[p]=0;for(y=0;y<n;y++)x[t[r+y]]++;for(m=c,g=15;g>=1&&0===x[g];g--);if(m>g&&(m=g),0===g)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(b=1;b<g&&0===x[b];b++);for(m<b&&(m=b),_=1,p=1;p<=15;p++)if(_<<=1,_-=x[p],_<0)return-1;if(_>0&&(0===e||1!==g))return-1;for(P[1]=0,p=1;p<15;p++)P[p+1]=P[p]+x[p];for(y=0;y<n;y++)0!==t[r+y]&&(s[P[t[r+y]]++]=y);0===e?(S=R=s,d=19):1===e?(S=is,E-=257,R=as,U-=257,d=256):(S=ss,R=os,d=-1),A=0,y=0,p=b,l=a,v=m,w=0,h=-1,k=1<<m;const I=k-1;if(1===e&&k>852||2===e&&k>592)return 1;for(;;){C=p-w,s[y]<d?(M=0,B=s[y]):s[y]>d?(M=R[U+s[y]],B=S[E+s[y]]):(M=96,B=0),u=1<<p-w,f=1<<v,b=f;do{f-=u,i[l+(A>>w)+f]=C<<24|M<<16|B|0}while(0!==f);for(u=1<<p-1;A&u;)u>>=1;if(0!==u?(A&=u-1,A+=u):A=0,y++,0==--x[p]){if(p===g)break;p=t[r+s[y]]}if(p>m&&(A&I)!==h){for(0===w&&(w=m),l+=b,v=p-w,_=1<<v;v+w<g&&(_-=x[v+w],!(_<=0));)v++,_<<=1;if(k+=1<<v,1===e&&k>852||2===e&&k>592)return 1;h=A&I,i[h]=m<<24|v<<16|l-a|0}}return 0!==A&&(i[l+A]=p-w<<24|64<<16|0),o.bits=m,0}function us(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class fs{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Zi(320),this.work=new Zi(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}let hs,ls,ds=!0;function ps(e){if(ds){let t;for(hs=new Xi(512),ls=new Xi(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(cs(1,e.lens,0,288,hs,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;cs(2,e.lens,0,32,ls,0,e.work,{bits:5}),ds=!1}e.lencode=hs,e.lenbits=9,e.distcode=ls,e.distbits=5}function ys(e,t,r,n){let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new Yi(a.wsize)),n>=a.wsize?(Qi(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),Qi(a.window,t,r-n,i,a.wnext),(n-=i)?(Qi(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function bs(e,t){let r,n,i,a,s,o,c,u,f,h,l,d,p,y,b,g,m,v,w,_,k,A,S,E,x=0,P=new Yi(4);const C=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return-2;r=e.state,12===r.mode&&(r.mode=13),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,f=r.bits,h=o,l=c,A=0;e:for(;;)switch(r.mode){case 1:if(0===r.wrap){r.mode=13;break}for(;f<16;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(2&r.wrap&&35615===u){r.check=0,P[0]=255&u,P[1]=u>>>8&255,r.check=Da(r.check,P,2,0),u=0,f=0,r.mode=2;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=30;break}if(8!=(15&u)){e.msg="unknown compression method",r.mode=30;break}if(u>>>=4,f-=4,k=8+(15&u),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=30;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?10:12,u=0,f=0;break;case 2:for(;f<16;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(r.flags=u,8!=(255&r.flags)){e.msg="unknown compression method",r.mode=30;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=30;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Da(r.check,P,2,0)),u=0,f=0,r.mode=3;case 3:for(;f<32;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.head&&(r.head.time=u),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,P[2]=u>>>16&255,P[3]=u>>>24&255,r.check=Da(r.check,P,4,0)),u=0,f=0,r.mode=4;case 4:for(;f<16;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Da(r.check,P,2,0)),u=0,f=0,r.mode=5;case 5:if(1024&r.flags){for(;f<16;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(P[0]=255&u,P[1]=u>>>8&255,r.check=Da(r.check,P,2,0)),u=0,f=0}else r.head&&(r.head.extra=null);r.mode=6;case 6:if(1024&r.flags&&(d=r.length,d>o&&(d=o),d&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=Array(r.head.extra_len)),Qi(r.head.extra,n,a,d,k)),512&r.flags&&(r.check=Da(r.check,n,d,a)),o-=d,a+=d,r.length-=d),r.length))break e;r.length=0,r.mode=7;case 7:if(2048&r.flags){if(0===o)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=Da(r.check,n,d,a)),o-=d,a+=d,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=8;case 8:if(4096&r.flags){if(0===o)break e;d=0;do{k=n[a+d++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&d<o);if(512&r.flags&&(r.check=Da(r.check,n,d,a)),o-=d,a+=d,k)break e}else r.head&&(r.head.comment=null);r.mode=9;case 9:if(512&r.flags){for(;f<16;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=30;break}u=0,f=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=12;break;case 10:for(;f<32;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}e.adler=r.check=us(u),u=0,f=0,r.mode=11;case 11:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,2;e.adler=r.check=1,r.mode=12;case 12:if(5===t||6===t)break e;case 13:if(r.last){u>>>=7&f,f-=7&f,r.mode=27;break}for(;f<3;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}switch(r.last=1&u,u>>>=1,f-=1,3&u){case 0:r.mode=14;break;case 1:if(ps(r),r.mode=20,6===t){u>>>=2,f-=2;break e}break;case 2:r.mode=17;break;case 3:e.msg="invalid block type",r.mode=30}u>>>=2,f-=2;break;case 14:for(u>>>=7&f,f-=7&f;f<32;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=30;break}if(r.length=65535&u,u=0,f=0,r.mode=15,6===t)break e;case 15:r.mode=16;case 16:if(d=r.length,d){if(d>o&&(d=o),d>c&&(d=c),0===d)break e;Qi(i,n,a,d,s),o-=d,a+=d,c-=d,s+=d,r.length-=d;break}r.mode=12;break;case 17:for(;f<14;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(r.nlen=257+(31&u),u>>>=5,f-=5,r.ndist=1+(31&u),u>>>=5,f-=5,r.ncode=4+(15&u),u>>>=4,f-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=30;break}r.have=0,r.mode=18;case 18:for(;r.have<r.ncode;){for(;f<3;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.lens[C[r.have++]]=7&u,u>>>=3,f-=3}for(;r.have<19;)r.lens[C[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,S={bits:r.lenbits},A=cs(0,r.lens,0,19,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid code lengths set",r.mode=30;break}r.have=0,r.mode=19;case 19:for(;r.have<r.nlen+r.ndist;){for(;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=f);){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(m<16)u>>>=b,f-=b,r.lens[r.have++]=m;else{if(16===m){for(E=b+2;f<E;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(u>>>=b,f-=b,0===r.have){e.msg="invalid bit length repeat",r.mode=30;break}k=r.lens[r.have-1],d=3+(3&u),u>>>=2,f-=2}else if(17===m){for(E=b+3;f<E;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}u>>>=b,f-=b,k=0,d=3+(7&u),u>>>=3,f-=3}else{for(E=b+7;f<E;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}u>>>=b,f-=b,k=0,d=11+(127&u),u>>>=7,f-=7}if(r.have+d>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=30;break}for(;d--;)r.lens[r.have++]=k}}if(30===r.mode)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=30;break}if(r.lenbits=9,S={bits:r.lenbits},A=cs(1,r.lens,0,r.nlen,r.lencode,0,r.work,S),r.lenbits=S.bits,A){e.msg="invalid literal/lengths set",r.mode=30;break}if(r.distbits=6,r.distcode=r.distdyn,S={bits:r.distbits},A=cs(2,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,S),r.distbits=S.bits,A){e.msg="invalid distances set",r.mode=30;break}if(r.mode=20,6===t)break e;case 20:r.mode=21;case 21:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,ns(e,l),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,f=r.bits,12===r.mode&&(r.back=-1);break}for(r.back=0;x=r.lencode[u&(1<<r.lenbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=f);){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(g&&0==(240&g)){for(v=b,w=g,_=m;x=r.lencode[_+((u&(1<<v+w)-1)>>v)],b=x>>>24,g=x>>>16&255,m=65535&x,!(v+b<=f);){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}u>>>=v,f-=v,r.back+=v}if(u>>>=b,f-=b,r.back+=b,r.length=m,0===g){r.mode=26;break}if(32&g){r.back=-1,r.mode=12;break}if(64&g){e.msg="invalid literal/length code",r.mode=30;break}r.extra=15&g,r.mode=22;case 22:if(r.extra){for(E=r.extra;f<E;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=23;case 23:for(;x=r.distcode[u&(1<<r.distbits)-1],b=x>>>24,g=x>>>16&255,m=65535&x,!(b<=f);){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(0==(240&g)){for(v=b,w=g,_=m;x=r.distcode[_+((u&(1<<v+w)-1)>>v)],b=x>>>24,g=x>>>16&255,m=65535&x,!(v+b<=f);){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}u>>>=v,f-=v,r.back+=v}if(u>>>=b,f-=b,r.back+=b,64&g){e.msg="invalid distance code",r.mode=30;break}r.offset=m,r.extra=15&g,r.mode=24;case 24:if(r.extra){for(E=r.extra;f<E;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,f-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=30;break}r.mode=25;case 25:if(0===c)break e;if(d=l-c,r.offset>d){if(d=r.offset-d,d>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=30;break}d>r.wnext?(d-=r.wnext,p=r.wsize-d):p=r.wnext-d,d>r.length&&(d=r.length),y=r.window}else y=i,p=s-r.offset,d=r.length;d>c&&(d=c),c-=d,r.length-=d;do{i[s++]=y[p++]}while(--d);0===r.length&&(r.mode=21);break;case 26:if(0===c)break e;i[s++]=r.length,c--,r.mode=21;break;case 27:if(r.wrap){for(;f<32;){if(0===o)break e;o--,u|=n[a++]<<f,f+=8}if(l-=c,e.total_out+=l,r.total+=l,l&&(e.adler=r.check=r.flags?Da(r.check,i,l,s-l):Ia(r.check,i,l,s-l)),l=c,(r.flags?u:us(u))!==r.check){e.msg="incorrect data check",r.mode=30;break}u=0,f=0}r.mode=28;case 28:if(r.wrap&&r.flags){for(;f<32;){if(0===o)break e;o--,u+=n[a++]<<f,f+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=30;break}u=0,f=0}r.mode=29;case 29:A=1;break e;case 30:A=-3;break e;default:return-2}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=f,(r.wsize||l!==e.avail_out&&r.mode<30&&(r.mode<27||4!==t))&&ys(e,e.output,e.next_out,l-e.avail_out),h-=e.avail_in,l-=e.avail_out,e.total_in+=h,e.total_out+=l,r.total+=l,r.wrap&&l&&(e.adler=r.check=r.flags?Da(r.check,i,l,e.next_out-l):Ia(r.check,i,l,e.next_out-l)),e.data_type=r.bits+(r.last?64:0)+(12===r.mode?128:0)+(20===r.mode||15===r.mode?256:0),(0===h&&0===l||4===t)&&0===A&&(A=-5),A}function gs(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,0!==n.wrap&&11!==n.mode?-2:11===n.mode&&(i=1,i=Ia(i,t,r,0),i!==n.check)?-3:(ys(e,t,r,r),n.havedict=1,0)):-2}class ms{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class vs{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ts,this.strm.avail_out=0;let r=function(e,t){let r,n;return e?(n=new fs,e.state=n,n.window=null,r=function(e,t){let r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?-2:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,function(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(e){let t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=1,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Xi(852),t.distcode=t.distdyn=new Xi(592),t.sane=1,t.back=-1,0):-2}(e)):-2}(e))):-2}(e,t),0!==r&&(e.state=null),r):-2}(this.strm,t.windowBits);if(0!==r)throw Error(Ka[r]);if(this.header=new ms,function(e,t){let r;e&&e.state&&(r=e.state,0==(2&r.wrap)||(r.head=t,t.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=es(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=gs(this.strm,t.dictionary),0!==r)))throw Error(Ka[r])}push(e,t){const{strm:r,options:{chunkSize:n,dictionary:i}}=this;let a,s,o=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?4:0,"string"==typeof e?r.input=function(e){const t=new Yi(e.length);for(let r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new Yi(n),r.next_out=0,r.avail_out=n),a=bs(r,0),2===a&&i&&(a=gs(this.strm,i)),-5===a&&!0===o&&(a=0,o=!1),1!==a&&0!==a)return this.onEnd(a),this.ended=!0,!1;r.next_out&&(0!==r.avail_out&&1!==a&&(0!==r.avail_in||4!==s&&2!==s)||this.onData($i(r.output,r.next_out))),0===r.avail_in&&0===r.avail_out&&(o=!0)}while((r.avail_in>0||0===r.avail_out)&&1!==a);return 1===a&&(s=4),4===s?(a=function(e){if(!e||!e.state)return-2;const t=e.state;return t.window&&(t.window=null),e.state=null,0}(this.strm),this.onEnd(a),this.ended=!0,0===a):2!==s||(this.onEnd(0),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){0===e&&(this.result=Ji(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var ws=[0,1,3,7,15,31,63,127,255],_s=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};_s.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},_s.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=ws[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&ws[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},_s.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},_s.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var ks=_s,As=function(){};As.prototype.readByte=function(){throw Error("abstract method readByte() not implemented")},As.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;e[t++]=i,n++}return n},As.prototype.seek=function(e){throw Error("abstract method seek() not implemented")},As.prototype.writeByte=function(e){throw Error("abstract method readByte() not implemented")},As.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},As.prototype.flush=function(){};var Ss,Es=As,xs=(Ss=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^Ss[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^Ss[255&(e>>>24^t)]}}),Ps=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},Cs=-5,Ms={"-1":"Bad file checksum","-2":"Not bzip data","-3":"Unexpected input EOF","-4":"Unexpected output EOF","-5":"Data error","-6":"Out of memory","-7":"Obsolete (pre 0.9.5) bzip format not supported."},Bs=function(e,t){var r=Ms[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},Rs=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};Rs.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new xs,!0):(this.writeCount=-1,!1)},Rs.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||Bs(-2,"bad magic");var n=r[3]-48;(n<1||n>9)&&Bs(-2,"level out of range"),this.reader=new ks(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},Rs.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&Bs(-2),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Bs(-7);var a=n.read(24);a>this.dbufSize&&Bs(Cs,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(s&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var f=n.read(3);(f<2||f>6)&&Bs(Cs);var h=n.read(15);0===h&&Bs(Cs);var l=new Uint8Array(256);for(e=0;e<f;e++)l[e]=e;var d=new Uint8Array(h);for(e=0;e<h;e++){for(t=0;n.read(1);t++)t>=f&&Bs(Cs);d[e]=Ps(l,t)}var p,y=c+2,b=[];for(t=0;t<f;t++){var g,m,v=new Uint8Array(y),w=new Uint16Array(21);for(s=n.read(5),e=0;e<y;e++){for(;(s<1||s>20)&&Bs(Cs),n.read(1);)n.read(1)?s--:s++;v[e]=s}for(g=m=v[0],e=1;e<y;e++)v[e]>m?m=v[e]:v[e]<g&&(g=v[e]);p={},b.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=g,p.maxLen=m;var _=0;for(e=g;e<=m;e++)for(w[e]=p.limit[e]=0,s=0;s<y;s++)v[s]===e&&(p.permute[_++]=s);for(e=0;e<y;e++)w[v[e]]++;for(_=s=0,e=g;e<m;e++)_+=w[e],p.limit[e]=_-1,_<<=1,s+=w[e],p.base[e+1]=_-s;p.limit[m+1]=Number.MAX_VALUE,p.limit[m]=_+w[m]-1,p.base[g]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)l[e]=e;var A,S=0,E=0,x=0,P=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,x>=h&&Bs(Cs),p=b[d[x++]]),e=p.minLen,t=n.read(e);e>p.maxLen&&Bs(Cs),!(t<=p.limit[e]);e++)t=t<<1|n.read(1);((t-=p.base[e])<0||t>=258)&&Bs(Cs);var C=p.permute[t];if(0!==C&&1!==C){if(S)for(S=0,E+s>this.dbufSize&&Bs(Cs),k[A=o[l[0]]]+=s;s--;)P[E++]=A;if(C>c)break;E>=this.dbufSize&&Bs(Cs),k[A=o[A=Ps(l,e=C-1)]]++,P[E++]=A}else S||(S=1,s=0),s+=0===C?S:2*S,S<<=1}for((a<0||a>=E)&&Bs(Cs),t=0,e=0;e<256;e++)r=t+k[e],k[e]=t,t=r;for(e=0;e<E;e++)P[k[A=255&P[e]]]|=e<<8,k[A]++;var M=0,B=0,R=0;return E&&(B=255&(M=P[a]),M>>=8,R=-1),this.writePos=M,this.writeCurrent=B,this.writeCount=E,this.writeRun=R,!0},Rs.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(s=a[s]),s>>=8,3==u++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&Bs(Cs,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Us=function(e,t,r){for(var n=function(e){if("readByte"in e)return e;var t=new Es;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t}(e),i=function(e){var t=new Es,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t}(t),a=new Rs(n,i);!("eof"in n)||!n.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Bs(Cs,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in n)||n.eof())break;a._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class Is{static get tag(){return ae.packet.literalData}constructor(e=new Date){this.format=ae.literal.utf8,this.date=Z.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=ae.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||Z.isStream(this.text))&&(this.text=Z.decodeUTF8(Z.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=Z.canonicalizeEOL(Z.encodeUTF8(this.text))),e?q(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await F(e,(async e=>{const t=await e.readByte(),r=await e.readByte();this.filename=Z.decodeUTF8(await e.readBytes(r)),this.date=Z.readDate(await e.readBytes(4));let n=e.remainder();u(n)&&(n=await H(n)),this.setBytes(n,t)}))}writeHeader(){const e=Z.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),n=Z.writeDate(this.date);return Z.concatUint8Array([r,t,e,n])}write(){const e=this.writeHeader(),t=this.getBytes();return Z.concat([e,t])}}const Ts=Symbol("verified"),Ds=new Set([ae.signatureSubpacket.issuer,ae.signatureSubpacket.issuerFingerprint,ae.signatureSubpacket.embeddedSignature]);class Ks{static get tag(){return ae.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new be,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Ts]=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new _n(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),!this.created)throw Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,this.params=Wi.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(t,e.length))}writeParams(){return this.params instanceof Promise?V((async()=>Wi.serializeParams(this.publicKeyAlgorithm,await this.params))):Wi.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),Z.concat(e)}async sign(e,t,r=new Date,n=!1){5===e.version?this.version=5:this.version=4;const i=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=Z.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),i.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=Z.concat(i);const a=this.toHash(this.signatureType,t,n),s=await this.hash(this.signatureType,t,a,n);this.signedHashValue=W(L(s),0,2);const o=async()=>Wi.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,a,await H(s));Z.isStream(s)?this.params=o():(this.params=await o(),this[Ts]=!0)}writeHashedSubPackets(){const e=ae.signatureSubpacket,t=[];let r;if(null===this.created)throw Error("Missing signature creation time");t.push(Os(e.signatureCreationTime,Z.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(Os(e.signatureExpirationTime,Z.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(Os(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(r=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(Os(e.trustSignature,r))),null!==this.regularExpression&&t.push(Os(e.regularExpression,this.regularExpression)),null!==this.revocable&&t.push(Os(e.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(Os(e.keyExpirationTime,Z.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(Os(e.preferredSymmetricAlgorithms,r))),null!==this.revocationKeyClass&&(r=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),r=Z.concat([r,this.revocationKeyFingerprint]),t.push(Os(e.revocationKey,r))),this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(Os(e.issuer,this.issuerKeyID.write())),this.rawNotations.forEach((([{name:n,value:i,humanReadable:a}])=>{r=[new Uint8Array([a?128:0,0,0,0])],r.push(Z.writeNumber(n.length,2)),r.push(Z.writeNumber(i.length,2)),r.push(Z.stringToUint8Array(n)),r.push(i),r=Z.concat(r),t.push(Os(e.notationData,r))})),null!==this.preferredHashAlgorithms&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(Os(e.preferredHashAlgorithms,r))),null!==this.preferredCompressionAlgorithms&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(Os(e.preferredCompressionAlgorithms,r))),null!==this.keyServerPreferences&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.keyServerPreferences)),t.push(Os(e.keyServerPreferences,r))),null!==this.preferredKeyServer&&t.push(Os(e.preferredKeyServer,Z.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(Os(e.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(Os(e.policyURI,Z.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.keyFlags)),t.push(Os(e.keyFlags,r))),null!==this.signersUserID&&t.push(Os(e.signersUserID,Z.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(r=Z.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(Os(e.reasonForRevocation,r))),null!==this.features&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.features)),t.push(Os(e.features,r))),null!==this.signatureTargetPublicKeyAlgorithm&&(r=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],r.push(Z.stringToUint8Array(this.signatureTargetHash)),r=Z.concat(r),t.push(Os(e.signatureTarget,r))),null!==this.embeddedSignature&&t.push(Os(e.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=Z.concat(r),t.push(Os(e.issuerFingerprint,r))),null!==this.preferredAEADAlgorithms&&(r=Z.stringToUint8Array(Z.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(Os(e.preferredAEADAlgorithms,r)));const n=Z.concat(t),i=Z.writeNumber(n.length,2);return Z.concat([i,n])}writeUnhashedSubPackets(){const e=[];this.unhashedSubpackets.forEach((t=>{e.push(yn(t.length)),e.push(t)}));const t=Z.concat(e),r=Z.writeNumber(t.length,2);return Z.concat([r,t])}readSubPacket(e,t=!0){let r=0;const n=128&e[r],i=127&e[r];if(t||(this.unhashedSubpackets.push(e.subarray(r,e.length)),Ds.has(i)))switch(r++,i){case ae.signatureSubpacket.signatureCreationTime:this.created=Z.readDate(e.subarray(r,e.length));break;case ae.signatureSubpacket.signatureExpirationTime:{const t=Z.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case ae.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case ae.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case ae.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case ae.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case ae.signatureSubpacket.keyExpirationTime:{const t=Z.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case ae.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case ae.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(r,e.length));break;case ae.signatureSubpacket.notationData:{const t=!!(128&e[r]);r+=4;const i=Z.readNumber(e.subarray(r,r+2));r+=2;const a=Z.readNumber(e.subarray(r,r+2));r+=2;const s=Z.uint8ArrayToString(e.subarray(r,r+i)),o=e.subarray(r+i,r+i+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:n}),t&&(this.notations[s]=Z.uint8ArrayToString(o));break}case ae.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=Z.uint8ArrayToString(e.subarray(r,e.length));break;case ae.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case ae.signatureSubpacket.policyURI:this.policyURI=Z.uint8ArrayToString(e.subarray(r,e.length));break;case ae.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.signersUserID:this.signersUserID=Z.uint8ArrayToString(e.subarray(r,e.length));break;case ae.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=Z.uint8ArrayToString(e.subarray(r,e.length));break;case ae.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case ae.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];const t=Wi.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=Z.uint8ArrayToString(e.subarray(r,r+t));break}case ae.signatureSubpacket.embeddedSignature:this.embeddedSignature=new Ks,this.embeddedSignature.read(e.subarray(r,e.length));break;case ae.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case ae.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;default:{const e=Error("Unknown signature subpacket type "+i);if(n)throw e;Z.printDebug(e)}}}readSubPackets(e,t=!0,r){const n=Z.readNumber(e.subarray(0,2));let i=2;for(;i<2+n;){const n=pn(e.subarray(i,e.length));i+=n.offset,this.readSubPacket(e.subarray(i,i+n.len),t,r),i+=n.len}return i}toSign(e,t){const r=ae.signature;switch(e){case r.binary:return null!==t.text?Z.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{const e=t.getBytes(!0);return Z.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}const i=e.write();return Z.concat([this.toSign(r.key,t),new Uint8Array([n]),Z.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return Z.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw Error("Not implemented");default:throw Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return z(L(this.signatureData),(e=>{r+=e.length}),(()=>{const n=[];return 5!==this.version||this.signatureType!==ae.signature.binary&&this.signatureType!==ae.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(Z.writeNumber(r,4)),Z.concat(n)}))}toHash(e,t,r=!1){const n=this.toSign(e,t);return Z.concat([n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){return r||(r=this.toHash(e,t,n)),Wi.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,n=new Date,i=!1,a=se){if(!this.issuerKeyID.equals(e.getKeyID()))throw Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const s=t===ae.signature.binary||t===ae.signature.text;if(!this[Ts]||s){let n,a;if(this.hashed?a=await this.hashed:(n=this.toHash(t,r,i),a=await this.hash(t,r,n)),a=await H(a),this.signedHashValue[0]!==a[0]||this.signedHashValue[1]!==a[1])throw Error("Signed digest did not match");if(this.params=await this.params,this[Ts]=await Wi.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,n,a),!this[Ts])throw Error("Signature verification failed")}const o=Z.normalizeDate(n);if(o&&this.created>o)throw Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw Error("Insecure hash algorithm: "+ae.read(ae.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[ae.signature.binary,ae.signature.text].includes(this.signatureType))throw Error("Insecure message hash algorithm: "+ae.read(ae.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach((({name:e,critical:t})=>{if(t&&a.knownNotations.indexOf(e)<0)throw Error("Unknown critical notation: "+e)})),null!==this.revocationKeyClass)throw Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const t=Z.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function Os(e,t){const r=[];return r.push(yn(t.length+1)),r.push(new Uint8Array([e])),r.push(t),Z.concat(r)}class zs{static get tag(){return ae.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new _n(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.issuerKeyID=new be,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8,this.flags=e[t++],this}write(){const e=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return Z.concatUint8Array([e,this.issuerKeyID.write(),t])}calculateTrailer(...e){return V((async()=>Ks.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==ae.packet.signature)throw Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function js(e,t){if(!t[e]){let r;try{r=ae.read(ae.packet,e)}catch(t){throw new _n("Unknown packet type with tag: "+e)}throw Error("Packet not allowed in this context: "+r)}return new t[e]}zs.prototype.hash=Ks.prototype.hash,zs.prototype.toHash=Ks.prototype.toHash,zs.prototype.toSign=Ks.prototype.toSign;class Fs extends Array{static async fromBinary(e,t,r=se){const n=new Fs;return await n.read(e,t,r),n}async read(e,t,r=se){this.stream=j(e,(async(e,n)=>{const i=T(n);try{for(;;)if(await i.ready,await wn(e,(async e=>{try{if(e.tag===ae.packet.marker||e.tag===ae.packet.trust)return;const n=js(e.tag,t);n.packets=new Fs,n.fromStream=Z.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(t){const n=!r.ignoreUnsupportedPackets&&t instanceof _n,a=!(r.ignoreMalformedPackets||t instanceof _n);if(n||a||vn(e.tag))await i.abort(t);else{const t=new kn(e.tag,e.packet);await i.write(t)}Z.printDebugError(t)}})))return await i.ready,void await i.close()}catch(e){await i.abort(e)}}));const n=I(this.stream);for(;;){const{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||vn(t.constructor.tag))break}n.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const r=this[t]instanceof kn?this[t].tag:this[t].constructor.tag,n=this[t].write();if(Z.isStream(n)&&vn(this[t].constructor.tag)){let t=[],i=0;const a=512;e.push(gn(r)),e.push(z(n,(e=>{if(t.push(e),i+=e.length,i>=a){const e=Math.min(Math.log(i)/Math.LN2|0,30),r=2**e,n=Z.concat([bn(e)].concat(t));return t=[n.subarray(1+r)],i=t[0].length,n.subarray(0,1+r)}}),(()=>Z.concat([yn(i)].concat(t)))))}else{if(Z.isStream(n)){let t=0;e.push(z(L(n),(e=>{t+=e.length}),(()=>mn(r,t))))}else e.push(mn(r,n.length));e.push(n)}}return Z.concat(e)}filterByTag(...e){const t=new Fs,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],r=this,n=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(n(r[i].constructor.tag))&&t.push(i);return t}}const Ls=Z.constructAllowedPackets([Is,zs,Ks]);class qs{static get tag(){return ae.packet.compressedData}constructor(e=se){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=se){await F(e,(async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),Z.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=se){const t=ae.read(ae.compression,this.algorithm),r=Ys[t];if(!r)throw Error(t+" decompression not supported");this.packets=await Fs.fromBinary(r(this.compressed),Ls,e)}compress(){const e=ae.read(ae.compression,this.algorithm),t=Gs[e];if(!t)throw Error(e+" compression not supported");this.compressed=t(this.packets.write(),this.deflateLevel)}}const Ns=Z.getNodeZlib();function Ws(e){return e}function Hs(e,t,r={}){return function(n){return!Z.isStream(n)||u(n)?V((()=>H(n).then((t=>new Promise(((n,i)=>{e(t,r,((e,t)=>{if(e)return i(e);n(t)}))})))))):m(v(n).pipe(t(r)))}}function $s(e,t={}){return function(r){const n=new e(t);return z(r,(e=>{if(e.length)return n.push(e,2),n.result}),(()=>{if(e===rs)return n.push([],4),n.result}))}}function Vs(e){return function(t){return V((async()=>e(await H(t))))}}const Gs=Ns?{zip:(e,t)=>Hs(Ns.deflateRaw,Ns.createDeflateRaw,{level:t})(e),zlib:(e,t)=>Hs(Ns.deflate,Ns.createDeflate,{level:t})(e)}:{zip:(e,t)=>$s(rs,{raw:!0,level:t})(e),zlib:(e,t)=>$s(rs,{level:t})(e)},Ys=Ns?{uncompressed:Ws,zip:Hs(Ns.inflateRaw,Ns.createInflateRaw),zlib:Hs(Ns.inflate,Ns.createInflate),bzip2:Vs(Us)}:{uncompressed:Ws,zip:$s(vs,{raw:!0}),zlib:$s(vs),bzip2:Vs(Us)},Zs=Z.constructAllowedPackets([Is,qs,zs,Ks]);class Xs{static get tag(){return ae.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await F(e,(async e=>{const t=await e.readByte();if(1!==t)throw new _n(`Version ${t} of the SEIP packet is unsupported.`);this.encrypted=e.remainder()}))}write(){return Z.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,t,r=se){const{blockSize:n}=Wi.getCipher(e);let i=this.packets.write();u(i)&&(i=await H(i));const a=await Wi.getPrefixRandom(e),s=new Uint8Array([211,20]),o=Z.concat([a,i,s]),c=await Wi.hash.sha1(q(o)),f=Z.concat([o,c]);return this.encrypted=await Wi.mode.cfb.encrypt(e,t,f,new Uint8Array(n),r),!0}async decrypt(e,t,r=se){const{blockSize:n}=Wi.getCipher(e);let i=L(this.encrypted);u(i)&&(i=await H(i));const a=await Wi.mode.cfb.decrypt(e,t,i,new Uint8Array(n)),s=W(q(a),-20),o=W(a,0,-20),c=Promise.all([H(await Wi.hash.sha1(q(o))),H(s)]).then((([e,t])=>{if(!Z.equalsUint8Array(e,t))throw Error("Modification detected.");return new Uint8Array})),f=W(o,n+2);let h=W(f,0,-2);return h=U([h,V((()=>c))]),Z.isStream(i)&&r.allowUnauthenticatedStream||(h=await H(h)),this.packets=await Fs.fromBinary(h,Zs,r),!0}}const Js=Z.constructAllowedPackets([Is,qs,zs,Ks]);class Qs{static get tag(){return ae.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=ae.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await F(e,(async e=>{const t=await e.readByte();if(1!==t)throw new _n(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();const r=Wi.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()}))}write(){return Z.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=se){this.packets=await Fs.fromBinary(await this.crypt("decrypt",t,L(this.encrypted)),Js,r)}async encrypt(e,t,r=se){this.cipherAlgorithm=e;const{ivLength:n}=Wi.getAEADMode(this.aeadAlgorithm);this.iv=await Wi.random.getRandomBytes(n),this.chunkSizeByte=r.aeadChunkSizeByte;const i=this.packets.write();this.encrypted=await this.crypt("encrypt",t,i)}async crypt(e,t,r){const n=Wi.getAEADMode(this.aeadAlgorithm),i=await n(this.cipherAlgorithm,t),a="decrypt"===e?n.tagLength:0,s="encrypt"===e?n.tagLength:0,o=2**(this.chunkSizeByte+6)+a,c=new ArrayBuffer(21),u=new Uint8Array(c,0,13),f=new Uint8Array(c),h=new DataView(c),l=new Uint8Array(c,5,8);u.set([192|Qs.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let d=0,p=Promise.resolve(),y=0,b=0;const g=this.iv;return j(r,(async(t,r)=>{if("array"!==Z.isStream(t)){const e=new P({},{highWaterMark:Z.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:e=>e.length});D(e.readable,r),r=e.writable}const c=I(t),m=T(r);try{for(;;){let t=await c.readBytes(o+a)||new Uint8Array;const r=t.subarray(t.length-a);let v,w;if(t=t.subarray(0,t.length-a),!d||t.length?(c.unshift(r),v=i[e](t,n.getNonce(g,l),u),b+=t.length-a+s):(h.setInt32(17,y),v=i[e](r,n.getNonce(g,l),f),b+=s,w=!0),y+=t.length-a,p=p.then((()=>v)).then((async e=>{await m.ready,await m.write(e),b-=e.length})).catch((e=>m.abort(e))),(w||b>m.desiredSize)&&await p,w){await m.close();break}h.setInt32(9,++d)}}catch(e){await m.abort(e)}}))}}class eo{static get tag(){return ae.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new be,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){if(this.version=e[0],3!==this.version)throw new _n(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=e[9],this.encrypted=Wi.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(10))}write(){const e=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),Wi.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return Z.concatUint8Array(e)}async encrypt(e){const t=Z.concatUint8Array([new Uint8Array([ae.write(ae.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,Z.writeChecksum(this.sessionKey)]),r=ae.write(ae.publicKey,this.publicKeyAlgorithm);this.encrypted=await Wi.publicKeyEncrypt(r,e.publicParams,t,e.getFingerprintBytes())}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw Error("Decryption error");const r=t?Z.concatUint8Array([new Uint8Array([t.sessionKeyAlgorithm]),t.sessionKey,Z.writeChecksum(t.sessionKey)]):null,n=await Wi.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes(),r),i=n[0],a=n.subarray(1,n.length-2),s=n.subarray(n.length-2),o=Z.writeChecksum(a),c=o[0]===s[0]&o[1]===s[1];if(t){const e=c&i===t.sessionKeyAlgorithm&a.length===t.sessionKey.length;this.sessionKeyAlgorithm=Z.selectUint8(e,i,t.sessionKeyAlgorithm),this.sessionKey=Z.selectUint8Array(e,a,t.sessionKey)}else{if(!c||!ae.read(ae.symmetric,i))throw Error("Decryption error");this.sessionKey=a,this.sessionKeyAlgorithm=i}}}class to{constructor(e=se){this.algorithm=ae.hash.sha256,this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.type=ae.read(ae.s2k,e[t++]),this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==Z.uint8ArrayToString(e.subarray(t,t+3)))throw Error("Unknown s2k type.");if(t+=3,1001!==1e3+e[t++])throw Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...Z.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([ae.write(ae.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}return Z.concatUint8Array(e)}async produceKey(e,t){e=Z.encodeUTF8(e);const r=[];let n=0,i=0;for(;n<t;){let t;switch(this.type){case"simple":t=Z.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=Z.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{const r=Z.concatUint8Array([this.salt,e]);let n=r.length;const a=Math.max(this.getCount(),n);t=new Uint8Array(i+a),t.set(r,i);for(let e=i+n;e<a;e+=n,n*=2)t.copyWithin(e,i,e);break}case"gnu":throw Error("GNU s2k type not supported.");default:throw Error("Unknown s2k type.")}const a=await Wi.hash.digest(this.algorithm,t);r.push(a),n+=a.length,i++}return Z.concatUint8Array(r).subarray(0,t)}}class ro{static get tag(){return ae.packet.symEncryptedSessionKey}constructor(e=se){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=ae.symmetric.aes256,this.aeadAlgorithm=ae.write(ae.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new _n(`Version ${this.version} of the SKESK packet is unsupported.`);const r=e[t++];if(5===this.version&&(this.aeadAlgorithm=e[t++]),this.s2k=new to,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version){const r=Wi.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=Z.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(t=Z.concatUint8Array([new Uint8Array([this.version,e]),this.s2k.write()]),null!==this.encrypted&&(t=Z.concatUint8Array([t,this.encrypted]))),t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:n}=Wi.getCipher(t),i=await this.s2k.produceKey(e,n);if(5===this.version){const e=Wi.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|ro.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(t,i);this.sessionKey=await n.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const e=await Wi.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(r));this.sessionKeyAlgorithm=ae.write(ae.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=i}async encrypt(e,t=se){const r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=new to(t),this.s2k.salt=await Wi.random.getRandomBytes(8);const{blockSize:n,keySize:i}=Wi.getCipher(r),a=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=await Wi.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){const e=Wi.getAEADMode(this.aeadAlgorithm);this.iv=await Wi.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|ro.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(r,a);this.encrypted=await n.encrypt(this.sessionKey,this.iv,t)}else{const e=Z.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await Wi.mode.cfb.encrypt(r,a,e,new Uint8Array(n),t)}}}class no{static get tag(){return ae.packet.publicKey}constructor(e=new Date,t=se){this.version=t.v5Keys?5:4,this.created=Z.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new no,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version){this.created=Z.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=e[t++],5===this.version&&(t+=4);const{read:r,publicParams:n}=Wi.parsePublicKeyParams(this.algorithm,e.subarray(t));return this.publicParams=n,t+=r,await this.computeFingerprintAndKeyID(),t}throw new _n(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(Z.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=Wi.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&e.push(Z.writeNumber(t.length,4)),e.push(t),Z.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey();return 5===e?Z.concatUint8Array([new Uint8Array([154]),Z.writeNumber(t.length,4),t]):Z.concatUint8Array([new Uint8Array([153]),Z.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new be,5===this.version)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(5===this.version)this.fingerprint=await Wi.hash.sha256(e);else{if(4!==this.version)throw Error("Unsupported key version");this.fingerprint=await Wi.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return Z.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&Z.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=ae.read(ae.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=Z.uint8ArrayBitLength(t):e.curve=this.publicParams.oid.getName(),e}}no.prototype.readPublicKey=no.prototype.read,no.prototype.writePublicKey=no.prototype.write;const io=Z.constructAllowedPackets([Is,qs,zs,Ks]);class ao{static get tag(){return ae.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=se){if(!r.allowUnauthenticatedMessages)throw Error("Message is not authenticated.");const{blockSize:n}=Wi.getCipher(e),i=await H(L(this.encrypted)),a=await Wi.mode.cfb.decrypt(e,t,i.subarray(n+2),i.subarray(2,n+2));this.packets=await Fs.fromBinary(a,io,r)}async encrypt(e,t,r=se){const n=this.packets.write(),{blockSize:i}=Wi.getCipher(e),a=await Wi.getPrefixRandom(e),s=await Wi.mode.cfb.encrypt(e,t,a,new Uint8Array(i),r),o=await Wi.mode.cfb.encrypt(e,t,n,s.subarray(2),r);this.encrypted=Z.concat([s,o])}}class so{static get tag(){return ae.packet.marker}read(e){return 80===e[0]&&71===e[1]&&80===e[2]}write(){return new Uint8Array([80,71,80])}}class oo extends no{static get tag(){return ae.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new oo,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class co{static get tag(){return ae.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const r=pn(e.subarray(t,e.length));t+=r.offset,this.attributes.push(Z.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(yn(this.attributes[t].length)),e.push(Z.stringToUint8Array(this.attributes[t]));return Z.concatUint8Array(e)}equals(e){return!!(e&&e instanceof co)&&this.attributes.every((function(t,r){return t===e.attributes[r]}))}}class uo extends no{static get tag(){return ae.packet.secretKey}constructor(e=new Date,t=se){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);if(this.s2kUsage=e[t++],5===this.version&&t++,255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){if(this.symmetric=e[t++],253===this.s2kUsage&&(this.aead=e[t++]),this.s2k=new to,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);if(this.s2kUsage&&(this.iv=e.subarray(t,t+Wi.getCipher(this.symmetric).blockSize),t+=this.iv.length),5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const t=this.keyMaterial.subarray(0,-2);if(!Z.equalsUint8Array(Z.writeChecksum(t),this.keyMaterial.subarray(-2)))throw Error("Key checksum mismatch");try{const{privateParams:e}=Wi.parsePrivateKeyParams(this.algorithm,t,this.publicParams);this.privateParams=e}catch(e){if(e instanceof _n)throw e;throw Error("Error reading MPIs")}}}write(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));const t=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(this.symmetric),253===this.s2kUsage&&t.push(this.aead),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=Wi.serializeParams(this.algorithm,this.privateParams)),5===this.version&&e.push(Z.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(Z.writeChecksum(this.keyMaterial))),Z.concatUint8Array(e)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=se){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new to(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=ae.symmetric.aes256)}async encrypt(e,t=se){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key packet is already encrypted");if(!e)throw Error("A non-empty passphrase is required for key encryption.");this.s2k=new to(t),this.s2k.salt=await Wi.random.getRandomBytes(8);const r=Wi.serializeParams(this.algorithm,this.privateParams);this.symmetric=ae.symmetric.aes256;const n=await fo(this.s2k,e,this.symmetric),{blockSize:i}=Wi.getCipher(this.symmetric);if(this.iv=await Wi.random.getRandomBytes(i),t.aeadProtect){this.s2kUsage=253,this.aead=ae.aead.eax;const e=Wi.getAEADMode(this.aead),t=await e(this.symmetric,n);this.keyMaterial=await t.encrypt(r,this.iv.subarray(0,e.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await Wi.mode.cfb.encrypt(this.symmetric,n,Z.concatUint8Array([r,await Wi.hash.sha1(r,t)]),this.iv,t)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw Error("Key packet is already decrypted.");let t,r;if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?Error("Encrypted private key is authenticated using an insecure two-byte hash"):Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await fo(this.s2k,e,this.symmetric),253===this.s2kUsage){const n=Wi.getAEADMode(this.aead),i=await n(this.symmetric,t);try{r=await i.decrypt(this.keyMaterial,this.iv.subarray(0,n.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await Wi.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);const n=await Wi.hash.sha1(r);if(!Z.equalsUint8Array(n,e.subarray(-20)))throw Error("Incorrect key passphrase")}try{const{privateParams:e}=Wi.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw Error("Key is not decrypted");let e;try{e=await Wi.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw Error("Key is invalid")}async generate(e,t){const{privateParams:r,publicParams:n}=await Wi.generateParams(this.algorithm,e,t);this.privateParams=r,this.publicParams=n,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function fo(e,t,r){const{keySize:n}=Wi.getCipher(r);return e.produceKey(t,n)}var ho=it((function(e){!function(t){function r(e){function t(){return Ae<Se}function r(){return Ae}function i(e){Ae=e}function a(){Ae=0,Se=ke.length}function s(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function o(e,t){var r;return null===t?null:((r=s(e)).tokens=t.tokens,r.semantic=t.semantic,r.children.push(t),r)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function u(e){var r;return t()&&e(r=ke[Ae])?(Ae+=1,s("token",r)):null}function f(e){return function(){return o("literal",u((function(t){return t===e})))}}function h(){var e=arguments;return function(){var t,n,a,o;for(o=r(),n=s("and"),t=0;t<e.length;t+=1){if(null===(a=e[t]()))return i(o),null;c(n,a)}return n}}function l(){var e=arguments;return function(){var t,n,a;for(a=r(),t=0;t<e.length;t+=1){if(null!==(n=e[t]()))return n;i(a)}return null}}function d(e){return function(){var t,n;return n=r(),null!==(t=e())?t:(i(n),s("opt"))}}function p(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function y(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function b(e,t){return function(){var n,a,o,u,f;for(u=r(),n=s("star"),o=0,f=void 0===t?0:t;null!==(a=e());)o+=1,c(n,a);return o>=f?n:(i(u),null)}}function g(e){return e.charCodeAt(0)>=128}function m(){return o("cr",f("\r")())}function v(){return o("crlf",h(m,k)())}function w(){return o("dquote",f('"')())}function _(){return o("htab",f("\t")())}function k(){return o("lf",f("\n")())}function A(){return o("sp",f(" ")())}function S(){return o("vchar",u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n})))}function E(){return o("wsp",l(A,_)())}function x(){var e=o("quoted-pair",l(h(f("\\"),l(S,E)),ne)());return null===e?null:(e.semantic=e.semantic[1],e)}function P(){return o("fws",l(ae,h(d(h(b(E),p(v))),b(E,1)))())}function C(){return o("ctext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=39||42<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),te)())}function M(){return o("ccontent",l(C,x,B)())}function B(){return o("comment",h(f("("),b(h(d(P),M)),d(P),f(")"))())}function R(){return o("cfws",l(h(b(h(d(P),B),1),d(P)),P)())}function U(){return o("atext",u((function(t){var r="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(r=r||g(t)),r})))}function I(){return o("atom",h(y(d(R)),b(U,1),y(d(R)))())}function T(){var e,t;return null===(e=o("dot-atom-text",b(U,1)()))||null!==(t=b(h(f("."),b(U,1)))())&&c(e,t),e}function D(){return o("dot-atom",h(p(d(R)),T,p(d(R)))())}function K(){return o("qtext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33===r||35<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),re)())}function O(){return o("qcontent",l(K,x)())}function z(){return o("quoted-string",h(p(d(R)),p(w),b(h(d(y(P)),O)),d(p(P)),p(w),p(d(R)))())}function j(){return o("word",l(I,z)())}function F(){return o("address",l(L,W)())}function L(){return o("mailbox",l(q,Q)())}function q(){return o("name-addr",h(d(H),N)())}function N(){return o("angle-addr",l(h(p(d(R)),f("<"),Q,f(">"),p(d(R))),se)())}function W(){return o("group",h(H,f(":"),d(G),f(";"),p(d(R)))())}function H(){return o("display-name",(null!==(e=o("phrase",l(ie,b(j,1))()))&&(e.semantic=function(e){return e.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(e.semantic)),e));var e}function $(){return o("mailbox-list",l(h(L,b(h(f(","),L))),ue)())}function V(){return o("address-list",l(h(F,b(h(f(","),F))),fe)())}function G(){return o("group-list",l($,p(R),he)())}function Y(){return o("local-part",l(le,D,z)())}function Z(){return o("dtext",l((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=90||94<=r&&r<=126;return e.rfc6532&&(n=n||g(t)),n}))}),pe)())}function X(){return o("domain-literal",h(p(d(R)),f("["),b(h(d(P),Z)),d(P),f("]"),p(d(R)))())}function J(){return o("domain",(t=l(de,D,X)(),e.rejectTLD&&t&&t.semantic&&t.semantic.indexOf(".")<0?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)));var t}function Q(){return o("addr-spec",h(Y,f("@"),J)())}function ee(){return e.strict?null:o("obs-NO-WS-CTL",u((function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t})))}function te(){return e.strict?null:o("obs-ctext",ee())}function re(){return e.strict?null:o("obs-qtext",ee())}function ne(){return e.strict?null:o("obs-qp",h(f("\\"),l(f("\0"),ee,k,m))())}function ie(){return e.strict?null:e.atInDisplayName?o("obs-phrase",h(j,b(l(j,f("."),f("@"),y(R))))()):o("obs-phrase",h(j,b(l(j,f("."),y(R))))())}function ae(){return e.strict?null:o("obs-FWS",b(h(p(d(v)),E),1)())}function se(){return e.strict?null:o("obs-angle-addr",h(p(d(R)),f("<"),oe,Q,f(">"),p(d(R)))())}function oe(){return e.strict?null:o("obs-route",h(ce,f(":"))())}function ce(){return e.strict?null:o("obs-domain-list",h(b(l(p(R),f(","))),f("@"),J,b(h(f(","),p(d(R)),d(h(f("@"),J)))))())}function ue(){return e.strict?null:o("obs-mbox-list",h(b(h(p(d(R)),f(","))),L,b(h(f(","),d(h(L,p(R))))))())}function fe(){return e.strict?null:o("obs-addr-list",h(b(h(p(d(R)),f(","))),F,b(h(f(","),d(h(F,p(R))))))())}function he(){return e.strict?null:o("obs-group-list",h(b(h(p(d(R)),f(",")),1),p(d(R)))())}function le(){return e.strict?null:o("obs-local-part",h(j,b(h(f("."),j)))())}function de(){return e.strict?null:o("obs-domain",h(I,b(h(f("."),I)))())}function pe(){return e.strict?null:o("obs-dtext",l(ee,x)())}function ye(e,t){var r,n,i;if(null==t)return null;for(n=[t];n.length>0;){if((i=n.pop()).name===e)return i;for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r])}return null}function be(e,t){var r,n,i,a,s;if(null==t)return null;for(n=[t],a=[],s={},r=0;r<e.length;r+=1)s[e[r]]=!0;for(;n.length>0;)if((i=n.pop()).name in s)a.push(i);else for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}function ge(t){var r,n,i,a,s;if(null===t)return null;for(r=[],n=be(["group","mailbox"],t),i=0;i<n.length;i+=1)"group"===(a=n[i]).name?r.push(me(a)):"mailbox"===a.name&&r.push(ve(a));return s={ast:t,addresses:r},e.simple&&(s=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(s)),e.oneResult?function(t){return t?!e.partial&&t.addresses.length>1?null:t.addresses&&t.addresses[0]:null}(s):e.simple?s&&s.addresses:s}function me(e){var t,r=ye("display-name",e),n=[],i=be(["mailbox"],e);for(t=0;t<i.length;t+=1)n.push(ve(i[t]));return{node:e,parts:{name:r},type:e.name,name:we(r),addresses:n}}function ve(e){var t=ye("display-name",e),r=ye("addr-spec",e),n=function(e,t){var r,n,i,a;if(null==t)return null;for(n=[t],a=[];n.length>0;)for("cfws"===(i=n.pop()).name&&a.push(i),r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}(0,e),i=be(["comment"],e),a=ye("local-part",r),s=ye("domain",r);return{node:e,parts:{name:t,address:r,local:a,domain:s,comments:n},type:e.name,name:we(t),address:we(r),local:we(a),domain:we(s),comments:_e(i),groupName:we(e.groupName)}}function we(e){return null!=e?e.semantic:null}function _e(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=we(e[r]);return t}var ke,Ae,Se,Ee,xe;if(null===(e=n(e,{})))return null;if(ke=e.input,xe={address:F,"address-list":V,"angle-addr":N,from:function(){return o("from",l($,V)())},group:W,mailbox:L,"mailbox-list":$,"reply-to":function(){return o("reply-to",V())},sender:function(){return o("sender",l(L,F)())}}[e.startAt]||V,!e.strict){if(a(),e.strict=!0,Ee=xe(ke),e.partial||!t())return ge(Ee);e.strict=!1}return a(),Ee=xe(ke),!e.partial&&t()?null:ge(Ee)}function n(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function n(e){return null==e}var i,a;if(r(e))e={input:e};else if(!function(e){return e===Object(e)}(e))return null;if(!r(e.input))return null;if(!t)return null;for(a in i={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})n(e[a])&&(e[a]=n(t[a])?i[a]:t[a]);return e}r.parseOneAddress=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r}()}));class lo{static get tag(){return ae.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(Z.isString(e)||e.name&&!Z.isString(e.name)||e.email&&!Z.isEmailAddress(e.email)||e.comment&&!Z.isString(e.comment))throw Error("Invalid user ID format");const t=new lo;Object.assign(t,e);const r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=se){const r=Z.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw Error("User ID string is too long");try{const{name:e,address:t,comments:n}=ho.parseOneAddress({input:r,atInDisplayName:!0});this.comment=n.replace(/^\(|\)$/g,""),this.name=e,this.email=t}catch(e){}this.userID=r}write(){return Z.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class po extends uo{static get tag(){return ae.packet.secretSubkey}constructor(e=new Date,t=se){super(e,t)}}class yo{static get tag(){return ae.packet.trust}read(){throw new _n("Trust packets are not supported")}write(){throw new _n("Trust packets are not supported")}}const bo=Z.constructAllowedPackets([Ks]);class go{constructor(e){this.packets=e||new Fs}write(){return this.packets.write()}armor(e=se){return ye(ae.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function mo({armoredSignature:e,binarySignature:t,config:r,...n}){r={...se,...r};let i=e||t;if(!i)throw Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!Z.isString(e))throw Error("readSignature: options.armoredSignature must be a string");if(t&&!Z.isUint8Array(t))throw Error("readSignature: options.binarySignature must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){const{type:e,data:t}=await pe(i,r);if(e!==ae.armor.signature)throw Error("Armored text not of type signature");i=t}const s=await Fs.fromBinary(i,bo,r);return new go(s)}async function vo(e,t){const r=new po(e.date,t);return r.packets=null,r.algorithm=ae.write(ae.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve),await r.computeFingerprintAndKeyID(),r}async function wo(e,t){const r=new uo(e.date,t);return r.packets=null,r.algorithm=ae.write(ae.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.config),await r.computeFingerprintAndKeyID(),r}async function _o(e,t,r,n,i=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{(!s||e[c].created>=s.created)&&(await e[c].verify(t,r,n,i,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw Z.wrapError(`Could not find valid ${ae.read(ae.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+" "+r.toLowerCase())),o);return s}function ko(e,t,r=new Date){const n=Z.normalizeDate(r);if(null!==n){const r=Mo(e,t);return!(e.created<=n&&n<r)}return!1}async function Ao(e,t,r,n){const i={};i.key=t,i.bind=e;const a=new Ks;return a.signatureType=ae.signature.subkeyBinding,a.publicKeyAlgorithm=t.algorithm,a.hashAlgorithm=await So(null,e,void 0,void 0,n),r.sign?(a.keyFlags=[ae.keyFlags.signData],a.embeddedSignature=await xo(i,null,e,{signatureType:ae.signature.keyBinding},r.date,void 0,void 0,n)):a.keyFlags=[ae.keyFlags.encryptCommunication|ae.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(t,i,r.date),a}async function So(e,t,r=new Date,n={},i){let a=i.preferredHashAlgorithm,s=a;if(e){const t=await e.getPrimaryUser(r,n,i);t.selfCertification.preferredHashAlgorithms&&([s]=t.selfCertification.preferredHashAlgorithms,a=Wi.hash.getHashByteLength(a)<=Wi.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(t)){case uo.prototype:case no.prototype:case po.prototype:case oo.prototype:switch(t.algorithm){case ae.publicKey.ecdh:case ae.publicKey.ecdsa:case ae.publicKey.eddsa:s=Wi.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return Wi.hash.getHashByteLength(a)<=Wi.hash.getHashByteLength(s)?s:a}async function Eo(e,t=[],r=new Date,n=[],i=se){const a={symmetric:ae.symmetric.aes128,aead:ae.aead.eax,compression:ae.compression.uncompressed}[e],s={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e];return(await Promise.all(t.map((async function(e,t){const a=(await e.getPrimaryUser(r,n[t],i)).selfCertification[o];return!!a&&a.indexOf(s)>=0})))).every(Boolean)?s:a}async function xo(e,t,r,n,i,a,s=!1,o){if(r.isDummy())throw Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw Error("Signing key is not decrypted.");const c=new Ks;return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await So(t,r,i,a,o),await c.sign(r,e,i,s),c}async function Po(e,t,r,n=new Date,i){(e=e[r])&&(t[r].length?await Promise.all(e.map((async function(e){e.isExpired(n)||i&&!await i(e)||t[r].some((function(t){return Z.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[r].push(e)}))):t[r]=e)}async function Co(e,t,r,n,i,a,s=new Date,o){a=a||e;const c=[];return await Promise.all(n.map((async function(e){try{i&&!e.issuerKeyID.equals(i.issuerKeyID)||(await e.verify(a,t,r,o.revocationsExpire?s:null,!1,o),c.push(e.issuerKeyID))}catch(e){}}))),i?(i.revoked=!!c.some((e=>e.equals(i.issuerKeyID)))||i.revoked||!1,i.revoked):c.length>0}function Mo(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function Bo(e,t={}){switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=Z.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=ae.write(ae.curve,e.curve)}catch(e){throw Error("Unknown curve")}e.curve!==ae.curve.ed25519&&e.curve!==ae.curve.curve25519||(e.curve=e.sign?ae.curve.ed25519:ae.curve.curve25519),e.sign?e.algorithm=e.curve===ae.curve.ed25519?ae.publicKey.eddsa:ae.publicKey.ecdsa:e.algorithm=ae.publicKey.ecdh;break;case"rsa":e.algorithm=ae.publicKey.rsaEncryptSign;break;default:throw Error("Unsupported key type "+e.type)}return e}function Ro(e,t){const r=e.algorithm;return r!==ae.publicKey.rsaEncrypt&&r!==ae.publicKey.elgamal&&r!==ae.publicKey.ecdh&&(!t.keyFlags||0!=(t.keyFlags[0]&ae.keyFlags.signData))}function Uo(e,t){const r=e.algorithm;return r!==ae.publicKey.dsa&&r!==ae.publicKey.rsaSign&&r!==ae.publicKey.ecdsa&&r!==ae.publicKey.eddsa&&(!t.keyFlags||0!=(t.keyFlags[0]&ae.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&ae.keyFlags.encryptStorage))}function Io(e,t){return!!t.allowInsecureDecryptionWithSigningKeys||!e.keyFlags||0!=(e.keyFlags[0]&ae.keyFlags.encryptCommunication)||0!=(e.keyFlags[0]&ae.keyFlags.encryptStorage)}function To(e,t){const r=ae.write(ae.publicKey,e.algorithm),n=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw Error(n.algorithm+" keys are considered too weak.");switch(r){case ae.publicKey.rsaEncryptSign:case ae.publicKey.rsaSign:case ae.publicKey.rsaEncrypt:if(n.bits<t.minRSABits)throw Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case ae.publicKey.ecdsa:case ae.publicKey.eddsa:case ae.publicKey.ecdh:if(t.rejectCurves.has(n.curve))throw Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class Do{constructor(e,t){this.userID=e.constructor.tag===ae.packet.userID?e:null,this.userAttribute=e.constructor.tag===ae.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new Fs;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new Do(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n},a=new Do(i.userID||i.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map((async function(e){if(!e.isPrivate())throw Error("Need private key for signing");if(e.hasSameFingerprintAs(n))throw Error("The user's own key can only be used for self-certifications");const a=await e.getSigningKey(void 0,t,void 0,r);return xo(i,e,a.keyPacket,{signatureType:ae.signature.certGeneric,keyFlags:[ae.keyFlags.certifyKeys|ae.keyFlags.signData]},t,void 0,void 0,r)}))),await a.update(this,t,r),a}async isRevoked(e,t,r=new Date,n){const i=this.mainKey.keyPacket;return Co(i,ae.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,n)}async verifyCertificate(e,t,r=new Date,n){const i=this,a=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:o}=e,c=t.filter((e=>e.getKeys(o).length>0));return 0===c.length?null:(await Promise.all(c.map((async t=>{const a=await t.getSigningKey(o,e.created,void 0,n);if(e.revoked||await i.isRevoked(e,a.keyPacket,r,n))throw Error("User certificate is revoked");try{await e.verify(a.keyPacket,ae.signature.certGeneric,s,r,void 0,n)}catch(e){throw Z.wrapError("User certificate is invalid",e)}}))),!0)}async verifyAllCertifications(e,t=new Date,r){const n=this,i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map((async i=>({keyID:i.issuerKeyID,valid:await n.verifyCertificate(i,e,t,r).catch((()=>!1))}))))}async verify(e=new Date,t){if(!this.selfCertifications.length)throw Error("No self-certifications found");const r=this,n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};let a;for(let s=this.selfCertifications.length-1;s>=0;s--)try{const a=this.selfCertifications[s];if(a.revoked||await r.isRevoked(a,void 0,e,t))throw Error("Self-certification is revoked");try{await a.verify(n,ae.signature.certGeneric,i,e,void 0,t)}catch(e){throw Z.wrapError("Self-certification is invalid",e)}return!0}catch(e){a=e}throw a}async update(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};await Po(e,this,"selfCertifications",t,(async function(e){try{return await e.verify(n,ae.signature.certGeneric,i,t,!1,r),!0}catch(e){return!1}})),await Po(e,this,"otherCertifications",t),await Po(e,this,"revocationSignatures",t,(function(e){return Co(n,ae.signature.certRevocation,i,[e],void 0,void 0,t,r)}))}}class Ko{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new Fs;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new Ko(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,n=se){const i=this.mainKey.keyPacket;return Co(i,ae.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verify(e=new Date,t=se){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket},i=await _o(this.bindingSignatures,r,ae.signature.subkeyBinding,n,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw Error("Subkey is revoked");if(ko(this.keyPacket,i,e))throw Error("Subkey is expired");return i}async getExpirationTime(e=new Date,t=se){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket};let i;try{i=await _o(this.bindingSignatures,r,ae.signature.subkeyBinding,n,e,t)}catch(e){return null}const a=Mo(this.keyPacket,i),s=i.getExpirationTime();return a<s?a:s}async update(e,t=new Date,r=se){const n=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===ae.packet.publicSubkey&&e.keyPacket.constructor.tag===ae.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const i=this,a={key:n,bind:i.keyPacket};await Po(e,this,"bindingSignatures",t,(async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(n,ae.signature.subkeyBinding,a,t,void 0,r),!0}catch(e){return!1}})),await Po(e,this,"revocationSignatures",t,(function(e){return Co(n,ae.signature.subkeyRevocation,a,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=ae.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=se){const a={key:e,bind:this.keyPacket},s=new Ko(this.keyPacket,this.mainKey);return s.revocationSignatures.push(await xo(a,null,e,{signatureType:ae.signature.subkeyRevocation,reasonForRevocationFlag:ae.write(ae.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,!1,i)),await s.update(this),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{Ko.prototype[e]=function(){return this.keyPacket[e]()}}));const Oo=Z.constructAllowedPackets([Ks]),zo=new Set([ae.packet.publicKey,ae.packet.privateKey]),jo=new Set([ae.packet.publicKey,ae.packet.privateKey,ae.packet.publicSubkey,ae.packet.privateSubkey]);class Fo{packetListToStructure(e,t=new Set){let r,n,i,a;for(const s of e){if(s instanceof kn){jo.has(s.tag)&&!a&&(a=zo.has(s.tag)?zo:jo);continue}const e=s.constructor.tag;if(a){if(!a.has(e))continue;a=null}if(t.has(e))throw Error("Unexpected packet type: "+e);switch(e){case ae.packet.publicKey:case ae.packet.secretKey:if(this.keyPacket)throw Error("Key block contains multiple keys");if(this.keyPacket=s,n=this.getKeyID(),!n)throw Error("Missing Key ID");break;case ae.packet.userID:case ae.packet.userAttribute:r=new Do(s,this),this.users.push(r);break;case ae.packet.publicSubkey:case ae.packet.secretSubkey:r=null,i=new Ko(s,this),this.subkeys.push(i);break;case ae.packet.signature:switch(s.signatureType){case ae.signature.certGeneric:case ae.signature.certPersona:case ae.signature.certCasual:case ae.signature.certPositive:if(!r){Z.printDebug("Dropping certification signatures without preceding user packet");continue}s.issuerKeyID.equals(n)?r.selfCertifications.push(s):r.otherCertifications.push(s);break;case ae.signature.certRevocation:r?r.revocationSignatures.push(s):this.directSignatures.push(s);break;case ae.signature.key:this.directSignatures.push(s);break;case ae.signature.subkeyBinding:if(!i){Z.printDebug("Dropping subkey binding signature without preceding subkey packet");continue}i.bindingSignatures.push(s);break;case ae.signature.keyRevocation:this.revocationSignatures.push(s);break;case ae.signature.subkeyRevocation:if(!i){Z.printDebug("Dropping subkey revocation signature without preceding subkey packet");continue}i.revocationSignatures.push(s)}}}}toPacketList(){const e=new Fs;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])})),e.keyPacket.privateParams=t})),t}getSubkeys(e=null){return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=se){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await _o(r.bindingSignatures,i,ae.signature.subkeyBinding,e,t,n);if(!Ro(r.keyPacket,a))continue;if(!a.embeddedSignature)throw Error("Missing embedded signature");return await _o([a.embeddedSignature],r.keyPacket,ae.signature.keyBinding,e,t,n),To(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&Ro(i,a.selfCertification))return To(i,n),this}catch(e){s=e}throw Z.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),s)}async getEncryptionKey(e,t=new Date,r={},n=se){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await _o(r.bindingSignatures,i,ae.signature.subkeyBinding,e,t,n);if(Uo(r.keyPacket,a))return To(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&Uo(i,a.selfCertification))return To(i,n),this}catch(e){s=e}throw Z.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),s)}async isRevoked(e,t,r=new Date,n=se){return Co(this.keyPacket,ae.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=se){const n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw Error("Primary key is revoked");const{selfCertification:i}=await this.getPrimaryUser(e,t,r);if(ko(n,i,e))throw Error("Primary key is expired");const a=await _o(this.directSignatures,n,ae.signature.key,{key:n},e,r).catch((()=>{}));if(a&&ko(n,a,e))throw Error("Primary key is expired")}async getExpirationTime(e,t=se){let r;try{const{selfCertification:n}=await this.getPrimaryUser(null,e,t),i=Mo(this.keyPacket,n),a=n.getExpirationTime(),s=await _o(this.directSignatures,this.keyPacket,ae.signature.key,{key:this.keyPacket},null,t).catch((()=>{}));if(s){const e=Mo(this.keyPacket,s);r=Math.min(i,a,e)}else r=i<a?i:a}catch(e){r=null}return Z.normalizeDate(r)}async getPrimaryUser(e=new Date,t={},r=se){const n=this.keyPacket,i=[];let a;for(let s=0;s<this.users.length;s++)try{const a=this.users[s];if(!a.userID)continue;if(void 0!==t.name&&a.userID.name!==t.name||void 0!==t.email&&a.userID.email!==t.email||void 0!==t.comment&&a.userID.comment!==t.comment)throw Error("Could not find user that matches that user ID");const o={userID:a.userID,key:n},c=await _o(a.selfCertifications,n,ae.signature.certGeneric,o,e,r);i.push({index:s,user:a,selfCertification:c})}catch(e){a=e}if(!i.length)throw a||Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.user.revoked||t.user.isRevoked(t.selfCertification,null,e,r)})));const s=i.sort((function(e,t){const r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created})).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(c,null,e,r))throw Error("Primary user is revoked");return s}async update(e,t=new Date,r=se){if(!this.hasSameFingerprintAs(e))throw Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(this.subkeys.length!==e.subkeys.length||!this.subkeys.every((t=>e.subkeys.some((e=>t.hasSameFingerprintAs(e))))))throw Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}const n=this.clone();return await Po(e,n,"revocationSignatures",t,(i=>Co(n.keyPacket,ae.signature.keyRevocation,n,[i],null,e.keyPacket,t,r))),await Po(e,n,"directSignatures",t),await Promise.all(e.users.map((async e=>{const i=n.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.users.push(t)}}))),await Promise.all(e.subkeys.map((async e=>{const i=n.subkeys.filter((t=>t.hasSameFingerprintAs(e)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.subkeys.push(t)}}))),n}async getRevocationCertificate(e=new Date,t=se){const r={key:this.keyPacket},n=await _o(this.revocationSignatures,this.keyPacket,ae.signature.keyRevocation,r,e,t),i=new Fs;return i.push(n),ye(ae.armor.publicKey,i.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=new Date,r=se){const n=await pe(e,r),i=(await Fs.fromBinary(n.data,Oo,r)).findPacket(ae.packet.signature);if(!i||i.signatureType!==ae.signature.keyRevocation)throw Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,ae.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw Z.wrapError("Could not verify revocation signature",e)}const a=this.clone();return a.revocationSignatures.push(i),a}async signPrimaryUser(e,t,r,n=se){const{index:i,user:a}=await this.getPrimaryUser(t,r,n),s=await a.certify(e,t,n),o=this.clone();return o.users[i]=s,o}async signAllUsers(e,t=new Date,r=se){const n=this.clone();return n.users=await Promise.all(this.users.map((function(n){return n.certify(e,t,r)}))),n}async verifyPrimaryUser(e,t=new Date,r,n=se){const i=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,n);return e?await a.verifyAllCertifications(e,t,n):[{keyID:i.getKeyID(),valid:await a.verify(t,n).catch((()=>!1))}]}async verifyAllUsers(e,t=new Date,r=se){const n=this.keyPacket,i=[];return await Promise.all(this.users.map((async a=>{const s=e?await a.verifyAllCertifications(e,t,r):[{keyID:n.getKeyID(),valid:await a.verify(t,r).catch((()=>!1))}];i.push(...s.map((e=>({userID:a.userID.userID,keyID:e.keyID,valid:e.valid}))))}))),i}}function Lo(e){for(const t of e)switch(t.constructor.tag){case ae.packet.secretKey:return new No(e);case ae.packet.publicKey:return new qo(e)}throw Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{Fo.prototype[e]=Ko.prototype[e]}));class qo extends Fo{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([ae.packet.secretKey,ae.packet.secretSubkey])),!this.keyPacket))throw Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=se){return ye(ae.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class No extends qo{constructor(e){if(super(),this.packetListToStructure(e,new Set([ae.packet.publicKey,ae.packet.publicSubkey])),!this.keyPacket)throw Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new Fs,t=this.toPacketList();for(const r of t)switch(r.constructor.tag){case ae.packet.secretKey:{const t=no.fromSecretKeyPacket(r);e.push(t);break}case ae.packet.secretSubkey:{const t=oo.fromSecretSubkeyPacket(r);e.push(t);break}default:e.push(r)}return new qo(e)}armor(e=se){return ye(ae.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},n=se){const i=this.keyPacket,a=[];for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0))try{const e={key:i,bind:this.subkeys[r].keyPacket};Io(await _o(this.subkeys[r].bindingSignatures,i,ae.signature.subkeyBinding,e,t,n),n)&&a.push(this.subkeys[r])}catch(e){}const s=await this.getPrimaryUser(t,r,n);return e&&!i.getKeyID().equals(e,!0)||!Io(s.selfCertification,n)||a.push(this),a}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=se){if(!this.isPrivate())throw Error("Cannot validate a public key");let t;if(this.keyPacket.isDummy()){const r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{const e=this.getKeys();if(e.map((e=>e.keyPacket.isDummy())).every(Boolean))throw Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=ae.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=se){if(!this.isPrivate())throw Error("Need private key for revoking");const i={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await xo(i,null,this.keyPacket,{signatureType:ae.signature.keyRevocation,reasonForRevocationFlag:ae.write(ae.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,n)),a}async addSubkey(e={}){const t={...se,...e.config};if(e.passphrase)throw Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const r=this.keyPacket;if(r.isDummy())throw Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw Error("Key is not decrypted");const n=r.getAlgorithmInfo();n.type=n.curve?"ecc":"rsa",n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519",e=Bo(e,n);const i=await vo(e);To(i,t);const a=await Ao(i,r,e,t),s=this.toPacketList();return s.push(i,a),new No(s)}}const Wo=Z.constructAllowedPackets([no,oo,uo,po,lo,co,Ks]);async function Ho(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map((async function(e,t){const i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)})));const i=new Fs;i.push(e),await Promise.all(r.userIDs.map((async function(t,i){function a(e,t){return[t,...e.filter((e=>e!==t))]}const s=lo.fromObject(t),o={};o.userID=s,o.key=e;const c=new Ks;return c.signatureType=ae.signature.certGeneric,c.publicKeyAlgorithm=e.algorithm,c.hashAlgorithm=await So(null,e,void 0,void 0,n),c.keyFlags=[ae.keyFlags.certifyKeys|ae.keyFlags.signData],c.preferredSymmetricAlgorithms=a([ae.symmetric.aes256,ae.symmetric.aes128,ae.symmetric.aes192],n.preferredSymmetricAlgorithm),n.aeadProtect&&(c.preferredAEADAlgorithms=a([ae.aead.eax,ae.aead.ocb],n.preferredAEADAlgorithm)),c.preferredHashAlgorithms=a([ae.hash.sha256,ae.hash.sha512],n.preferredHashAlgorithm),c.preferredCompressionAlgorithms=a([ae.compression.zlib,ae.compression.zip,ae.compression.uncompressed],n.preferredCompressionAlgorithm),0===i&&(c.isPrimaryUserID=!0),c.features=[0],c.features[0]|=ae.features.modificationDetection,n.aeadProtect&&(c.features[0]|=ae.features.aead),n.v5Keys&&(c.features[0]|=ae.features.v5Keys),r.keyExpirationTime>0&&(c.keyExpirationTime=r.keyExpirationTime,c.keyNeverExpires=!1),await c.sign(e,o,r.date),{userIDPacket:s,signaturePacket:c}}))).then((e=>{e.forEach((({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)}))})),await Promise.all(t.map((async function(t,i){const a=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await Ao(t,e,a,n)}}))).then((e=>{e.forEach((({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)}))}));const a={key:e};return i.push(await xo(a,null,e,{signatureType:ae.signature.keyRevocation,reasonForRevocationFlag:ae.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()}))),new No(i)}async function $o({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...se,...r},!e&&!t)throw Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Z.isString(e))throw Error("readKey: options.armoredKey must be a string");if(t&&!Z.isUint8Array(t))throw Error("readKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let a;if(e){const{type:t,data:n}=await pe(e,r);if(t!==ae.armor.publicKey&&t!==ae.armor.privateKey)throw Error("Armored text not of type key");a=n}else a=t;return Lo(await Fs.fromBinary(a,Wo,r))}async function Vo({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...se,...r},!e&&!t)throw Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!Z.isString(e))throw Error("readPrivateKey: options.armoredKey must be a string");if(t&&!Z.isUint8Array(t))throw Error("readPrivateKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));let a;if(e){const{type:t,data:n}=await pe(e,r);if(t!==ae.armor.privateKey)throw Error("Armored text not of type private key");a=n}else a=t;const s=await Fs.fromBinary(a,Wo,r);return new No(s)}async function Go({armoredKeys:e,binaryKeys:t,config:r,...n}){r={...se,...r};let i=e||t;if(!i)throw Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Z.isString(e))throw Error("readKeys: options.armoredKeys must be a string");if(t&&!Z.isUint8Array(t))throw Error("readKeys: options.binaryKeys must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));if(e){const{type:t,data:n}=await pe(e,r);if(t!==ae.armor.publicKey&&t!==ae.armor.privateKey)throw Error("Armored text not of type key");i=n}const s=[],o=await Fs.fromBinary(i,Wo,r),c=o.indexOfTag(ae.packet.publicKey,ae.packet.secretKey);if(0===c.length)throw Error("No key packet found");for(let e=0;e<c.length;e++){const t=Lo(o.slice(c[e],c[e+1]));s.push(t)}return s}async function Yo({armoredKeys:e,binaryKeys:t,config:r}){r={...se,...r};let n=e||t;if(!n)throw Error("readPrivateKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!Z.isString(e))throw Error("readPrivateKeys: options.armoredKeys must be a string");if(t&&!Z.isUint8Array(t))throw Error("readPrivateKeys: options.binaryKeys must be a Uint8Array");if(e){const{type:t,data:i}=await pe(e,r);if(t!==ae.armor.privateKey)throw Error("Armored text not of type private key");n=i}const i=[],a=await Fs.fromBinary(n,Wo,r),s=a.indexOfTag(ae.packet.secretKey);if(0===s.length)throw Error("No secret key packet found");for(let e=0;e<s.length;e++){const t=a.slice(s[e],s[e+1]),r=new No(t);i.push(r)}return i}const Zo=Z.constructAllowedPackets([Is,qs,Qs,Xs,ao,eo,ro,zs,Ks]),Xo=Z.constructAllowedPackets([ro]),Jo=Z.constructAllowedPackets([Ks]);class Qo{constructor(e){this.packets=e||new Fs}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(ae.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag(ae.packet.onePassSignature);return t.length>0?t.map((e=>e.issuerKeyID)):e.packets.filterByTag(ae.packet.signature).map((e=>e.issuerKeyID))}async decrypt(e,t,r,n=new Date,i=se){const a=r||await this.decryptSessionKeys(e,t,n,i),s=this.packets.filterByTag(ae.packet.symmetricallyEncryptedData,ae.packet.symEncryptedIntegrityProtectedData,ae.packet.aeadEncryptedData);if(0===s.length)throw Error("No encrypted data found");const o=s[0];let c=null;const u=Promise.all(a.map((async({algorithm:e,data:t})=>{if(!Z.isUint8Array(t)||!Z.isString(e))throw Error("Invalid session key for decryption.");try{const r=ae.write(ae.symmetric,e);await o.decrypt(r,t,i)}catch(e){Z.printDebugError(e),c=e}})));if($(o.encrypted),o.encrypted=null,await u,!o.packets||!o.packets.length)throw c||Error("Decryption failed.");const f=new Qo(o.packets);return o.packets=new Fs,f}async decryptSessionKeys(e,t,r=new Date,n=se){let i,a=[];if(t){const e=this.packets.filterByTag(ae.packet.symEncryptedSessionKey);if(0===e.length)throw Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,r){let i;i=r?await Fs.fromBinary(e.write(),Xo,n):e,await Promise.all(i.map((async function(e){try{await e.decrypt(t),a.push(e)}catch(e){Z.printDebugError(e)}})))})))}else{if(!e)throw Error("No key or password specified.");{const t=this.packets.filterByTag(ae.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let s=[ae.symmetric.aes256,ae.symmetric.aes128,ae.symmetric.tripledes,ae.symmetric.cast5];try{const t=await e.getPrimaryUser(r,void 0,n);t.selfCertification.preferredSymmetricAlgorithms&&(s=s.concat(t.selfCertification.preferredSymmetricAlgorithms))}catch(e){}const o=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,n)).map((e=>e.keyPacket));await Promise.all(o.map((async function(e){if(e&&!e.isDummy()){if(!e.isDecrypted())throw Error("Decryption key is not decrypted.");if(!n.constantTimePKCS1Decryption||t.publicKeyAlgorithm!==ae.publicKey.rsaEncrypt&&t.publicKeyAlgorithm!==ae.publicKey.rsaEncryptSign&&t.publicKeyAlgorithm!==ae.publicKey.rsaSign&&t.publicKeyAlgorithm!==ae.publicKey.elgamal)try{if(await t.decrypt(e),!s.includes(ae.write(ae.symmetric,t.sessionKeyAlgorithm)))throw Error("A non-preferred symmetric algorithm was used.");a.push(t)}catch(e){Z.printDebugError(e),i=e}else{const r=t.write();await Promise.all(Array.from(n.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map((async t=>{const n=new eo;n.read(r);const s={sessionKeyAlgorithm:t,sessionKey:await Wi.generateSessionKey(t)};try{await n.decrypt(e,s),a.push(n)}catch(e){Z.printDebugError(e),i=e}})))}}})))}))),$(t.encrypted),t.encrypted=null})))}}if(a.length>0){if(a.length>1){const e=new Set;a=a.filter((t=>{const r=t.sessionKeyAlgorithm+Z.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)}))}return a.map((e=>({data:e.sessionKey,algorithm:ae.read(ae.symmetric,e.sessionKeyAlgorithm)})))}throw i||Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(ae.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(ae.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(ae.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=se){const i=await Eo("symmetric",e,t,r,n),a=ae.read(ae.symmetric,i),s=n.aeadProtect&&await async function(e,t=new Date,r=[],n=se){let i=!0;return await Promise.all(e.map((async function(e,a){const s=await e.getPrimaryUser(t,r[a],n);s.selfCertification.features&&s.selfCertification.features[0]&ae.features.aead||(i=!1)}))),i}(e,t,r,n)?ae.read(ae.aead,await Eo("aead",e,t,r,n)):void 0;return{data:await Wi.generateSessionKey(i),algorithm:a,aeadAlgorithm:s}}async encrypt(e,t,r,n=!1,i=[],a=new Date,s=[],o=se){if(r){if(!Z.isUint8Array(r.data)||!Z.isString(r.algorithm))throw Error("Invalid session key for encryption.")}else if(e&&e.length)r=await Qo.generateSessionKey(e,a,s,o);else{if(!t||!t.length)throw Error("No keys, passwords, or session key provided.");r=await Qo.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:f}=r,h=await Qo.encryptSessionKey(c,u,f,e,t,n,i,a,s,o);let l;f?(l=new Qs,l.aeadAlgorithm=ae.write(ae.aead,f)):l=new Xs,l.packets=this.packets;const d=ae.write(ae.symmetric,u);return await l.encrypt(d,c,o),h.packets.push(l),l.packets=new Fs,h}static async encryptSessionKey(e,t,r,n,i,a=!1,s=[],o=new Date,c=[],u=se){const f=new Fs,h=ae.write(ae.symmetric,t),l=r&&ae.write(ae.aead,r);if(n){const t=await Promise.all(n.map((async function(t,r){const n=await t.getEncryptionKey(s[r],o,c,u),i=new eo;return i.publicKeyID=a?be.wildcard():n.getKeyID(),i.publicKeyAlgorithm=n.keyPacket.algorithm,i.sessionKey=e,i.sessionKeyAlgorithm=h,await i.encrypt(n.keyPacket),delete i.sessionKey,i})));f.push(...t)}if(i){const t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},r=(e,t)=>e+t,n=async function(e,a,s,o){const c=new ro(u);return c.sessionKey=e,c.sessionKeyAlgorithm=a,s&&(c.aeadAlgorithm=s),await c.encrypt(o,u),u.passwordCollisionCheck&&1!==(await Promise.all(i.map((e=>t(c,e))))).reduce(r)?n(e,a,o):(delete c.sessionKey,c)},a=await Promise.all(i.map((t=>n(e,h,l,t))));f.push(...a)}return new Qo(f)}async sign(e=[],t=null,r=[],n=new Date,i=[],a=se){const s=new Fs,o=this.packets.findPacket(ae.packet.literalData);if(!o)throw Error("No literal data packet to sign.");let c,u;const f=null===o.text?ae.signature.binary:ae.signature.text;if(t)for(u=t.packets.filterByTag(ae.packet.signature),c=u.length-1;c>=0;c--){const t=u[c],r=new zs;r.signatureType=t.signatureType,r.hashAlgorithm=t.hashAlgorithm,r.publicKeyAlgorithm=t.publicKeyAlgorithm,r.issuerKeyID=t.issuerKeyID,e.length||0!==c||(r.flags=1),s.push(r)}return await Promise.all(Array.from(e).reverse().map((async function(t,s){if(!t.isPrivate())throw Error("Need private key for signing");const o=r[e.length-1-s],c=await t.getSigningKey(o,n,i,a),u=new zs;return u.signatureType=f,u.hashAlgorithm=await So(t,c.keyPacket,n,i,a),u.publicKeyAlgorithm=c.keyPacket.algorithm,u.issuerKeyID=c.getKeyID(),s===e.length-1&&(u.flags=1),u}))).then((e=>{e.forEach((e=>s.push(e)))})),s.push(o),s.push(...await ec(o,e,t,r,n,i,!1,a)),new Qo(s)}compress(e,t=se){if(e===ae.compression.uncompressed)return this;const r=new qs(t);r.algorithm=e,r.packets=this.packets;const n=new Fs;return n.push(r),new Qo(n)}async signDetached(e=[],t=null,r=[],n=new Date,i=[],a=se){const s=this.packets.findPacket(ae.packet.literalData);if(!s)throw Error("No literal data packet to sign.");return new go(await ec(s,e,t,r,n,i,!0,a))}async verify(e,t=new Date,r=se){const n=this.unwrapCompressed(),i=n.packets.filterByTag(ae.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");u(n.packets.stream)&&n.packets.push(...await H(n.packets.stream,(e=>e||[])));const a=n.packets.filterByTag(ae.packet.onePassSignature).reverse(),s=n.packets.filterByTag(ae.packet.signature);return a.length&&!s.length&&Z.isStream(n.packets.stream)&&!u(n.packets.stream)?(await Promise.all(a.map((async e=>{e.correspondingSig=new Promise(((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r})),e.signatureData=V((async()=>(await e.correspondingSig).signatureData)),e.hashed=H(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),n.packets.stream=j(n.packets.stream,(async(e,t)=>{const r=I(e),n=T(t);try{for(let e=0;e<a.length;e++){const{value:t}=await r.read();a[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){a.forEach((t=>{t.correspondingSigReject(e)})),await n.abort(e)}})),tc(a,i,e,t,!1,r)):tc(s,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=se){const i=this.unwrapCompressed().packets.filterByTag(ae.packet.literalData);if(1!==i.length)throw Error("Can only verify message with one literal data packet.");return tc(e.packets,i,t,r,!0,n)}unwrapCompressed(){const e=this.packets.filterByTag(ae.packet.compressedData);return e.length?new Qo(e[0].packets):this}async appendSignature(e,t=se){await this.packets.read(Z.isUint8Array(e)?e:(await pe(e)).data,Jo,t)}write(){return this.packets.write()}armor(e=se){return ye(ae.armor.message,this.write(),null,null,null,e)}}async function ec(e,t,r=null,n=[],i=new Date,a=[],s=!1,o=se){const c=new Fs,u=null===e.text?ae.signature.binary:ae.signature.text;if(await Promise.all(t.map((async(t,r)=>{const c=a[r];if(!t.isPrivate())throw Error("Need private key for signing");const f=await t.getSigningKey(n[r],i,c,o);return xo(e,t,f.keyPacket,{signatureType:u},i,c,s,o)}))).then((e=>{c.push(...e)})),r){const e=r.packets.filterByTag(ae.packet.signature);c.push(...e)}return c}async function tc(e,t,r,n=new Date,i=!1,a=se){return Promise.all(e.filter((function(e){return["text","binary"].includes(ae.read(ae.signature,e.signatureType))})).map((async function(e){return async function(e,t,r,n=new Date,i=!1,a=se){let s,o;for(const t of r){const r=t.getKeys(e.issuerKeyID);if(r.length>0){s=t,o=r[0];break}}const c=e instanceof zs?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!o)throw Error("Could not find signing key with key ID "+e.issuerKeyID.toHex());await e.verify(o.keyPacket,e.signatureType,t[0],n,i,a);const r=await c;if(o.getCreationTime()>r.created)throw Error("Key is newer than the signature");try{await s.getSigningKey(o.getKeyID(),r.created,void 0,a)}catch(e){if(!a.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await s.getSigningKey(o.getKeyID(),n,void 0,a)}return!0})(),signature:(async()=>{const e=await c,t=new Fs;return e&&t.push(e),new go(t)})()};return u.signature.catch((()=>{})),u.verified.catch((()=>{})),u}(e,t,r,n,i,a)})))}async function rc({armoredMessage:e,binaryMessage:t,config:r,...n}){r={...se,...r};let i=e||t;if(!i)throw Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!Z.isString(e)&&!Z.isStream(e))throw Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!Z.isUint8Array(t)&&!Z.isStream(t))throw Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const a=Object.keys(n);if(a.length>0)throw Error("Unknown option: "+a.join(", "));const s=Z.isStream(i);if(s&&(await C(),i=B(i)),e){const{type:e,data:t}=await pe(i,r);if(e!==ae.armor.message)throw Error("Armored text not of type message");i=t}const o=await Fs.fromBinary(i,Zo,r),c=new Qo(o);return c.fromStream=s,c}async function nc({text:e,binary:t,filename:r,date:n=new Date,format:i=(void 0!==e?"utf8":"binary"),...a}){let s=void 0!==e?e:t;if(void 0===s)throw Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!Z.isString(e)&&!Z.isStream(e))throw Error("createMessage: options.text must be a string or stream");if(t&&!Z.isUint8Array(t)&&!Z.isStream(t))throw Error("createMessage: options.binary must be a Uint8Array or stream");const o=Object.keys(a);if(o.length>0)throw Error("Unknown option: "+o.join(", "));const c=Z.isStream(s);c&&(await C(),s=B(s));const u=new Is(n);void 0!==e?u.setText(s,ae.write(ae.literal,i)):u.setBytes(s,ae.write(ae.literal,i)),void 0!==r&&u.setFilename(r);const f=new Fs;f.push(u);const h=new Qo(f);return h.fromStream=c,h}const ic=Z.constructAllowedPackets([Ks]);class ac{constructor(e,t){if(this.text=Z.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof go))throw Error("Invalid signature input");this.signature=t||new go(new Fs)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach((function(t){e.push(t.issuerKeyID)})),e}async sign(e,t=null,r=[],n=new Date,i=[],a=se){const s=new Is;s.setText(this.text);const o=new go(await ec(s,e,t,r,n,i,!0,a));return new ac(this.text,o)}verify(e,t=new Date,r=se){const n=this.signature.packets,i=new Is;return i.setText(this.text),tc(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=se){let t=this.signature.packets.map((function(e){return ae.read(ae.hash,e.hashAlgorithm).toUpperCase()}));t=t.filter((function(e,t,r){return r.indexOf(e)===t}));const r={hash:t.join(),text:this.text,data:this.signature.packets.write()};return ye(ae.armor.signed,r,void 0,void 0,void 0,e)}}async function sc({cleartextMessage:e,config:t,...r}){if(t={...se,...t},!e)throw Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!Z.isString(e))throw Error("readCleartextMessage: options.cleartextMessage must be a string");const n=Object.keys(r);if(n.length>0)throw Error("Unknown option: "+n.join(", "));const i=await pe(e);if(i.type!==ae.armor.signed)throw Error("No cleartext signed message.");const a=await Fs.fromBinary(i.data,ic,t);!function(e,t){const r=function(e){const r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===ae.packet.signature&&!e.some(r(t[n])))return!1;return!0};let n=null,i=[];if(e.forEach((function(e){if(n=e.match(/Hash: (.+)/),!n)throw Error('Only "Hash" header allowed in cleartext signed message');n=n[1].replace(/\s/g,""),n=n.split(","),n=n.map((function(e){e=e.toLowerCase();try{return ae.write(ae.hash,e)}catch(t){throw Error("Unknown hash algorithm in armor header: "+e)}})),i=i.concat(n)})),!i.length&&!r([ae.hash.md5]))throw Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed');if(i.length&&!r(i))throw Error("Hash algorithm mismatch in armor header and signature")}(i.headers,a);const s=new go(a);return new ac(i.text,s)}async function oc({text:e,...t}){if(!e)throw Error("createCleartextMessage: must pass options object containing `text`");if(!Z.isString(e))throw Error("createCleartextMessage: options.text must be a string");const r=Object.keys(t);if(r.length>0)throw Error("Unknown option: "+r.join(", "));return new ac(e)}async function cc({userIDs:e=[],passphrase:t,type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],format:c="armored",config:u,...f}){Sc(u={...se,...u}),e=Ec(e);const h=Object.keys(f);if(h.length>0)throw Error("Unknown option: "+h.join(", "));if(0===e.length)throw Error("UserIDs are required for key generation");if("rsa"===r&&n<u.minRSABits)throw Error(`rsaBits should be at least ${u.minRSABits}, got: ${n}`);const l={userIDs:e,passphrase:t,type:r,rsaBits:n,curve:i,keyExpirationTime:a,date:s,subkeys:o};try{const{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=Bo(e)).subkeys=e.subkeys.map(((t,r)=>Bo(e.subkeys[r],e)));let r=[wo(e,t)];r=r.concat(e.subkeys.map((e=>vo(e,t))));const n=await Promise.all(r),i=await Ho(n[0],n.slice(1),e,t),a=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:a}}(l,u);return e.getKeys().forEach((({keyPacket:e})=>To(e,u))),{privateKey:Cc(e,c,u),publicKey:Cc(e.toPublic(),c,u),revocationCertificate:t}}catch(e){throw Z.wrapError("Error generating keypair",e)}}async function uc({privateKey:e,userIDs:t=[],passphrase:r,keyExpirationTime:n=0,date:i,format:a="armored",config:s,...o}){Sc(s={...se,...s}),t=Ec(t);const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(0===t.length)throw Error("UserIDs are required for key reformat");const u={privateKey:e,userIDs:t,passphrase:r,keyExpirationTime:n,date:i};try{const{key:e,revocationCertificate:t}=await async function(e,t){e=o(e);const{privateKey:r}=e;if(!r.isPrivate())throw Error("Cannot reformat a public key");if(r.keyPacket.isDummy())throw Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every((({keyPacket:e})=>e.isDecrypted())))throw Error("Key is not decrypted");const n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subkeys.map((async e=>{const r=e.keyPacket,i={key:n,bind:r},a=await _o(e.bindingSignatures,n,ae.signature.subkeyBinding,i,null,t).catch((()=>({})));return{sign:a.keyFlags&&a.keyFlags[0]&ae.keyFlags.signData}}))));const i=r.subkeys.map((e=>e.keyPacket));if(e.subkeys.length!==i.length)throw Error("Number of subkey options does not match number of subkeys");e.subkeys=e.subkeys.map((t=>o(t,e)));const a=await Ho(n,i,e,t),s=await a.getRevocationCertificate(e.date,t);return a.revocationSignatures=[],{key:a,revocationCertificate:s};function o(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=Z.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}(u,s);return{privateKey:Cc(e,a,s),publicKey:Cc(e.toPublic(),a,s),revocationCertificate:t}}catch(e){throw Z.wrapError("Error reformatting keypair",e)}}async function fc({key:e,revocationCertificate:t,reasonForRevocation:r,date:n=new Date,format:i="armored",config:a,...s}){Sc(a={...se,...a});const o=Object.keys(s);if(o.length>0)throw Error("Unknown option: "+o.join(", "));try{const s=t?await e.applyRevocationCertificate(t,n,a):await e.revoke(r,n,a);return s.isPrivate()?{privateKey:Cc(s,i,a),publicKey:Cc(s.toPublic(),i,a)}:{privateKey:null,publicKey:Cc(s,i,a)}}catch(e){throw Z.wrapError("Error revoking key",e)}}async function hc({privateKey:e,passphrase:t,config:r,...n}){Sc(r={...se,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot decrypt a public key");const a=e.clone(!0),s=Z.isArray(t)?t:[t];try{return await Promise.all(a.getKeys().map((e=>Z.anyPromise(s.map((t=>e.keyPacket.decrypt(t))))))),await a.validate(r),a}catch(e){throw a.clearPrivateParams(),Z.wrapError("Error decrypting private key",e)}}async function lc({privateKey:e,passphrase:t,config:r,...n}){Sc(r={...se,...r});const i=Object.keys(n);if(i.length>0)throw Error("Unknown option: "+i.join(", "));if(!e.isPrivate())throw Error("Cannot encrypt a public key");const a=e.clone(!0),s=a.getKeys(),o=Z.isArray(t)?t:Array(s.length).fill(t);if(o.length!==s.length)throw Error("Invalid number of passphrases given for key encryption");try{return await Promise.all(s.map((async(e,t)=>{const{keyPacket:n}=e;await n.encrypt(o[t],r),n.clearPrivateParams()}))),a}catch(e){throw a.clearPrivateParams(),Z.wrapError("Error encrypting private key",e)}}async function dc({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:a="armored",signature:s=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:f=new Date,signingUserIDs:h=[],encryptionUserIDs:l=[],config:d,...p}){if(Sc(d={...se,...d}),wc(e),kc(a),t=Ec(t),r=Ec(r),n=Ec(n),c=Ec(c),u=Ec(u),h=Ec(h),l=Ec(l),p.detached)throw Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(p.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(p.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==p.armor)throw Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const y=Object.keys(p);if(y.length>0)throw Error("Unknown option: "+y.join(", "));r||(r=[]);const b=e.fromStream;try{if((r.length||s)&&(e=await e.sign(r,s,c,f,h,d)),e=e.compress(await Eo("compression",t,f,l,d),d),e=await e.encrypt(t,n,i,o,u,f,l,d),"object"===a)return e;const p="armored"===a;return xc(p?e.armor(d):e.write(),b,p?"utf8":"binary")}catch(e){throw Z.wrapError("Error encrypting message",e)}}async function pc({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:a=!1,format:s="utf8",signature:o=null,date:c=new Date,config:u,...f}){if(Sc(u={...se,...u}),wc(e),i=Ec(i),t=Ec(t),r=Ec(r),n=Ec(n),f.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(f.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const h=Object.keys(f);if(h.length>0)throw Error("Unknown option: "+h.join(", "));try{const f=await e.decrypt(t,r,n,c,u);i||(i=[]);const h={};if(h.signatures=o?await f.verifyDetached(o,i,c,u):await f.verify(i,c,u),h.data="binary"===s?f.getLiteralData():f.getText(),h.filename=f.getFilename(),Pc(h,e),a){if(0===i.length)throw Error("Verification keys are required to verify message signatures");if(0===h.signatures.length)throw Error("Message is not signed");h.data=U([h.data,V((async()=>{await Z.anyPromise(h.signatures.map((e=>e.verified)))}))])}return h.data=await xc(h.data,e.fromStream,s),h}catch(e){throw Z.wrapError("Error decrypting message",e)}}async function yc({message:e,signingKeys:t,format:r="armored",detached:n=!1,signingKeyIDs:i=[],date:a=new Date,signingUserIDs:s=[],config:o,...c}){if(Sc(o={...se,...o}),_c(e),kc(r),t=Ec(t),i=Ec(i),s=Ec(s),c.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.sign, pass `signingKeys` instead");if(void 0!==c.armor)throw Error("The `armor` option has been removed from openpgp.sign, pass `format` instead.");const u=Object.keys(c);if(u.length>0)throw Error("Unknown option: "+u.join(", "));if(e instanceof ac&&"binary"===r)throw Error("Cannot return signed cleartext message in binary format");if(e instanceof ac&&n)throw Error("Cannot detach-sign a cleartext message");if(!t||0===t.length)throw Error("No signing keys provided");try{let c;if(c=n?await e.signDetached(t,void 0,i,a,s,o):await e.sign(t,void 0,i,a,s,o),"object"===r)return c;const u="armored"===r;return c=u?c.armor(o):c.write(),n&&(c=j(e.packets.write(),(async(e,t)=>{await Promise.all([D(c,t),H(e).catch((()=>{}))])}))),xc(c,e.fromStream,u?"utf8":"binary")}catch(e){throw Z.wrapError("Error signing message",e)}}async function bc({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s,...o}){if(Sc(s={...se,...s}),_c(e),t=Ec(t),o.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");const c=Object.keys(o);if(c.length>0)throw Error("Unknown option: "+c.join(", "));if(e instanceof ac&&"binary"===n)throw Error("Can't return cleartext message data as binary");if(e instanceof ac&&i)throw Error("Can't verify detached cleartext signature");try{const o={};if(o.signatures=i?await e.verifyDetached(i,t,a,s):await e.verify(t,a,s),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&Pc(o,e),r){if(0===o.signatures.length)throw Error("Message is not signed");o.data=U([o.data,V((async()=>{await Z.anyPromise(o.signatures.map((e=>e.verified)))}))])}return o.data=await xc(o.data,e.fromStream,n),o}catch(e){throw Z.wrapError("Error verifying signed message",e)}}async function gc({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n,...i}){if(Sc(n={...se,...n}),e=Ec(e),r=Ec(r),i.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.generateSessionKey, pass `encryptionKeys` instead");const a=Object.keys(i);if(a.length>0)throw Error("Unknown option: "+a.join(", "));try{return await Qo.generateSessionKey(e,t,r,n)}catch(e){throw Z.wrapError("Error generating session key",e)}}async function mc({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,format:a="armored",wildcard:s=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:f,...h}){if(Sc(f={...se,...f}),function(e,t){if(!Z.isUint8Array(e))throw Error("Parameter [data] must be of type Uint8Array")}(e),function(e,t){if(!Z.isString(e))throw Error("Parameter [algorithm] must be of type String")}(t),kc(a),n=Ec(n),i=Ec(i),o=Ec(o),u=Ec(u),h.publicKeys)throw Error("The `publicKeys` option has been removed from openpgp.encryptSessionKey, pass `encryptionKeys` instead");const l=Object.keys(h);if(l.length>0)throw Error("Unknown option: "+l.join(", "));if(!(n&&0!==n.length||i&&0!==i.length))throw Error("No encryption keys or passwords provided.");try{return Cc(await Qo.encryptSessionKey(e,t,r,n,i,s,o,c,u,f),a,f)}catch(e){throw Z.wrapError("Error encrypting session key",e)}}async function vc({message:e,decryptionKeys:t,passwords:r,date:n=new Date,config:i,...a}){if(Sc(i={...se,...i}),wc(e),t=Ec(t),r=Ec(r),a.privateKeys)throw Error("The `privateKeys` option has been removed from openpgp.decryptSessionKeys, pass `decryptionKeys` instead");const s=Object.keys(a);if(s.length>0)throw Error("Unknown option: "+s.join(", "));try{return await e.decryptSessionKeys(t,r,n,i)}catch(e){throw Z.wrapError("Error decrypting session keys",e)}}function wc(e){if(!(e instanceof Qo))throw Error("Parameter [message] needs to be of type Message")}function _c(e){if(!(e instanceof ac||e instanceof Qo))throw Error("Parameter [message] needs to be of type Message or CleartextMessage")}function kc(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw Error("Unsupported format "+e)}const Ac=Object.keys(se).length;function Sc(e){const t=Object.keys(e);if(t.length!==Ac)for(const e of t)if(void 0===se[e])throw Error("Unknown config property: "+e)}function Ec(e){return e&&!Z.isArray(e)&&(e=[e]),e}async function xc(e,t,r="utf8"){const n=Z.isStream(e);return"array"===n?H(e):"node"===t?(e=v(e),"binary"!==r&&e.setEncoding(r),e):"web"===t&&"ponyfill"===n?S(e):e}function Pc(e,t){e.data=j(t.packets.stream,(async(t,r)=>{await D(e.data,r,{preventClose:!0});const n=T(r);try{await H(t,(e=>e)),await n.close()}catch(e){await n.abort(e)}}))}function Cc(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw Error("Unsupported format "+t)}}const Mc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function Bc(){}const Rc="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function Uc(e){return"object"==typeof e&&null!==e||"function"==typeof e}const Ic=Bc,Tc=Promise,Dc=Promise.prototype.then,Kc=Promise.resolve.bind(Tc),Oc=Promise.reject.bind(Tc);function zc(e){return new Tc(e)}function jc(e){return Kc(e)}function Fc(e){return Oc(e)}function Lc(e,t,r){return Dc.call(e,t,r)}function qc(e,t,r){Lc(Lc(e,t,r),void 0,Ic)}function Nc(e,t){qc(e,t)}function Wc(e,t){qc(e,void 0,t)}function Hc(e,t,r){return Lc(e,t,r)}function $c(e){Lc(e,void 0,Ic)}const Vc=(()=>{const e=Rc&&Rc.queueMicrotask;if("function"==typeof e)return e;const t=jc(void 0);return e=>Lc(t,e)})();function Gc(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function Yc(e,t,r){try{return jc(Gc(e,t,r))}catch(e){return Fc(e)}}class Zc{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function Xc(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?tu(e):"closed"===t._state?function(e){tu(e),iu(e)}(e):ru(e,t._storedError)}function Jc(e,t){return Th(e._ownerReadableStream,t)}function Qc(e){"readable"===e._ownerReadableStream._state?nu(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){ru(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness"))}(e),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function eu(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function tu(e){e._closedPromise=zc(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function ru(e,t){tu(e),nu(e,t)}function nu(e,t){void 0!==e._closedPromise_reject&&($c(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function iu(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const au=Mc("[[AbortSteps]]"),su=Mc("[[ErrorSteps]]"),ou=Mc("[[CancelSteps]]"),cu=Mc("[[PullSteps]]"),uu=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},fu=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function hu(e,t){if(void 0!==e&&"object"!=typeof(r=e)&&"function"!=typeof r)throw new TypeError(t+" is not an object.");var r}function lu(e,t){if("function"!=typeof e)throw new TypeError(t+" is not a function.")}function du(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(t+" is not an object.")}function pu(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function yu(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function bu(e){return Number(e)}function gu(e){return 0===e?0:e}function mu(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=gu(n),!uu(n))throw new TypeError(t+" is not a finite number");if(n=function(e){return gu(fu(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return uu(n)&&0!==n?n:0}function vu(e,t){if(!Uh(e))throw new TypeError(t+" is not a ReadableStream.")}function wu(e){return new Eu(e)}function _u(e,t){e._reader._readRequests.push(t)}function ku(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Au(e){return e._reader._readRequests.length}function Su(e){const t=e._reader;return void 0!==t&&!!xu(t)}class Eu{constructor(e){if(pu(e,1,"ReadableStreamDefaultReader"),vu(e,"First parameter"),Ih(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");Xc(this,e),this._readRequests=new Zc}get closed(){return xu(this)?this._closedPromise:Fc(Cu("closed"))}cancel(e){return xu(this)?void 0===this._ownerReadableStream?Fc(eu("cancel")):Jc(this,e):Fc(Cu("cancel"))}read(){if(!xu(this))return Fc(Cu("read"));if(void 0===this._ownerReadableStream)return Fc(eu("read from"));let e,t;const r=zc(((r,n)=>{e=r,t=n}));return Pu(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!xu(this))throw Cu("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Qc(this)}}}function xu(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function Pu(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[cu](t)}function Cu(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Mu;Object.defineProperties(Eu.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Eu.prototype,Mc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Mc.asyncIterator&&(Mu={[Mc.asyncIterator](){return this}},Object.defineProperty(Mu,Mc.asyncIterator,{enumerable:!1}));class Bu{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?Hc(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?Hc(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return Fc(eu("iterate"));let t,r;const n=zc(((e,n)=>{t=e,r=n}));return Pu(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,Vc((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,Qc(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,Qc(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return Fc(eu("finish iterating"));if(!this._preventCancel){const r=Jc(t,e);return Qc(t),Hc(r,(()=>({value:e,done:!0})))}return Qc(t),jc({value:e,done:!0})}}const Ru={next(){return Uu(this)?this._asyncIteratorImpl.next():Fc(Iu("next"))},return(e){return Uu(this)?this._asyncIteratorImpl.return(e):Fc(Iu("return"))}};function Uu(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function Iu(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==Mu&&Object.setPrototypeOf(Ru,Mu);const Tu=Number.isNaN||function(e){return e!=e};function Du(e){return!!function(e){return!("number"!=typeof e||Tu(e)||e<0)}(e)&&e!==1/0}function Ku(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function Ou(e,t,r){if(!Du(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function zu(e){e._queue=new Zc,e._queueTotalSize=0}function ju(e){return e.slice()}class Fu{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!Nu(this))throw af("view");return this._view}respond(e){if(!Nu(this))throw af("respond");if(pu(e,1,"respond"),e=mu(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(!Du(t=Number(t)))throw new RangeError("bytesWritten must be a finite");Qu(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!Nu(this))throw af("respondWithNewView");if(pu(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){const r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,Qu(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(Fu.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Fu.prototype,Mc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class Lu{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!qu(this))throw sf("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(Fu.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(r,this,t),this._byobRequest=r}return this._byobRequest}get desiredSize(){if(!qu(this))throw sf("desiredSize");return nf(this)}close(){if(!qu(this))throw sf("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(!e._closeRequested&&"readable"===t._state)if(e._queueTotalSize>0)e._closeRequested=!0;else{if(e._pendingPullIntos.length>0&&e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw rf(e,t),t}tf(e),Dh(t)}}(this)}enqueue(e){if(!qu(this))throw sf("enqueue");if(pu(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,a=t.byteLength,s=n;Su(r)?0===Au(r)?Vu(e,s,i,a):ku(r,new Uint8Array(s,i,a),!1):uf(r)?(Vu(e,s,i,a),Ju(e)):Vu(e,s,i,a),Wu(e)}(this,e)}error(e){if(!qu(this))throw sf("error");rf(this,e)}[ou](e){this._pendingPullIntos.length>0&&(this._pendingPullIntos.peek().bytesFilled=0),zu(this);const t=this._cancelAlgorithm(e);return tf(this),t}[cu](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,Zu(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let n;try{n=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const i={buffer:n,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(i)}_u(t,e),Wu(this)}}function qu(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function Nu(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function Wu(e){(function(e){const t=e._controlledReadableByteStream;return"readable"===t._state&&!e._closeRequested&&!!e._started&&(!!(Su(t)&&Au(t)>0)||!!(uf(t)&&cf(t)>0)||nf(e)>0)})(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,qc(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Wu(e))}),(t=>{rf(e,t)}))))}function Hu(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=$u(t);"default"===t.readerType?ku(e,n,r):function(e,t,r){const n=e._reader._readIntoRequests.shift();r?n._closeSteps(t):n._chunkSteps(t)}(e,n,r)}function $u(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function Vu(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function Gu(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,s=a-a%r;let o=i,c=!1;s>n&&(o=s-t.bytesFilled,c=!0);const u=e._queue;for(;o>0;){const r=u.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;f=t.buffer,h=i,l=r.buffer,d=r.byteOffset,p=n,new Uint8Array(f).set(new Uint8Array(l,d,p),h),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,Yu(e,n,t),o-=n}var f,h,l,d,p;return c}function Yu(e,t,r){Xu(e),r.bytesFilled+=t}function Zu(e){0===e._queueTotalSize&&e._closeRequested?(tf(e),Dh(e._controlledReadableByteStream)):Wu(e)}function Xu(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function Ju(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();Gu(e,t)&&(ef(e),Hu(e._controlledReadableByteStream,t))}}function Qu(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;const r=e._controlledReadableByteStream;if(uf(r))for(;cf(r)>0;)Hu(r,ef(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(Yu(e,t,r),r.bytesFilled<r.elementSize)return;ef(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=r.buffer.slice(t-n,t);Vu(e,i,0,i.byteLength)}r.buffer=r.buffer,r.bytesFilled-=n,Hu(e._controlledReadableByteStream,r),Ju(e)}(e,t,r);Wu(e)}function ef(e){const t=e._pendingPullIntos.shift();return Xu(e),t}function tf(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function rf(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(function(e){Xu(e),e._pendingPullIntos=new Zc}(e),zu(e),tf(e),Kh(r,t))}function nf(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function af(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function sf(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function of(e,t){e._reader._readIntoRequests.push(t)}function cf(e){return e._reader._readIntoRequests.length}function uf(e){const t=e._reader;return void 0!==t&&!!hf(t)}Object.defineProperties(Lu.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Lu.prototype,Mc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ff{constructor(e){if(pu(e,1,"ReadableStreamBYOBReader"),vu(e,"First parameter"),Ih(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!qu(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");Xc(this,e),this._readIntoRequests=new Zc}get closed(){return hf(this)?this._closedPromise:Fc(lf("closed"))}cancel(e){return hf(this)?void 0===this._ownerReadableStream?Fc(eu("cancel")):Jc(this,e):Fc(lf("cancel"))}read(e){if(!hf(this))return Fc(lf("read"));if(!ArrayBuffer.isView(e))return Fc(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return Fc(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return Fc(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return Fc(eu("read from"));let t,r;const n=zc(((e,n)=>{t=e,r=n}));return function(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,s={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void of(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(Gu(e,s)){const t=$u(s);return Zu(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return rf(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),of(n,r),Wu(e)}else{const e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!hf(this))throw lf("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");Qc(this)}}}function hf(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function lf(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function df(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(Tu(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function pf(e){const{size:t}=e;return t||(()=>1)}function yf(e,t){hu(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:bu(r),size:void 0===n?void 0:bf(n,t+" has member 'size' that")}}function bf(e,t){return lu(e,t),t=>bu(e(t))}function gf(e,t,r){return lu(e,r),r=>Yc(e,t,[r])}function mf(e,t,r){return lu(e,r),()=>Yc(e,t,[])}function vf(e,t,r){return lu(e,r),r=>Gc(e,t,[r])}function wf(e,t,r){return lu(e,r),(r,n)=>Yc(e,t,[r,n])}function _f(e,t){if(!Ef(e))throw new TypeError(t+" is not a WritableStream.")}Object.defineProperties(ff.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(ff.prototype,Mc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class kf{constructor(e={},t={}){void 0===e?e=null:du(e,"First parameter");const r=yf(t,"Second parameter"),n=function(e,t){hu(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:gf(r,e,t+" has member 'abort' that"),close:void 0===n?void 0:mf(n,e,t+" has member 'close' that"),start:void 0===i?void 0:vf(i,e,t+" has member 'start' that"),write:void 0===s?void 0:wf(s,e,t+" has member 'write' that"),type:a}}(e,"First parameter");if(Sf(this),void 0!==n.type)throw new RangeError("Invalid type is specified");const i=pf(r);!function(e,t,r,n){const i=Object.create(qf.prototype);let a=()=>{},s=()=>jc(void 0),o=()=>jc(void 0),c=()=>jc(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.write&&(s=e=>t.write(e,i)),void 0!==t.close&&(o=()=>t.close()),void 0!==t.abort&&(c=e=>t.abort(e)),Nf(e,i,a,s,o,c,r,n)}(this,n,df(r,1),i)}get locked(){if(!Ef(this))throw Zf("locked");return xf(this)}abort(e){return Ef(this)?xf(this)?Fc(new TypeError("Cannot abort a stream that already has a writer")):Pf(this,e):Fc(Zf("abort"))}close(){return Ef(this)?xf(this)?Fc(new TypeError("Cannot close a stream that already has a writer")):Uf(this)?Fc(new TypeError("Cannot close an already-closing stream")):Cf(this):Fc(Zf("close"))}getWriter(){if(!Ef(this))throw Zf("getWriter");return Af(this)}}function Af(e){return new Df(e)}function Sf(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new Zc,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Ef(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function xf(e){return void 0!==e._writer}function Pf(e,t){const r=e._state;if("closed"===r||"errored"===r)return jc(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=zc(((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,n||Bf(e,t),i}function Cf(e){const t=e._state;if("closed"===t||"errored"===t)return Fc(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=zc(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&e._backpressure&&"writable"===t&&oh(n),Ou(i=e._writableStreamController,Lf,0),$f(i),r}function Mf(e,t){"writable"!==e._state?Rf(e):Bf(e,t)}function Bf(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&zf(n,t),!function(e){return void 0!==e._inFlightWriteRequest||void 0!==e._inFlightCloseRequest}(e)&&r._started&&Rf(e)}function Rf(e){e._state="errored",e._writableStreamController[su]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new Zc,void 0===e._pendingAbortRequest)return void If(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void If(e);qc(e._writableStreamController[au](r._reason),(()=>{r._resolve(),If(e)}),(t=>{r._reject(t),If(e)}))}function Uf(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function If(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&th(t,e._storedError)}function Tf(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){nh(e)}(r):oh(r)),e._backpressure=t}Object.defineProperties(kf.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(kf.prototype,Mc.toStringTag,{value:"WritableStream",configurable:!0});class Df{constructor(e){if(pu(e,1,"WritableStreamDefaultWriter"),_f(e,"First parameter"),xf(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!Uf(e)&&e._backpressure?nh(this):ah(this),Qf(this);else if("erroring"===t)ih(this,e._storedError),Qf(this);else if("closed"===t)ah(this),Qf(this),rh(this);else{const t=e._storedError;ih(this,t),eh(this,t)}}get closed(){return Kf(this)?this._closedPromise:Fc(Xf("closed"))}get desiredSize(){if(!Kf(this))throw Xf("desiredSize");if(void 0===this._ownerWritableStream)throw Jf("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;return"errored"===r||"erroring"===r?null:"closed"===r?0:Hf(t._writableStreamController)}(this)}get ready(){return Kf(this)?this._readyPromise:Fc(Xf("ready"))}abort(e){return Kf(this)?void 0===this._ownerWritableStream?Fc(Jf("abort")):function(e,t){return Pf(e._ownerWritableStream,t)}(this,e):Fc(Xf("abort"))}close(){if(!Kf(this))return Fc(Xf("close"));const e=this._ownerWritableStream;return void 0===e?Fc(Jf("close")):Uf(e)?Fc(new TypeError("Cannot close an already-closing stream")):Of(this)}releaseLock(){if(!Kf(this))throw Xf("releaseLock");void 0!==this._ownerWritableStream&&jf(this)}write(e){return Kf(this)?void 0===this._ownerWritableStream?Fc(Jf("write to")):Ff(this,e):Fc(Xf("write"))}}function Kf(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Of(e){return Cf(e._ownerWritableStream)}function zf(e,t){"pending"===e._readyPromiseState?sh(e,t):function(e,t){ih(e,t)}(e,t)}function jf(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");zf(e,r),function(e,t){"pending"===e._closedPromiseState?th(e,t):function(e,t){eh(e,t)}(e,t)}(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function Ff(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return Vf(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return Fc(Jf("write to"));const a=r._state;if("errored"===a)return Fc(r._storedError);if(Uf(r)||"closed"===a)return Fc(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return Fc(r._storedError);const s=function(e){return zc(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{Ou(e,t,r)}catch(t){return void Vf(e,t)}const n=e._controlledWritableStream;Uf(n)||"writable"!==n._state||Tf(n,Gf(e)),$f(e)}(n,t,i),s}Object.defineProperties(Df.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Df.prototype,Mc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const Lf={};class qf{constructor(){throw new TypeError("Illegal constructor")}error(e){if(!function(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&Yf(this,e)}[au](e){const t=this._abortAlgorithm(e);return Wf(this),t}[su](){zu(this)}}function Nf(e,t,r,n,i,a,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,zu(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a;const c=Gf(t);Tf(e,c),qc(jc(r()),(()=>{t._started=!0,$f(t)}),(r=>{t._started=!0,Mf(e,r)}))}function Wf(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Hf(e){return e._strategyHWM-e._queueTotalSize}function $f(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void Rf(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===Lf?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),Ku(e);const r=e._closeAlgorithm();Wf(e),qc(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&rh(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Mf(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r),qc(e._writeAlgorithm(t),(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(Ku(e),!Uf(r)&&"writable"===t){const t=Gf(e);Tf(r,t)}$f(e)}),(t=>{"writable"===r._state&&Wf(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Mf(e,t)}(r,t)}))}(e,r)}function Vf(e,t){"writable"===e._controlledWritableStream._state&&Yf(e,t)}function Gf(e){return Hf(e)<=0}function Yf(e,t){const r=e._controlledWritableStream;Wf(e),Bf(r,t)}function Zf(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function Xf(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function Jf(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function Qf(e){e._closedPromise=zc(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function eh(e,t){Qf(e),th(e,t)}function th(e,t){void 0!==e._closedPromise_reject&&($c(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function rh(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function nh(e){e._readyPromise=zc(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function ih(e,t){nh(e),sh(e,t)}function ah(e){nh(e),oh(e)}function sh(e,t){void 0!==e._readyPromise_reject&&($c(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function oh(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(qf.prototype,{error:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(qf.prototype,Mc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const ch="undefined"!=typeof DOMException?DOMException:void 0,uh=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(ch)?ch:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return Object.defineProperty(e.prototype=Object.create(Error.prototype),"constructor",{value:e,writable:!0,configurable:!0}),e}();function fh(e,t,r,n,i,a){const s=wu(e),o=Af(t);e._disturbed=!0;let c=!1,u=jc(void 0);return zc(((f,h)=>{let l;if(void 0!==a){if(l=()=>{const r=new uh("Aborted","AbortError"),a=[];n||a.push((()=>"writable"===t._state?Pf(t,r):jc(void 0))),i||a.push((()=>"readable"===e._state?Th(e,r):jc(void 0))),y((()=>Promise.all(a.map((e=>e())))),!0,r)},a.aborted)return void l();a.addEventListener("abort",l)}if(p(e,s._closedPromise,(e=>{n?b(!0,e):y((()=>Pf(t,e)),!0,e)})),p(t,o._closedPromise,(t=>{i?b(!0,t):y((()=>Th(e,t)),!0,t)})),function(e,t,r){"closed"===e._state?r():Nc(t,r)}(e,s._closedPromise,(()=>{r?b():y((()=>function(e){const t=e._ownerWritableStream,r=t._state;return Uf(t)||"closed"===r?jc(void 0):"errored"===r?Fc(t._storedError):Of(e)}(o)))})),Uf(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?b(!0,t):y((()=>Th(e,t)),!0,t)}function d(){const e=u;return Lc(u,(()=>e!==u?d():void 0))}function p(e,t,r){"errored"===e._state?r(e._storedError):Wc(t,r)}function y(e,r,n){function i(){qc(e(),(()=>g(r,n)),(e=>g(!0,e)))}c||(c=!0,"writable"!==t._state||Uf(t)?i():Nc(d(),i))}function b(e,r){c||(c=!0,"writable"!==t._state||Uf(t)?g(e,r):Nc(d(),(()=>g(e,r))))}function g(e,t){jf(o),Qc(s),void 0!==a&&a.removeEventListener("abort",l),e?h(t):f(void 0)}$c(zc(((e,t)=>{!function r(n){n?e():Lc(c?jc(!0):Lc(o._readyPromise,(()=>zc(((e,t)=>{Pu(s,{_chunkSteps:t=>{u=Lc(Ff(o,t),void 0,Bc),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class hh{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!lh(this))throw kh("desiredSize");return vh(this)}close(){if(!lh(this))throw kh("close");if(!wh(this))throw new TypeError("The stream is not in a state that permits close");bh(this)}enqueue(e){if(!lh(this))throw kh("enqueue");if(!wh(this))throw new TypeError("The stream is not in a state that permits enqueue");return gh(this,e)}error(e){if(!lh(this))throw kh("error");mh(this,e)}[ou](e){zu(this);const t=this._cancelAlgorithm(e);return yh(this),t}[cu](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=Ku(this);this._closeRequested&&0===this._queue.length?(yh(this),Dh(t)):dh(this),e._chunkSteps(r)}else _u(t,e),dh(this)}}function lh(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function dh(e){ph(e)&&(e._pulling?e._pullAgain=!0:(e._pulling=!0,qc(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,dh(e))}),(t=>{mh(e,t)}))))}function ph(e){const t=e._controlledReadableStream;return!!wh(e)&&!!e._started&&(!!(Ih(t)&&Au(t)>0)||vh(e)>0)}function yh(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function bh(e){if(!wh(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(yh(e),Dh(t))}function gh(e,t){if(!wh(e))return;const r=e._controlledReadableStream;if(Ih(r)&&Au(r)>0)ku(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw mh(e,t),t}try{Ou(e,t,r)}catch(t){throw mh(e,t),t}}dh(e)}function mh(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(zu(e),yh(e),Kh(r,t))}function vh(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function wh(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function _h(e,t,r,n,i,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,zu(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t,qc(jc(r()),(()=>{t._started=!0,dh(t)}),(e=>{mh(t,e)}))}function kh(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Ah(e,t,r){return lu(e,r),r=>Yc(e,t,[r])}function Sh(e,t,r){return lu(e,r),r=>Yc(e,t,[r])}function Eh(e,t,r){return lu(e,r),r=>Gc(e,t,[r])}function xh(e,t){if("bytes"!=(e=""+e))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Ph(e,t){if("byob"!=(e=""+e))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Ch(e,t){hu(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(t+" is not an AbortSignal.")}(a,t+" has member 'signal' that"),{preventAbort:!!r,preventCancel:!!n,preventClose:!!i,signal:a}}Object.defineProperties(hh.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(hh.prototype,Mc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class Mh{constructor(e={},t={}){void 0===e?e=null:du(e,"First parameter");const r=yf(t,"Second parameter"),n=function(e,t){hu(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,a=null==r?void 0:r.pull,s=null==r?void 0:r.start,o=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:mu(n,t+" has member 'autoAllocateChunkSize' that"),cancel:void 0===i?void 0:Ah(i,r,t+" has member 'cancel' that"),pull:void 0===a?void 0:Sh(a,r,t+" has member 'pull' that"),start:void 0===s?void 0:Eh(s,r,t+" has member 'start' that"),type:void 0===o?void 0:xh(o,t+" has member 'type' that")}}(e,"First parameter");if(Rh(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");!function(e,t,r){const n=Object.create(Lu.prototype);let i=()=>{},a=()=>jc(void 0),s=()=>jc(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(a=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const o=t.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(e,t,r,n,i,a,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,zu(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new Zc,e._readableStreamController=t,qc(jc(r()),(()=>{t._started=!0,Wu(t)}),(e=>{rf(t,e)}))}(e,n,i,a,s,r,o)}(this,n,df(r,0))}else{const e=pf(r);!function(e,t,r,n){const i=Object.create(hh.prototype);let a=()=>{},s=()=>jc(void 0),o=()=>jc(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.pull&&(s=()=>t.pull(i)),void 0!==t.cancel&&(o=e=>t.cancel(e)),_h(e,i,a,s,o,r,n)}(this,n,df(r,1),e)}}get locked(){if(!Uh(this))throw Oh("locked");return Ih(this)}cancel(e){return Uh(this)?Ih(this)?Fc(new TypeError("Cannot cancel a stream that already has a reader")):Th(this,e):Fc(Oh("cancel"))}getReader(e){if(!Uh(this))throw Oh("getReader");return void 0===function(e,t){hu(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:Ph(r,t+" has member 'mode' that")}}(e,"First parameter").mode?wu(this):function(e){return new ff(e)}(this)}pipeThrough(e,t={}){if(!Uh(this))throw Oh("pipeThrough");pu(e,1,"pipeThrough");const r=function(e,t){hu(e,t);const r=null==e?void 0:e.readable;yu(r,"readable","ReadableWritablePair"),vu(r,t+" has member 'readable' that");const n=null==e?void 0:e.writable;return yu(n,"writable","ReadableWritablePair"),_f(n,t+" has member 'writable' that"),{readable:r,writable:n}}(e,"First parameter"),n=Ch(t,"Second parameter");if(Ih(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(xf(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return $c(fh(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Uh(this))return Fc(Oh("pipeTo"));if(void 0===e)return Fc("Parameter 1 is required in 'pipeTo'.");if(!Ef(e))return Fc(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=Ch(t,"Second parameter")}catch(e){return Fc(e)}return Ih(this)?Fc(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):xf(e)?Fc(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):fh(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Uh(this))throw Oh("tee");const e=function(e,t){const r=wu(e);let n,i,a,s,o,c=!1,u=!1,f=!1;const h=zc((e=>{o=e}));function l(){return c||(c=!0,Pu(r,{_chunkSteps:e=>{Vc((()=>{c=!1;const t=e,r=e;u||gh(a._readableStreamController,t),f||gh(s._readableStreamController,r)}))},_closeSteps:()=>{c=!1,u||bh(a._readableStreamController),f||bh(s._readableStreamController),u&&f||o(void 0)},_errorSteps:()=>{c=!1}})),jc(void 0)}function d(){}return a=Bh(d,l,(function(t){if(u=!0,n=t,f){const t=ju([n,i]),r=Th(e,t);o(r)}return h})),s=Bh(d,l,(function(t){if(f=!0,i=t,u){const t=ju([n,i]),r=Th(e,t);o(r)}return h})),Wc(r._closedPromise,(e=>{mh(a._readableStreamController,e),mh(s._readableStreamController,e),u&&f||o(void 0)})),[a,s]}(this);return ju(e)}values(e){if(!Uh(this))throw Oh("values");return function(e,t){const r=wu(e),n=new Bu(r,t),i=Object.create(Ru);return i._asyncIteratorImpl=n,i}(this,function(e,t){return hu(e,"First parameter"),{preventCancel:!!(null==e?void 0:e.preventCancel)}}(e).preventCancel)}}function Bh(e,t,r,n=1,i=(()=>1)){const a=Object.create(Mh.prototype);return Rh(a),_h(a,Object.create(hh.prototype),e,t,r,n,i),a}function Rh(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Uh(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function Ih(e){return void 0!==e._reader}function Th(e,t){return e._disturbed=!0,"closed"===e._state?jc(void 0):"errored"===e._state?Fc(e._storedError):(Dh(e),Hc(e._readableStreamController[ou](t),Bc))}function Dh(e){e._state="closed";const t=e._reader;void 0!==t&&(iu(t),xu(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new Zc))}function Kh(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(nu(r,t),xu(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new Zc):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new Zc))}function Oh(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function zh(e,t){hu(e,t);const r=null==e?void 0:e.highWaterMark;return yu(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:bu(r)}}Object.defineProperties(Mh.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Mh.prototype,Mc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Mc.asyncIterator&&Object.defineProperty(Mh.prototype,Mc.asyncIterator,{value:Mh.prototype.values,writable:!0,configurable:!0});const jh=function(e){return e.byteLength};class Fh{constructor(e){pu(e,1,"ByteLengthQueuingStrategy"),e=zh(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!qh(this))throw Lh("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!qh(this))throw Lh("size");return jh}}function Lh(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function qh(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(Fh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Fh.prototype,Mc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const Nh=function(){return 1};class Wh{constructor(e){pu(e,1,"CountQueuingStrategy"),e=zh(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!$h(this))throw Hh("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!$h(this))throw Hh("size");return Nh}}function Hh(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function $h(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function Vh(e,t,r){return lu(e,r),r=>Yc(e,t,[r])}function Gh(e,t,r){return lu(e,r),r=>Gc(e,t,[r])}function Yh(e,t,r){return lu(e,r),(r,n)=>Yc(e,t,[r,n])}Object.defineProperties(Wh.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Wh.prototype,Mc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class Zh{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=yf(t,"Second parameter"),i=yf(r,"Third parameter"),a=function(e,t){hu(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:Vh(r,e,t+" has member 'flush' that"),readableType:n,start:void 0===i?void 0:Gh(i,e,t+" has member 'start' that"),transform:void 0===a?void 0:Yh(a,e,t+" has member 'transform' that"),writableType:s}}(e,"First parameter");if(void 0!==a.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw new RangeError("Invalid writableType specified");const s=df(i,0),o=pf(i),c=df(n,1),u=pf(n);let f;!function(e,t,r,n,i,a){function s(){return t}e._writable=function(e,t,r,n,i=1,a=(()=>1)){const s=Object.create(kf.prototype);return Sf(s),Nf(s,Object.create(qf.prototype),e,t,r,n,i,a),s}(s,(function(t){return function(e,t){const r=e._transformStreamController;return e._backpressure?Hc(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return al(r,t)})):al(r,t)}(e,t)}),(function(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return nl(r),Hc(n,(()=>{if("errored"===t._state)throw t._storedError;bh(t._readableStreamController)}),(r=>{throw Jh(e,r),t._storedError}))}(e)}),(function(t){return function(e,t){return Jh(e,t),jc(void 0)}(e,t)}),r,n),e._readable=Bh(s,(function(){return function(e){return el(e,!1),e._backpressureChangePromise}(e)}),(function(t){return Qh(e,t),jc(void 0)}),i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,el(e,!0),e._transformStreamController=void 0}(this,zc((e=>{f=e})),c,u,s,o),function(e,t){const r=Object.create(tl.prototype);let n=e=>{try{return il(r,e),jc(void 0)}catch(e){return Fc(e)}},i=()=>jc(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r)),void 0!==t.flush&&(i=()=>t.flush(r)),function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,a),void 0!==a.start?f(a.start(this._transformStreamController)):f(void 0)}get readable(){if(!Xh(this))throw ol("readable");return this._readable}get writable(){if(!Xh(this))throw ol("writable");return this._writable}}function Xh(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function Jh(e,t){mh(e._readable._readableStreamController,t),Qh(e,t)}function Qh(e,t){nl(e._transformStreamController),Vf(e._writable._writableStreamController,t),e._backpressure&&el(e,!1)}function el(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=zc((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(Zh.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(Zh.prototype,Mc.toStringTag,{value:"TransformStream",configurable:!0});class tl{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!rl(this))throw sl("desiredSize");return vh(this._controlledTransformStream._readable._readableStreamController)}enqueue(e){if(!rl(this))throw sl("enqueue");il(this,e)}error(e){if(!rl(this))throw sl("error");var t;t=e,Jh(this._controlledTransformStream,t)}terminate(){if(!rl(this))throw sl("terminate");!function(e){const t=e._controlledTransformStream;bh(t._readable._readableStreamController),Qh(t,new TypeError("TransformStream terminated"))}(this)}}function rl(e){return!!Uc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function nl(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function il(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!wh(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{gh(n,t)}catch(e){throw Qh(r,e),r._readable._storedError}(function(e){return!ph(e)})(n)!==r._backpressure&&el(r,!0)}function al(e,t){return Hc(e._transformAlgorithm(t),void 0,(t=>{throw Jh(e._controlledTransformStream,t),t}))}function sl(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function ol(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(tl.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Mc.toStringTag&&Object.defineProperty(tl.prototype,Mc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var cl=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:Fh,CountQueuingStrategy:Wh,ReadableByteStreamController:Lu,ReadableStream:Mh,ReadableStreamBYOBReader:ff,ReadableStreamBYOBRequest:Fu,ReadableStreamDefaultController:hh,ReadableStreamDefaultReader:Eu,TransformStream:Zh,TransformStreamDefaultController:tl,WritableStream:kf,WritableStreamDefaultController:qf,WritableStreamDefaultWriter:Df}),ul=function(e,t){return(ul=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])})(e,t)};function fl(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+t+" is not a constructor or null");function r(){this.constructor=e}ul(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function hl(e){if(!e)throw new TypeError("Assertion failed")}function ll(){}function dl(e){return"object"==typeof e&&null!==e||"function"==typeof e}function pl(e){if("function"!=typeof e)return!1;var t=!1;try{new e({start:function(){t=!0}})}catch(e){}return t}function yl(e){return!!dl(e)&&"function"==typeof e.getReader}function bl(e){return!!dl(e)&&"function"==typeof e.getWriter}function gl(e){return!!dl(e)&&!!yl(e.readable)&&!!bl(e.writable)}function ml(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}function vl(e,t){var r=(void 0===t?{}:t).type;return hl(yl(e)),hl(!1===e.locked),"bytes"===(r=wl(r))?new Sl(e):new kl(e)}function wl(e){var t=e+"";if("bytes"===t)return t;if(void 0===e)return e;throw new RangeError("Invalid type is specified")}var _l=function(){function e(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return e.prototype.start=function(e){this._readableStreamController=e},e.prototype.cancel=function(e){return hl(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},e.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},e.prototype._attachReader=function(e){var t=this;hl(void 0===this._underlyingReader),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then((function(){return t._finishPendingRead()})).then((function(){e===t._underlyingReader&&t._readableStreamController.close()}),(function(r){e===t._underlyingReader&&t._readableStreamController.error(r)})).catch(ll)},e.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var t=this._underlyingReader.read().then((function(t){var r=e._readableStreamController;t.done?e._tryClose():r.enqueue(t.value)}));return this._setPendingRead(t),t},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},e.prototype._setPendingRead=function(e){var t,r=this,n=function(){r._pendingRead===t&&(r._pendingRead=void 0)};this._pendingRead=t=e.then(n,n)},e.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var t=function(){return e._finishPendingRead()};return this._pendingRead.then(t,t)}},e}(),kl=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return fl(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(_l);function Al(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Sl=function(e){function t(t){var r=this,n=ml(t);return(r=e.call(this,t)||this)._supportsByob=n,r}return fl(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if("byob"!==this._readerMode){hl(this._supportsByob),this._detachReader();var e=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(e)}},t.prototype.pull=function(){if(this._supportsByob){var e=this._readableStreamController.byobRequest;if(e)return this._pullWithByobRequest(e)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(e){var t=this;this._attachByobReader();var r=new Uint8Array(e.view.byteLength),n=this._underlyingReader.read(r).then((function(r){var n,i,a;t._readableStreamController,r.done?(t._tryClose(),e.respond(0)):(n=r.value,i=e.view,a=Al(n),Al(i).set(a,0),e.respond(r.value.byteLength))}));return this._setPendingRead(n),n},t}(_l);function El(e){hl(bl(e)),hl(!1===e.locked);var t=e.getWriter();return new xl(t)}var xl=function(){function e(e){var t=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise((function(e,r){t._errorPromiseReject=r})),this._errorPromise.catch(ll)}return e.prototype.start=function(e){var t=this;this._writableStreamController=e,this._underlyingWriter.closed.then((function(){t._state="closed"})).catch((function(e){return t._finishErroring(e)}))},e.prototype.write=function(e){var t=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var n=r.write(e);n.catch((function(e){return t._finishErroring(e)})),r.ready.catch((function(e){return t._startErroring(e)}));var i=Promise.race([n,this._errorPromise]);return this._setPendingWrite(i),i},e.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then((function(){return e.close()}))},e.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},e.prototype._setPendingWrite=function(e){var t,r=this,n=function(){r._pendingWrite===t&&(r._pendingWrite=void 0)};this._pendingWrite=t=e.then(n,n)},e.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var t=function(){return e._finishPendingWrite()};return this._pendingWrite.then(t,t)},e.prototype._startErroring=function(e){var t=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var r=function(){return t._finishErroring(e)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(e)}},e.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function Pl(e){hl(gl(e));var t=e.readable,r=e.writable;hl(!1===t.locked),hl(!1===r.locked);var n,i=t.getReader();try{n=r.getWriter()}catch(e){throw i.releaseLock(),e}return new Cl(i,n)}var Cl=function(){function e(e,t){var r=this;this._transformStreamController=void 0,this._onRead=function(e){if(!e.done)return r._transformStreamController.enqueue(e.value),r._reader.read().then(r._onRead)},this._onError=function(e){r._flushReject(e),r._transformStreamController.error(e),r._reader.cancel(e).catch(ll),r._writer.abort(e).catch(ll)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var e=new TypeError("TransformStream terminated");r._writer.abort(e).catch(ll)},this._reader=e,this._writer=t,this._flushPromise=new Promise((function(e,t){r._flushResolve=e,r._flushReject=t}))}return e.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var t=this._reader.closed;t&&t.then(this._onTerminate,this._onError)},e.prototype.transform=function(e){return this._writer.write(e)},e.prototype.flush=function(){var e=this;return this._writer.close().then((function(){return e._flushPromise}))},e}(),Ml=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){hl(function(e){return!!pl(e)&&!!yl(new e)}(e));var t=function(e){try{return new e({type:"bytes"}),!0}catch(e){return!1}}(e);return function(r,n){var i=(void 0===n?{}:n).type;if("bytes"!==(i=wl(i))||t||(i=void 0),r.constructor===e&&("bytes"!==i||ml(r)))return r;if("bytes"===i){var a=vl(r,{type:i});return new e(a)}return a=vl(r),new e(a)}},createTransformStreamWrapper:function(e){return hl(function(e){return!!pl(e)&&!!gl(new e)}(e)),function(t){if(t.constructor===e)return t;var r=Pl(t);return new e(r)}},createWrappingReadableSource:vl,createWrappingTransformer:Pl,createWrappingWritableSink:El,createWritableStreamWrapper:function(e){return hl(function(e){return!!pl(e)&&!!bl(new e)}(e)),function(t){if(t.constructor===e)return t;var r=El(t);return new e(r)}}}),Bl=it((function(e){!function(e,t){function r(e,t){if(!e)throw Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a=void 0}catch(e){}function s(e,t,r){for(var n=0,i=Math.min(e.length,r),a=t;a<i;a++){var s=e.charCodeAt(a)-48;n<<=4,n|=s>=49&&s<=54?s-49+10:s>=17&&s<=22?s-17+10:15&s}return n}function o(e,t,r,n){for(var i=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&i++,16===t?this._parseHex(e,i):this._parseBase(e,t,i),"-"===e[0]&&(this.negative=1),this.strip(),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t){this.length=Math.ceil((e.length-t)/6),this.words=Array(this.length);for(var r=0;r<this.length;r++)this.words[r]=0;var n,i,a=0;for(r=e.length-6,n=0;r>=t;r-=6)i=s(e,r,r+6),this.words[n]|=i<<a&67108863,this.words[n+1]|=i>>>26-a&4194303,(a+=24)>=26&&(a-=26,n++);r+6!==t&&(i=s(e,t,r+6),this.words[n]|=i<<a&67108863,this.words[n+1]|=i>>>26-a&4194303),this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,s=a%n,c=Math.min(a,a-s)+r,u=0,f=r;f<c;f+=n)u=o(e,f,f+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var h=1;for(u=o(e,f,e.length,t),f=0;f<s;f++)h*=t;this.imuln(h),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}},i.prototype.copy=function(e){e.words=Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var c=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],u=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function h(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var f=c>>>26,h=67108863&c,l=Math.min(u,t.length-1),d=Math.max(0,u-e.length+1);d<=l;d++){var p=u-d|0;f+=(s=(i=0|e.words[p])*(a=0|t.words[d])+h)/67108864|0,h=67108863&s}r.words[u]=0|h,c=0|f}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],h=(16777215&(o<<i|a)).toString(16);n=0!=(a=o>>>24-i&16777215)||s!==this.length-1?c[6-h.length]+h+n:h+n,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var l=u[e],d=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(d).toString(e);n=(p=p.idivn(d)).isZero()?y+n:c[l-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(a),f=this.clone();if(c){for(o=0;!f.isZero();o++)s=f.andln(255),f.iushrn(8),u[o]=s;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-i;o++)u[o]=0;for(o=0;!f.isZero();o++)s=f.andln(255),f.iushrn(8),u[a-o-1]=s}return u},i.prototype._countBits=Math.clz32?function(e){return 32-Math.clz32(e)}:function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,s=0;s<n.length;s++)a=(t=(0|r.words[s])-(0|n.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,a,s=e.words,o=t.words,c=r.words,u=0,f=0|s[0],h=8191&f,l=f>>>13,d=0|s[1],p=8191&d,y=d>>>13,b=0|s[2],g=8191&b,m=b>>>13,v=0|s[3],w=8191&v,_=v>>>13,k=0|s[4],A=8191&k,S=k>>>13,E=0|s[5],x=8191&E,P=E>>>13,C=0|s[6],M=8191&C,B=C>>>13,R=0|s[7],U=8191&R,I=R>>>13,T=0|s[8],D=8191&T,K=T>>>13,O=0|s[9],z=8191&O,j=O>>>13,F=0|o[0],L=8191&F,q=F>>>13,N=0|o[1],W=8191&N,H=N>>>13,$=0|o[2],V=8191&$,G=$>>>13,Y=0|o[3],Z=8191&Y,X=Y>>>13,J=0|o[4],Q=8191&J,ee=J>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,fe=0|o[8],he=8191&fe,le=fe>>>13,de=0|o[9],pe=8191&de,ye=de>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(h,L))|0)+((8191&(i=(i=Math.imul(h,q))+Math.imul(l,L)|0))<<13)|0;u=((a=Math.imul(l,q))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,L),i=(i=Math.imul(p,q))+Math.imul(y,L)|0,a=Math.imul(y,q);var ge=(u+(n=n+Math.imul(h,W)|0)|0)+((8191&(i=(i=i+Math.imul(h,H)|0)+Math.imul(l,W)|0))<<13)|0;u=((a=a+Math.imul(l,H)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(g,L),i=(i=Math.imul(g,q))+Math.imul(m,L)|0,a=Math.imul(m,q),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,W)|0,a=a+Math.imul(y,H)|0;var me=(u+(n=n+Math.imul(h,V)|0)|0)+((8191&(i=(i=i+Math.imul(h,G)|0)+Math.imul(l,V)|0))<<13)|0;u=((a=a+Math.imul(l,G)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(w,L),i=(i=Math.imul(w,q))+Math.imul(_,L)|0,a=Math.imul(_,q),n=n+Math.imul(g,W)|0,i=(i=i+Math.imul(g,H)|0)+Math.imul(m,W)|0,a=a+Math.imul(m,H)|0,n=n+Math.imul(p,V)|0,i=(i=i+Math.imul(p,G)|0)+Math.imul(y,V)|0,a=a+Math.imul(y,G)|0;var ve=(u+(n=n+Math.imul(h,Z)|0)|0)+((8191&(i=(i=i+Math.imul(h,X)|0)+Math.imul(l,Z)|0))<<13)|0;u=((a=a+Math.imul(l,X)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(A,L),i=(i=Math.imul(A,q))+Math.imul(S,L)|0,a=Math.imul(S,q),n=n+Math.imul(w,W)|0,i=(i=i+Math.imul(w,H)|0)+Math.imul(_,W)|0,a=a+Math.imul(_,H)|0,n=n+Math.imul(g,V)|0,i=(i=i+Math.imul(g,G)|0)+Math.imul(m,V)|0,a=a+Math.imul(m,G)|0,n=n+Math.imul(p,Z)|0,i=(i=i+Math.imul(p,X)|0)+Math.imul(y,Z)|0,a=a+Math.imul(y,X)|0;var we=(u+(n=n+Math.imul(h,Q)|0)|0)+((8191&(i=(i=i+Math.imul(h,ee)|0)+Math.imul(l,Q)|0))<<13)|0;u=((a=a+Math.imul(l,ee)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(x,L),i=(i=Math.imul(x,q))+Math.imul(P,L)|0,a=Math.imul(P,q),n=n+Math.imul(A,W)|0,i=(i=i+Math.imul(A,H)|0)+Math.imul(S,W)|0,a=a+Math.imul(S,H)|0,n=n+Math.imul(w,V)|0,i=(i=i+Math.imul(w,G)|0)+Math.imul(_,V)|0,a=a+Math.imul(_,G)|0,n=n+Math.imul(g,Z)|0,i=(i=i+Math.imul(g,X)|0)+Math.imul(m,Z)|0,a=a+Math.imul(m,X)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,Q)|0,a=a+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(h,re)|0)|0)+((8191&(i=(i=i+Math.imul(h,ne)|0)+Math.imul(l,re)|0))<<13)|0;u=((a=a+Math.imul(l,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(M,L),i=(i=Math.imul(M,q))+Math.imul(B,L)|0,a=Math.imul(B,q),n=n+Math.imul(x,W)|0,i=(i=i+Math.imul(x,H)|0)+Math.imul(P,W)|0,a=a+Math.imul(P,H)|0,n=n+Math.imul(A,V)|0,i=(i=i+Math.imul(A,G)|0)+Math.imul(S,V)|0,a=a+Math.imul(S,G)|0,n=n+Math.imul(w,Z)|0,i=(i=i+Math.imul(w,X)|0)+Math.imul(_,Z)|0,a=a+Math.imul(_,X)|0,n=n+Math.imul(g,Q)|0,i=(i=i+Math.imul(g,ee)|0)+Math.imul(m,Q)|0,a=a+Math.imul(m,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0;var ke=(u+(n=n+Math.imul(h,ae)|0)|0)+((8191&(i=(i=i+Math.imul(h,se)|0)+Math.imul(l,ae)|0))<<13)|0;u=((a=a+Math.imul(l,se)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(U,L),i=(i=Math.imul(U,q))+Math.imul(I,L)|0,a=Math.imul(I,q),n=n+Math.imul(M,W)|0,i=(i=i+Math.imul(M,H)|0)+Math.imul(B,W)|0,a=a+Math.imul(B,H)|0,n=n+Math.imul(x,V)|0,i=(i=i+Math.imul(x,G)|0)+Math.imul(P,V)|0,a=a+Math.imul(P,G)|0,n=n+Math.imul(A,Z)|0,i=(i=i+Math.imul(A,X)|0)+Math.imul(S,Z)|0,a=a+Math.imul(S,X)|0,n=n+Math.imul(w,Q)|0,i=(i=i+Math.imul(w,ee)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(g,re)|0,i=(i=i+Math.imul(g,ne)|0)+Math.imul(m,re)|0,a=a+Math.imul(m,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,se)|0;var Ae=(u+(n=n+Math.imul(h,ce)|0)|0)+((8191&(i=(i=i+Math.imul(h,ue)|0)+Math.imul(l,ce)|0))<<13)|0;u=((a=a+Math.imul(l,ue)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(D,L),i=(i=Math.imul(D,q))+Math.imul(K,L)|0,a=Math.imul(K,q),n=n+Math.imul(U,W)|0,i=(i=i+Math.imul(U,H)|0)+Math.imul(I,W)|0,a=a+Math.imul(I,H)|0,n=n+Math.imul(M,V)|0,i=(i=i+Math.imul(M,G)|0)+Math.imul(B,V)|0,a=a+Math.imul(B,G)|0,n=n+Math.imul(x,Z)|0,i=(i=i+Math.imul(x,X)|0)+Math.imul(P,Z)|0,a=a+Math.imul(P,X)|0,n=n+Math.imul(A,Q)|0,i=(i=i+Math.imul(A,ee)|0)+Math.imul(S,Q)|0,a=a+Math.imul(S,ee)|0,n=n+Math.imul(w,re)|0,i=(i=i+Math.imul(w,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(g,ae)|0,i=(i=i+Math.imul(g,se)|0)+Math.imul(m,ae)|0,a=a+Math.imul(m,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,a=a+Math.imul(y,ue)|0;var Se=(u+(n=n+Math.imul(h,he)|0)|0)+((8191&(i=(i=i+Math.imul(h,le)|0)+Math.imul(l,he)|0))<<13)|0;u=((a=a+Math.imul(l,le)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(z,L),i=(i=Math.imul(z,q))+Math.imul(j,L)|0,a=Math.imul(j,q),n=n+Math.imul(D,W)|0,i=(i=i+Math.imul(D,H)|0)+Math.imul(K,W)|0,a=a+Math.imul(K,H)|0,n=n+Math.imul(U,V)|0,i=(i=i+Math.imul(U,G)|0)+Math.imul(I,V)|0,a=a+Math.imul(I,G)|0,n=n+Math.imul(M,Z)|0,i=(i=i+Math.imul(M,X)|0)+Math.imul(B,Z)|0,a=a+Math.imul(B,X)|0,n=n+Math.imul(x,Q)|0,i=(i=i+Math.imul(x,ee)|0)+Math.imul(P,Q)|0,a=a+Math.imul(P,ee)|0,n=n+Math.imul(A,re)|0,i=(i=i+Math.imul(A,ne)|0)+Math.imul(S,re)|0,a=a+Math.imul(S,ne)|0,n=n+Math.imul(w,ae)|0,i=(i=i+Math.imul(w,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,n=n+Math.imul(g,ce)|0,i=(i=i+Math.imul(g,ue)|0)+Math.imul(m,ce)|0,a=a+Math.imul(m,ue)|0,n=n+Math.imul(p,he)|0,i=(i=i+Math.imul(p,le)|0)+Math.imul(y,he)|0,a=a+Math.imul(y,le)|0;var Ee=(u+(n=n+Math.imul(h,pe)|0)|0)+((8191&(i=(i=i+Math.imul(h,ye)|0)+Math.imul(l,pe)|0))<<13)|0;u=((a=a+Math.imul(l,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(z,W),i=(i=Math.imul(z,H))+Math.imul(j,W)|0,a=Math.imul(j,H),n=n+Math.imul(D,V)|0,i=(i=i+Math.imul(D,G)|0)+Math.imul(K,V)|0,a=a+Math.imul(K,G)|0,n=n+Math.imul(U,Z)|0,i=(i=i+Math.imul(U,X)|0)+Math.imul(I,Z)|0,a=a+Math.imul(I,X)|0,n=n+Math.imul(M,Q)|0,i=(i=i+Math.imul(M,ee)|0)+Math.imul(B,Q)|0,a=a+Math.imul(B,ee)|0,n=n+Math.imul(x,re)|0,i=(i=i+Math.imul(x,ne)|0)+Math.imul(P,re)|0,a=a+Math.imul(P,ne)|0,n=n+Math.imul(A,ae)|0,i=(i=i+Math.imul(A,se)|0)+Math.imul(S,ae)|0,a=a+Math.imul(S,se)|0,n=n+Math.imul(w,ce)|0,i=(i=i+Math.imul(w,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,n=n+Math.imul(g,he)|0,i=(i=i+Math.imul(g,le)|0)+Math.imul(m,he)|0,a=a+Math.imul(m,le)|0;var xe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((a=a+Math.imul(y,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(z,V),i=(i=Math.imul(z,G))+Math.imul(j,V)|0,a=Math.imul(j,G),n=n+Math.imul(D,Z)|0,i=(i=i+Math.imul(D,X)|0)+Math.imul(K,Z)|0,a=a+Math.imul(K,X)|0,n=n+Math.imul(U,Q)|0,i=(i=i+Math.imul(U,ee)|0)+Math.imul(I,Q)|0,a=a+Math.imul(I,ee)|0,n=n+Math.imul(M,re)|0,i=(i=i+Math.imul(M,ne)|0)+Math.imul(B,re)|0,a=a+Math.imul(B,ne)|0,n=n+Math.imul(x,ae)|0,i=(i=i+Math.imul(x,se)|0)+Math.imul(P,ae)|0,a=a+Math.imul(P,se)|0,n=n+Math.imul(A,ce)|0,i=(i=i+Math.imul(A,ue)|0)+Math.imul(S,ce)|0,a=a+Math.imul(S,ue)|0,n=n+Math.imul(w,he)|0,i=(i=i+Math.imul(w,le)|0)+Math.imul(_,he)|0,a=a+Math.imul(_,le)|0;var Pe=(u+(n=n+Math.imul(g,pe)|0)|0)+((8191&(i=(i=i+Math.imul(g,ye)|0)+Math.imul(m,pe)|0))<<13)|0;u=((a=a+Math.imul(m,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(z,Z),i=(i=Math.imul(z,X))+Math.imul(j,Z)|0,a=Math.imul(j,X),n=n+Math.imul(D,Q)|0,i=(i=i+Math.imul(D,ee)|0)+Math.imul(K,Q)|0,a=a+Math.imul(K,ee)|0,n=n+Math.imul(U,re)|0,i=(i=i+Math.imul(U,ne)|0)+Math.imul(I,re)|0,a=a+Math.imul(I,ne)|0,n=n+Math.imul(M,ae)|0,i=(i=i+Math.imul(M,se)|0)+Math.imul(B,ae)|0,a=a+Math.imul(B,se)|0,n=n+Math.imul(x,ce)|0,i=(i=i+Math.imul(x,ue)|0)+Math.imul(P,ce)|0,a=a+Math.imul(P,ue)|0,n=n+Math.imul(A,he)|0,i=(i=i+Math.imul(A,le)|0)+Math.imul(S,he)|0,a=a+Math.imul(S,le)|0;var Ce=(u+(n=n+Math.imul(w,pe)|0)|0)+((8191&(i=(i=i+Math.imul(w,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(z,Q),i=(i=Math.imul(z,ee))+Math.imul(j,Q)|0,a=Math.imul(j,ee),n=n+Math.imul(D,re)|0,i=(i=i+Math.imul(D,ne)|0)+Math.imul(K,re)|0,a=a+Math.imul(K,ne)|0,n=n+Math.imul(U,ae)|0,i=(i=i+Math.imul(U,se)|0)+Math.imul(I,ae)|0,a=a+Math.imul(I,se)|0,n=n+Math.imul(M,ce)|0,i=(i=i+Math.imul(M,ue)|0)+Math.imul(B,ce)|0,a=a+Math.imul(B,ue)|0,n=n+Math.imul(x,he)|0,i=(i=i+Math.imul(x,le)|0)+Math.imul(P,he)|0,a=a+Math.imul(P,le)|0;var Me=(u+(n=n+Math.imul(A,pe)|0)|0)+((8191&(i=(i=i+Math.imul(A,ye)|0)+Math.imul(S,pe)|0))<<13)|0;u=((a=a+Math.imul(S,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(z,re),i=(i=Math.imul(z,ne))+Math.imul(j,re)|0,a=Math.imul(j,ne),n=n+Math.imul(D,ae)|0,i=(i=i+Math.imul(D,se)|0)+Math.imul(K,ae)|0,a=a+Math.imul(K,se)|0,n=n+Math.imul(U,ce)|0,i=(i=i+Math.imul(U,ue)|0)+Math.imul(I,ce)|0,a=a+Math.imul(I,ue)|0,n=n+Math.imul(M,he)|0,i=(i=i+Math.imul(M,le)|0)+Math.imul(B,he)|0,a=a+Math.imul(B,le)|0;var Be=(u+(n=n+Math.imul(x,pe)|0)|0)+((8191&(i=(i=i+Math.imul(x,ye)|0)+Math.imul(P,pe)|0))<<13)|0;u=((a=a+Math.imul(P,ye)|0)+(i>>>13)|0)+(Be>>>26)|0,Be&=67108863,n=Math.imul(z,ae),i=(i=Math.imul(z,se))+Math.imul(j,ae)|0,a=Math.imul(j,se),n=n+Math.imul(D,ce)|0,i=(i=i+Math.imul(D,ue)|0)+Math.imul(K,ce)|0,a=a+Math.imul(K,ue)|0,n=n+Math.imul(U,he)|0,i=(i=i+Math.imul(U,le)|0)+Math.imul(I,he)|0,a=a+Math.imul(I,le)|0;var Re=(u+(n=n+Math.imul(M,pe)|0)|0)+((8191&(i=(i=i+Math.imul(M,ye)|0)+Math.imul(B,pe)|0))<<13)|0;u=((a=a+Math.imul(B,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863,n=Math.imul(z,ce),i=(i=Math.imul(z,ue))+Math.imul(j,ce)|0,a=Math.imul(j,ue),n=n+Math.imul(D,he)|0,i=(i=i+Math.imul(D,le)|0)+Math.imul(K,he)|0,a=a+Math.imul(K,le)|0;var Ue=(u+(n=n+Math.imul(U,pe)|0)|0)+((8191&(i=(i=i+Math.imul(U,ye)|0)+Math.imul(I,pe)|0))<<13)|0;u=((a=a+Math.imul(I,ye)|0)+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,n=Math.imul(z,he),i=(i=Math.imul(z,le))+Math.imul(j,he)|0,a=Math.imul(j,le);var Ie=(u+(n=n+Math.imul(D,pe)|0)|0)+((8191&(i=(i=i+Math.imul(D,ye)|0)+Math.imul(K,pe)|0))<<13)|0;u=((a=a+Math.imul(K,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863;var Te=(u+(n=Math.imul(z,pe))|0)+((8191&(i=(i=Math.imul(z,ye))+Math.imul(j,pe)|0))<<13)|0;return u=((a=Math.imul(j,ye))+(i>>>13)|0)+(Te>>>26)|0,Te&=67108863,c[0]=be,c[1]=ge,c[2]=me,c[3]=ve,c[4]=we,c[5]=_e,c[6]=ke,c[7]=Ae,c[8]=Se,c[9]=Ee,c[10]=xe,c[11]=Pe,c[12]=Ce,c[13]=Me,c[14]=Be,c[15]=Re,c[16]=Ue,c[17]=Ie,c[18]=Te,0!==u&&(c[19]=u,r.length++),r};function d(e,t,r){return(new p).mulp(e,t,r)}function p(e,t){this.x=e,this.y=t}Math.imul||(l=h),i.prototype.mulTo=function(e,t){var r=this.length+e.length;return 10===this.length&&10===e.length?l(this,e,t):r<63?h(this,e,t):r<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=67108863&n,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var f=a-u,h=(0|e.words[f])*(0|t.words[u]),l=67108863&h;o=67108863&(l=l+o|0),i+=(s=(s=s+(h/67108864|0)|0)+(l>>>26)|0)>>>26,s&=67108863}r.words[a]=o,n=s,s=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):d(this,e,t)},p.prototype.makeRBT=function(e){for(var t=Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},p.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},p.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},p.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),f=0;f<i;f+=o)for(var h=c,l=u,d=0;d<s;d++){var p=r[f+d],y=n[f+d],b=r[f+d+s],g=n[f+d+s],m=h*b-l*g;g=h*g+l*b,b=m,r[f+d]=p+b,n[f+d]=y+g,r[f+d+s]=p-b,n[f+d+s]=y-g,d!==o&&(m=c*h-u*l,l=c*l+u*h,h=m)}},p.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},p.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},p.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},p.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(0==(-8192&a))},p.prototype.stub=function(e){for(var t=Array(e),r=0;r<e;r++)t[r]=0;return t},p.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=Array(n),o=Array(n),c=Array(n),u=Array(n),f=Array(n),h=Array(n),l=r.words;l.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,a,o,c,n,i),this.transform(u,a,f,h,n,i);for(var d=0;d<n;d++){var p=o[d]*f[d]-c[d]*h[d];c[d]=o[d]*h[d]+c[d]*f[d],o[d]=p}return this.conjugate(o,c,n),this.transform(o,c,l,a,n,i),this.conjugate(l,a,n),this.normalize13b(l,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=Array(this.length+e.length),d(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i=Math.max(0,i-=s),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var f=0;for(u=this.length-1;u>=0&&(0!==f||u>=i);u--){var h=0|this.words[u];this.words[u]=f<<26-a|h>>>a,f=h&o}return c&&0!==f&&(c.words[c.length++]=f),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n||!(this.words[n]&i))},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!=(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var f=n.clone()._ishlnsubmul(a,1,c);0===f.negative&&(n=f,o&&(o.words[c]=1));for(var h=c-1;h>=0;h--){var l=67108864*(0|n.words[a.length+h])+(0|n.words[a.length+h-1]);for(l=Math.min(l/s|0,67108863),n._ishlnsubmul(a,l,h);0!==n.negative;)l--,n.negative=0,n._ishlnsubmul(a,1,h),n.isZero()||(n.negative^=1);o&&(o.words[h]=l)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var f=n.clone(),h=t.clone();!t.isZero();){for(var l=0,d=1;0==(t.words[0]&d)&&l<26;++l,d<<=1);if(l>0)for(t.iushrn(l);l-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(f),s.isub(h)),a.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(f),c.isub(h)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o),s.isub(c)):(n.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,f=1;0==(t.words[0]&f)&&u<26;++u,f<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var h=0,l=1;0==(n.words[0]&l)&&h<26;++h,l<<=1);if(h>0)for(n.iushrn(h);h-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new _(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var y={k256:null,p224:null,p192:null,p25519:null};function b(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){b.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function m(){b.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){b.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function w(){b.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function _(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function k(e){_.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}b.prototype._tmp=function(){var e=new i(null);return e.words=Array(Math.ceil(this.n/13)),e},b.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):r.strip(),r},b.prototype.split=function(e,t){e.iushrn(this.n,0,t)},b.prototype.imulK=function(e){return e.imul(this.k)},n(g,b),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(m,b),n(v,b),n(w,b),w.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(y[e])return y[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new m;else if("p192"===e)t=new v;else{if("p25519"!==e)throw Error("Unknown prime "+e);t=new w}return y[e]=t,t},_.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},_.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},_.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},_.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},_.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},_.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},_.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},_.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},_.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},_.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},_.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},_.prototype.isqr=function(e){return this.imul(e,e.clone())},_.prototype.sqr=function(e){return this.mul(e,e)},_.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);r(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),f=this.m.bitLength();for(f=new i(2*f*f).toRed(this);0!==this.pow(f,u).cmp(c);)f.redIAdd(c);for(var h=this.pow(f,a),l=this.pow(e,a.addn(1).iushrn(1)),d=this.pow(e,a),p=s;0!==d.cmp(o);){for(var y=d,b=0;0!==y.cmp(o);b++)y=y.redSqr();r(b<p);var g=this.pow(h,new i(1).iushln(p-b-1));l=l.redMul(g),h=g.redSqr(),d=d.redMul(h),p=b}return l},_.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},_.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],f=c-1;f>=0;f--){var h=u>>f&1;a!==r[0]&&(a=this.sqr(a)),0!==h||0!==s?(s<<=1,s|=h,(4==++o||0===n&&0===f)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},_.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},_.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new k(e)},n(k,_),k.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},k.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},k.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},k.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},k.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,nt)})),Rl=Object.freeze({__proto__:null,default:Bl,__moduleExports:Bl});class Ul{constructor(e){if(void 0===e)throw Error("Invalid BigInteger input");this.value=new Bl(e)}clone(){const e=new Ul(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Bl(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Bl(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,t){const r=t.isEven()?Bl.red(t.value):Bl.mont(t.value),n=this.clone();return n.value=n.value.toRed(r).redPow(e.value).fromRed(),n}modInv(e){if(!this.gcd(e).isOne())throw Error("Inverse does not exist");return new Ul(this.value.invm(e.value))}gcd(e){return new Ul(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Bl(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",t){return this.value.toArrayLike(Uint8Array,e,t)}}var Il,Tl=Object.freeze({__proto__:null,default:Ul}),Dl=it((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16));else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Kl=it((function(e,t){var r=t;r.assert=tt,r.toArray=Dl.toArray,r.zero2=Dl.zero2,r.toHex=Dl.toHex,r.encode=Dl.encode,r.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var a;if(i.isOdd()){var s=i.andln(n-1);a=s>(n>>1)-1?(n>>1)-s:s,i.isubn(a)}else a=0;r.push(a);for(var o=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<o;c++)r.push(0);i.iushrn(o)}return r},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,s,o,c=e.andln(3)+n&3,u=t.andln(3)+i&3;3===c&&(c=-1),3===u&&(u=-1),a=0==(1&c)?0:3!=(o=e.andln(7)+n&7)&&5!==o||2!==u?c:-c,r[0].push(a),s=0==(1&u)?0:3!=(o=t.andln(7)+i&7)&&5!==o||2!==c?u:-u,r[1].push(s),2*n===a+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new Bl(e,"hex","le")}})),Ol=function(e){return Il||(Il=new zl(null)),Il.generate(e)};function zl(e){this.rand=e}var jl=zl;if(zl.prototype.generate=function(e){return this._rand(e)},zl.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?zl.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?zl.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(zl.prototype._rand=function(){throw Error("Not implemented yet")});else try{if("function"!=typeof(void 0).randomBytes)throw Error("Not supported");zl.prototype._rand=function(e){return(void 0).randomBytes(e)}}catch(n){}Ol.Rand=jl;var Fl=Kl.getNAF,Ll=Kl.getJSF,ql=Kl.assert;function Nl(e,t){this.type=e,this.p=new Bl(t.p,16),this.red=t.prime?Bl.red(t.prime):Bl.mont(this.p),this.zero=new Bl(0).toRed(this.red),this.one=new Bl(1).toRed(this.red),this.two=new Bl(2).toRed(this.red),this.n=t.n&&new Bl(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=[,,,,],this._wnafT2=[,,,,],this._wnafT3=[,,,,],this._wnafT4=[,,,,];var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Wl=Nl;function Hl(e,t){this.curve=e,this.type=t,this.precomputed=null}Nl.prototype.point=function(){throw Error("Not implemented")},Nl.prototype.validate=function(){throw Error("Not implemented")},Nl.prototype._fixedNafMul=function(e,t){ql(e.precomputed);var r=e._getDoubles(),n=Fl(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],s=0;s<n.length;s+=r.step){var o=0;for(t=s+r.step-1;t>=s;t--)o=(o<<1)+n[t];a.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),f=i;f>0;f--){for(s=0;s<a.length;s++)(o=a[s])===f?u=u.mixedAdd(r.points[s]):o===-f&&(u=u.mixedAdd(r.points[s].neg()));c=c.add(u)}return c.toP()},Nl.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Fl(t,r),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(t=0;o>=0&&0===a[o];o--)t++;if(o>=0&&t++,s=s.dblp(t),o<0)break;var c=a[o];ql(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},Nl.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,s=this._wnafT2,o=this._wnafT3,c=0,u=0;u<n;u++){var f=(A=t[u])._getNAFPoints(e);a[u]=f.wnd,s[u]=f.points}for(u=n-1;u>=1;u-=2){var h=u-1,l=u;if(1===a[h]&&1===a[l]){var d=[t[h],null,null,t[l]];0===t[h].y.cmp(t[l].y)?(d[1]=t[h].add(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg())):0===t[h].y.cmp(t[l].y.redNeg())?(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].add(t[l].neg())):(d[1]=t[h].toJ().mixedAdd(t[l]),d[2]=t[h].toJ().mixedAdd(t[l].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],y=Ll(r[h],r[l]);c=Math.max(y[0].length,c),o[h]=Array(c),o[l]=Array(c);for(var b=0;b<c;b++){var g=0|y[0][b],m=0|y[1][b];o[h][b]=p[3*(g+1)+(m+1)],o[l][b]=0,s[h]=d}}else o[h]=Fl(r[h],a[h]),o[l]=Fl(r[l],a[l]),c=Math.max(o[h].length,c),c=Math.max(o[l].length,c)}var v=this.jpoint(null,null,null),w=this._wnafT4;for(u=c;u>=0;u--){for(var _=0;u>=0;){var k=!0;for(b=0;b<n;b++)w[b]=0|o[b][u],0!==w[b]&&(k=!1);if(!k)break;_++,u--}if(u>=0&&_++,v=v.dblp(_),u<0)break;for(b=0;b<n;b++){var A,S=w[b];0!==S&&(S>0?A=s[b][S-1>>1]:S<0&&(A=s[b][-S-1>>1].neg()),v="affine"===A.type?v.mixedAdd(A):v.add(A))}}for(u=0;u<n;u++)s[u]=null;return i?v:v.toP()},Nl.BasePoint=Hl,Hl.prototype.eq=function(){throw Error("Not implemented")},Hl.prototype.validate=function(){return this.curve.validate(this)},Nl.prototype.decodePoint=function(e,t){e=Kl.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?ql(e[e.length-1]%2==0):7===e[0]&&ql(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw Error("Unknown point format")},Hl.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Hl.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Hl.prototype.encode=function(e,t){return Kl.encode(this._encode(t),e)},Hl.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Hl.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Hl.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Hl.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Hl.prototype._getBeta=function(){return null},Hl.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var $l=Kl.assert;function Vl(e){Wl.call(this,"short",e),this.a=new Bl(e.a,16).toRed(this.red),this.b=new Bl(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=[,,,,],this._endoWnafT2=[,,,,]}at(Vl,Wl);var Gl=Vl;function Yl(e,t,r,n){Wl.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new Bl(t,16),this.y=new Bl(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function Zl(e,t,r,n){Wl.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new Bl(0)):(this.x=new Bl(t,16),this.y=new Bl(r,16),this.z=new Bl(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function Xl(e){Wl.call(this,"mont",e),this.a=new Bl(e.a,16).toRed(this.red),this.b=new Bl(e.b,16).toRed(this.red),this.i4=new Bl(4).toRed(this.red).redInvm(),this.two=new Bl(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}Vl.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new Bl(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new Bl(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],$l(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new Bl(e.a,16),b:new Bl(e.b,16)}})):this._getEndoBasis(r)}}},Vl.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:Bl.mont(e),r=new Bl(2).toRed(t).redInvm(),n=r.redNeg(),i=new Bl(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},Vl.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,c,u,f=this.n.ushrn(Math.floor(this.n.bitLength()/2)),h=e,l=this.n.clone(),d=new Bl(1),p=new Bl(0),y=new Bl(0),b=new Bl(1),g=0;0!==h.cmpn(0);){var m=l.div(h);c=l.sub(m.mul(h)),u=y.sub(m.mul(d));var v=b.sub(m.mul(p));if(!n&&c.cmp(f)<0)t=o.neg(),r=d,n=c.neg(),i=u;else if(n&&2==++g)break;o=c,l=h,h=c,y=d,d=u,b=p,p=v}a=c.neg(),s=u;var w=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(w)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a,b:s}]},Vl.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),c=i.mul(r.b),u=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},Vl.prototype.pointFromX=function(e,t){(e=new Bl(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},Vl.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},Vl.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*a]=o,n[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*a,r),f=0;f<2*a;f++)n[f]=null,i[f]=null;return u},at(Yl,Wl.BasePoint),Vl.prototype.point=function(e,t,r){return new Yl(this,e,t,r)},Vl.prototype.pointFromJSON=function(e,t){return Yl.fromJSON(this,e,t)},Yl.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},Yl.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},Yl.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},Yl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},Yl.prototype.isInfinity=function(){return this.inf},Yl.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},Yl.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},Yl.prototype.getX=function(){return this.x.fromRed()},Yl.prototype.getY=function(){return this.y.fromRed()},Yl.prototype.mul=function(e){return e=new Bl(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},Yl.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},Yl.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},Yl.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},Yl.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},Yl.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},at(Zl,Wl.BasePoint),Vl.prototype.jpoint=function(e,t,r){return new Zl(this,e,t,r)},Zl.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},Zl.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},Zl.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),f=u.redMul(o),h=n.redMul(u),l=c.redSqr().redIAdd(f).redISub(h).redISub(h),d=c.redMul(h.redISub(l)).redISub(a.redMul(f)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(l,d,p)},Zl.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),f=r.redMul(c),h=o.redSqr().redIAdd(u).redISub(f).redISub(f),l=o.redMul(f.redISub(h)).redISub(i.redMul(u)),d=this.z.redMul(s);return this.curve.jpoint(h,l,d)},Zl.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var f=a.redSqr(),h=u.redSqr(),l=h.redSqr(),d=f.redAdd(f).redIAdd(f).redIAdd(n.redMul(c)),p=a.redMul(h),y=d.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),g=d.redMul(b);g=g.redIAdd(g).redISub(l);var m=u.redMul(o);r+1<e&&(c=c.redMul(l)),a=y,o=m,u=g}return this.curve.jpoint(a,u.redMul(i),o)},Zl.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},Zl.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.x.redSqr(),h=this.y.redSqr(),l=h.redSqr(),d=this.x.redAdd(h).redSqr().redISub(f).redISub(l);d=d.redIAdd(d);var p=f.redAdd(f).redIAdd(f),y=p.redSqr(),b=l.redIAdd(l);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(d).redISub(d),t=p.redMul(d.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},Zl.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var f=this.z.redSqr(),h=this.y.redSqr(),l=this.x.redMul(h),d=this.x.redSub(f).redMul(this.x.redAdd(f));d=d.redAdd(d).redIAdd(d);var p=l.redIAdd(l),y=(p=p.redIAdd(p)).redAdd(p);e=d.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(h).redISub(f);var b=h.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=d.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},Zl.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),f=o.redSqr().redISub(u.redAdd(u)),h=u.redISub(f),l=s.redSqr();l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=o.redMul(h).redISub(l),p=r.redAdd(r).redMul(n);return this.curve.jpoint(f,d,p)},Zl.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),f=t.redMul(u);f=(f=f.redIAdd(f)).redIAdd(f);var h=this.x.redMul(o).redISub(f);h=(h=h.redIAdd(h)).redIAdd(h);var l=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));l=(l=(l=l.redIAdd(l)).redIAdd(l)).redIAdd(l);var d=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(h,l,d)},Zl.prototype.mul=function(e,t){return e=new Bl(e,t),this.curve._wnafMul(this,e)},Zl.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},Zl.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},Zl.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},Zl.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},at(Xl,Wl);var Jl=Xl;function Ql(e,t,r){Wl.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new Bl(t,16),this.z=new Bl(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}Xl.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},at(Ql,Wl.BasePoint),Xl.prototype.decodePoint=function(e,t){if(33===(e=Kl.toArray(e,t)).length&&64===e[0]&&(e=e.slice(1,33).reverse()),32!==e.length)throw Error("Unknown point compression format");return this.point(e,1)},Xl.prototype.point=function(e,t){return new Ql(this,e,t)},Xl.prototype.pointFromJSON=function(e){return Ql.fromJSON(this,e)},Ql.prototype.precompute=function(){},Ql.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},Ql.fromJSON=function(e,t){return new Ql(e,t[0],t[1]||e.one)},Ql.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},Ql.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Ql.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},Ql.prototype.add=function(){throw Error("Not supported on Montgomery curve")},Ql.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=i.redMul(n),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},Ql.prototype.mul=function(e){for(var t=(e=new Bl(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},Ql.prototype.mulAdd=function(){throw Error("Not supported on Montgomery curve")},Ql.prototype.jumlAdd=function(){throw Error("Not supported on Montgomery curve")},Ql.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},Ql.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},Ql.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var ed=Kl.assert;function td(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Wl.call(this,"edwards",e),this.a=new Bl(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new Bl(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new Bl(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),ed(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}at(td,Wl);var rd=td;function nd(e,t,r,n,i){Wl.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new Bl(t,16),this.y=new Bl(r,16),this.z=n?new Bl(n,16):this.curve.one,this.t=i&&new Bl(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}td.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},td.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},td.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},td.prototype.pointFromX=function(e,t){(e=new Bl(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},td.prototype.pointFromY=function(e,t){(e=new Bl(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},td.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},at(nd,Wl.BasePoint),td.prototype.pointFromJSON=function(e){return nd.fromJSON(this,e)},td.prototype.point=function(e,t,r,n){return new nd(this,e,t,r,n)},nd.fromJSON=function(e,t){return new nd(e,t[0],t[1],t[2])},nd.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},nd.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},nd.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),s=a.redSub(r),o=n.redSub(t),c=i.redMul(s),u=a.redMul(o),f=i.redMul(o),h=s.redMul(a);return this.curve.point(c,u,h,f)},nd.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(a);if(this.zOne)e=n.redSub(i).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),c=s.redSub(o).redISub(o);e=n.redSub(i).redISub(a).redMul(c),t=s.redMul(u.redSub(a)),r=s.redMul(c)}}else{var u=i.redAdd(a);o=this.curve._mulC(this.z).redSqr(),c=u.redSub(o).redSub(o),e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(a)),r=u.redMul(c)}return this.curve.point(e,t,r)},nd.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},nd.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=a.redMul(s),f=o.redMul(c),h=a.redMul(c),l=s.redMul(o);return this.curve.point(u,f,l,h)},nd.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),u=i.redAdd(o),f=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),h=n.redMul(c).redMul(f);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(u)),this.curve.point(h,t,r)},nd.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},nd.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},nd.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},nd.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},nd.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},nd.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},nd.prototype.getX=function(){return this.normalize(),this.x.fromRed()},nd.prototype.getY=function(){return this.normalize(),this.y.fromRed()},nd.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},nd.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},nd.prototype.toP=nd.prototype.normalize,nd.prototype.mixedAdd=nd.prototype.add;var id=it((function(e,t){var r=t;r.base=Wl,r.short=Gl,r.mont=Jl,r.edwards=rd})),ad=ut.rotl32,sd=ut.sum32,od=ut.sum32_5,cd=function(e,t,r,n){return 0===e?pt(t,r,n):1===e||3===e?function(e,t,r){return e^t^r}(t,r,n):2===e?yt(t,r,n):void 0},ud=lt.BlockHash,fd=[1518500249,1859775393,2400959708,3395469782];function hd(){if(!(this instanceof hd))return new hd;ud.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=Array(80)}ut.inherits(hd,ud);var ld=hd;hd.blockSize=512,hd.outSize=160,hd.hmacStrength=80,hd.padLength=64,hd.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ad(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),f=od(ad(i,5),cd(u,a,s,o),c,r[n],fd[u]);c=o,o=s,s=ad(a,30),a=i,i=f}this.h[0]=sd(this.h[0],i),this.h[1]=sd(this.h[1],a),this.h[2]=sd(this.h[2],s),this.h[3]=sd(this.h[3],o),this.h[4]=sd(this.h[4],c)},hd.prototype._digest=function(e){return"hex"===e?ut.toHex32(this.h,"big"):ut.split32(this.h,"big")};var dd={sha1:ld,sha224:Ut,sha256:Bt,sha384:or,sha512:Vt};function pd(e,t,r){if(!(this instanceof pd))return new pd(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(ut.toArray(t,r))}var yd=pd;pd.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),tt(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},pd.prototype.update=function(e,t){return this.inner.update(e,t),this},pd.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var bd=it((function(e,t){var r=t;r.utils=ut,r.common=lt,r.sha=dd,r.ripemd=kr,r.hmac=yd,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),gd={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},md=it((function(e,t){var r,n=t,i=Kl.assert;function a(e){if("short"===e.type)this.curve=new id.short(e);else if("edwards"===e.type)this.curve=new id.edwards(e);else{if("mont"!==e.type)throw Error("Unknown curve type.");this.curve=new id.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:bd.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:bd.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:bd.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:bd.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:bd.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:bd.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:bd.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),s("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:bd.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),s("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:bd.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),s("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:bd.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=gd}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:bd.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function vd(e){if(!(this instanceof vd))return new vd(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=Dl.toArray(e.entropy,e.entropyEnc||"hex"),r=Dl.toArray(e.nonce,e.nonceEnc||"hex"),n=Dl.toArray(e.pers,e.persEnc||"hex");tt(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var wd=vd;vd.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=Array(this.outLen/8),this.V=Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},vd.prototype._hmac=function(){return new bd.hmac(this.hash,this.K)},vd.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},vd.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=Dl.toArray(e,t),r=Dl.toArray(r,n),tt(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},vd.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=Dl.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,Dl.encode(a,t)};var _d=Kl.assert;function kd(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Ad=kd;kd.fromPublic=function(e,t,r){return t instanceof kd?t:new kd(e,{pub:t,pubEnc:r})},kd.fromPrivate=function(e,t,r){return t instanceof kd?t:new kd(e,{priv:t,privEnc:r})},kd.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},kd.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},kd.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},kd.prototype._importPrivate=function(e,t){if(this.priv=new Bl(e,t||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},kd.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?_d(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||_d(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},kd.prototype.derive=function(e){return e.mul(this.priv).getX()},kd.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},kd.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},kd.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Sd=Kl.assert;function Ed(e,t){if(e instanceof Ed)return e;this._importDER(e,t)||(Sd(e.r&&e.s,"Signature without r or s"),this.r=new Bl(e.r,16),this.s=new Bl(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var xd=Ed;function Pd(){this.place=0}function Cd(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s];return t.place=s,i}function Md(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function Bd(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Ed.prototype._importDER=function(e,t){e=Kl.toArray(e,t);var r=new Pd;if(48!==e[r.place++])return!1;if(Cd(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=Cd(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var a=Cd(e,r);if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new Bl(i),this.s=new Bl(s),this.recoveryParam=null,!0},Ed.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=Md(t),r=Md(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];Bd(n,t.length),(n=n.concat(t)).push(2),Bd(n,r.length);var i=n.concat(r),a=[48];return Bd(a,i.length),a=a.concat(i),Kl.encode(a,e)};var Rd=Kl.assert;function Ud(e){if(!(this instanceof Ud))return new Ud(e);"string"==typeof e&&(Rd(md.hasOwnProperty(e),"Unknown curve "+e),e=md[e]),e instanceof md.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Id=Ud;Ud.prototype.keyPair=function(e){return new Ad(this,e)},Ud.prototype.keyFromPrivate=function(e,t){return Ad.fromPrivate(this,e,t)},Ud.prototype.keyFromPublic=function(e,t){return Ad.fromPublic(this,e,t)},Ud.prototype.genKeyPair=function(e){e||(e={});var t=new wd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ol(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new Bl(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new Bl(2));;)if(!((r=new Bl(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)},Ud.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Ud.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new Bl(e,16),!1,t)):"string"==typeof e?(t=4*e.length,e=this._truncateToN(new Bl(e,16),!1,t)):e=this._truncateToN(new Bl(e,16)),e},Ud.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new wd({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new Bl(1)),u=0;;u++){var f=n.k?n.k(u):new Bl(o.generate(this.n.byteLength()));if(!((f=this._truncateToN(f,!0)).cmpn(1)<=0||f.cmp(c)>=0)){var h=this.g.mul(f);if(!h.isInfinity()){var l=h.getX(),d=l.umod(this.n);if(0!==d.cmpn(0)){var p=f.invm(this.n).mul(d.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(h.getY().isOdd()?1:0)|(0!==l.cmp(d)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new xd({r:d,s:p,recoveryParam:y})}}}}}},Ud.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new xd(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new Bl(e,16)),t,r)},Ud.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var a,s=i.invm(this.n),o=s.mul(e).umod(this.n),c=s.mul(n).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&a.eqXToP(n):!(a=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(n)},Ud.prototype.recoverPubKey=function(e,t,r,n){Rd((3&r)===r,"The recovery param is more than two bits"),t=new xd(t,n);var i=this.n,a=new Bl(e),s=t.r,o=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var f=t.r.invm(i),h=i.sub(a).mul(f).umod(i),l=o.mul(f).umod(i);return this.g.mulAdd(h,s,l)},Ud.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new xd(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw Error("Unable to find valid recovery factor")};var Td=Kl.assert,Dd=Kl.parseBytes,Kd=Kl.cachedProperty;function Od(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=Dd(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=Dd(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw Error("Unknown point compression format")}Od.fromPublic=function(e,t){return t instanceof Od?t:new Od(e,{pub:t})},Od.fromSecret=function(e,t){return t instanceof Od?t:new Od(e,{secret:t})},Od.prototype.secret=function(){return this._secret},Kd(Od,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Kd(Od,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Kd(Od,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Kd(Od,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Kd(Od,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Kd(Od,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Od.prototype.sign=function(e){return Td(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Od.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Od.prototype.getSecret=function(e){return Td(this._secret,"KeyPair is public only"),Kl.encode(this.secret(),e)},Od.prototype.getPublic=function(e,t){return Kl.encode((t?[64]:[]).concat(this.pubBytes()),e)};var zd=Od,jd=Kl.assert,Fd=Kl.cachedProperty,Ld=Kl.parseBytes;function qd(e,t){this.eddsa=e,"object"!=typeof t&&(t=Ld(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),jd(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof Bl&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Fd(qd,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Fd(qd,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Fd(qd,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Fd(qd,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),qd.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},qd.prototype.toHex=function(){return Kl.encode(this.toBytes(),"hex").toUpperCase()};var Nd=qd,Wd=Kl.assert,Hd=Kl.parseBytes;function $d(e){if(Wd("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof $d))return new $d(e);e=md[e].curve,this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=bd.sha512}var Vd=$d;$d.prototype.sign=function(e,t){e=Hd(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},$d.prototype.verify=function(e,t,r){e=Hd(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},$d.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Kl.intFromLE(e.digest()).umod(this.curve.n)},$d.prototype.keyPair=function(e){return new zd(this,e)},$d.prototype.keyFromPublic=function(e){return zd.fromPublic(this,e)},$d.prototype.keyFromSecret=function(e){return zd.fromSecret(this,e)},$d.prototype.genKeyPair=function(e){e||(e={});var t=new wd({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Ol(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},$d.prototype.makeSignature=function(e){return e instanceof Nd?e:new Nd(this,e)},$d.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},$d.prototype.decodePoint=function(e){var t=(e=Kl.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=Kl.intFromLE(r);return this.curve.pointFromY(i,n)},$d.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},$d.prototype.decodeInt=function(e){return Kl.intFromLE(e)},$d.prototype.isPoint=function(e){return e instanceof this.pointClass};var Gd=it((function(e,t){var r=t;r.utils=Kl,r.rand=Ol,r.curve=id,r.curves=md,r.ec=Id,r.eddsa=Vd})),Yd=Object.freeze({__proto__:null,default:Gd,__moduleExports:Gd})}},t={};function r(n){var i=t[n];if(void 0!==i)return i.exports;var a=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(a.exports,a,a.exports,r),a.loaded=!0,a.exports}r.d=(e,t)=>{for(var n in t)r.o(t,n)&&!r.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"==typeof window)return window}}(),r.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),r.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.nmd=e=>(e.paths=[],e.children||(e.children=[]),e);var n=r(5949);module.exports.SAMRClient=n})();